(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9dff018e","chunk-96aef822","chunk-54dc5232","chunk-e9f73f08","chunk-2d0e19c3"],{"0015":function(e,t,a){},"002c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期查询：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","picker-options":e.pickerOptions,"value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择服务器")])],1),a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入",size:"small"},model:{value:e.playerId,callback:function(t){e.playerId=e._n(t)},expression:"playerId"}})],1),a("div",[a("span",[e._v("流水事件类型：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",size:"small"},model:{value:e.waterEvent,callback:function(t){e.waterEvent=t},expression:"waterEvent"}},e._l(e.waterOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.mailData,"header-cell-style":e.rowClass,"cell-style":{"text-align":"center"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"日志ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"oriMailId",label:"原邮件ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerId",label:"玩家ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerName",label:"玩家名字","min-width":"150"}}),a("el-table-column",{attrs:{prop:"template",label:"邮件模板ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"titleArgs",label:"标题参数","min-width":"150"}}),a("el-table-column",{attrs:{prop:"contentArgs",label:"内容参数","min-width":"150"}}),a("el-table-column",{attrs:{prop:"attachment",label:"附件","min-width":"250"}}),a("el-table-column",{attrs:{prop:"read",label:"是否已读","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.read?"是":"否")+" ")]}}])}),a("el-table-column",{attrs:{prop:"receive",label:"是否已领","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.receive?"是":"否")+" ")]}}])}),a("el-table-column",{attrs:{prop:"expireTime",label:"到期时间","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.expireTime)))]}}])}),a("el-table-column",{attrs:{label:"游戏事件"}},[a("el-table-column",{attrs:{prop:"gameCause","min-width":"150"}}),a("el-table-column",{attrs:{prop:"gameCauseText","min-width":"250"}})],1),a("el-table-column",{attrs:{prop:"fromPoolId",label:"来自哪个系统邮件","min-width":"200"}}),a("el-table-column",{attrs:{prop:"time",label:"发生时间","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.time)))]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("ServerDialog",{attrs:{visible:e.dialogVisible,"server-options":e.serverOptions},on:{"update:visible":function(t){e.dialogVisible=t},checkedId:e.getCheckedServer}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("d3b7"),a("e1f6")),s=a("5611"),c=a("bd39"),u=a("b6a2"),d={components:{ServerDialog:o["default"]},data:function(){return{total:0,mailData:[],currentPage:1,pageSize:200,tableHeight:0,playerId:"",date:[(new Date).setDate(1),new Date],pickerOptions:{disabledDate:function(e){var t=(new Date).getMonth(),a=(new Date).getFullYear();return e.getMonth()!==t||e.getFullYear()!==a}},serverUid:"",serverOptions:[],dialogVisible:!1,serverText:"",waterEvent:"",waterOptions:[]}},created:function(){this.getWater(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},getCheckedServer:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:""},getWater:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["waterEventOpt"])();case 2:a=t.sent,e.waterOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.handleInquire()},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.playerId&&(a.playerId=e.playerId),e.waterEvent&&(a.cause=e.waterEvent),e.serverText){t.next=9;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=15;break;case 9:return a.serverUid=e.serverUid,t.next=12,Object(s["mailLogs"])(a);case 12:r=t.sent,e.total=r.data.data.count,e.mailData=r.data.data.data;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300},rowClass:function(e){var t=e.rowIndex;if(1===t)return{display:"none"}}}},p=d,f=(a("c3c6"),a("2877")),b=Object(f["a"])(p,r,n,!1,null,"aba447dc",null);t["default"]=b.exports},"007d":function(e,t,a){"use strict";a("d2a5")},"0114":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.radioDialog=!0}}},[e._v("选择服务器")])],1),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.gameSumData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"日志ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"dateStr",label:"日期","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("formatTime")(t.row.dateStr))+" ")]}}])}),a("el-table-column",{attrs:{prop:"playerNum",label:"总玩家数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"newPlayerNum",label:"新玩家数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"loginPlayerNum",label:"登录玩家数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"loginNum",label:"登录次数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"oldLoginNum",label:"去新登录玩家数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"rechargeNum",label:"充值金额 (单位：元)","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.rechargeNum/100)+" ")]}}])}),a("el-table-column",{attrs:{prop:"rechargePlayerNum",label:"充值人数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"rechargeForDiamond",label:"直购钻石金额 (单位：元)","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.rechargeForDiamond/100)+" ")]}}])})],1)],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1),a("ServerDialog",{attrs:{visible:e.radioDialog,"server-options":e.serverOptions},on:{"update:visible":function(t){e.radioDialog=t},checkedId:e.handleCheckedId}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("d3b7"),a("e1f6")),s=a("2b44"),c=a("bd39"),u={components:{ServerDialog:o["default"]},data:function(){return{gameSumData:[],total:0,currentPage:1,pageSize:200,tableHeight:0,date:[(new Date).setDate(1),new Date],serverUid:"",serverOptions:[],radioDialog:!1,serverText:""}},created:function(){this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:"",this.radioDialog=!1},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.serverText){t.next=7;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=13;break;case 7:return a.serverUid=e.serverUid,t.next=10,Object(s["gameSum"])(a);case 10:r=t.sent,e.gameSumData=r.data.data.data,e.total=r.data.data.count;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},changePage:function(e){this.currentPage=e,this.handleSearch()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},d=u,p=(a("205b"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"6f311cd6",null);t["default"]=f.exports},"0247":function(e,t,a){"use strict";a("233f")},"0276":function(e,t,a){},"039f":function(e,t,a){"use strict";a("6c2a")},"046b":function(e,t,a){},"04dd":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("资源类型：")]),a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.resourceType,callback:function(t){e.resourceType=e._n(t)},expression:"resourceType"}},[a("el-option",{attrs:{value:2,label:"钻石"}}),a("el-option",{attrs:{value:1,label:"金币"}}),a("el-option",{attrs:{value:5,label:"肉"}}),a("el-option",{attrs:{value:4,label:"木材"}}),a("el-option",{attrs:{value:6,label:"矿石"}})],1)],1),a("div",[a("span",[e._v("消费类型：")]),a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.consumeType,callback:function(t){e.consumeType=e._n(t)},expression:"consumeType"}},[a("el-option",{attrs:{value:1,label:"消耗"}}),a("el-option",{attrs:{value:2,label:"产出"}})],1)],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.radioDialog=!0}}},[e._v("选择服务器")])],1),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.consumeSumData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"index",label:"序号","min-width":"100"}}),a("el-table-column",{attrs:{prop:"gameCause",label:"流水类型编号","min-width":"120"}}),a("el-table-column",{attrs:{prop:"gameCauseTxt",label:"流水类型名称","min-width":"160"}}),a("el-table-column",{attrs:{prop:"resourceType",label:"资源类型","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getType(t.row.resourceType))+" ")]}}])}),a("el-table-column",{attrs:{prop:"consumeType",label:"消费类型","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1==t.row.consumeType?"消耗":"产出")+" ")]}}])}),a("el-table-column",{attrs:{prop:"playerNum",label:"消费人数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"countNum",label:"消费次数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"total",label:"消费总数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"avg",label:"平均消费数","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.avg))+" ")]}}])}),a("el-table-column",{attrs:{prop:"weight",label:"占比","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(100*t.row.weight))+"% ")]}}])})],1)],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1),a("ServerDialog",{attrs:{visible:e.radioDialog,"server-options":e.serverOptions},on:{"update:visible":function(t){e.radioDialog=t},checkedId:e.handleCheckedId}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("b680"),a("d3b7"),a("e1f6")),s=a("2b44"),c=a("bd39"),u={1:"金币",2:"钻石",4:"木材",5:"肉",6:"矿石"},d={components:{ServerDialog:o["default"]},data:function(){return{consumeSumData:[],total:0,currentPage:1,pageSize:200,tableHeight:0,date:[(new Date).setDate(1),new Date],serverUid:"",serverOptions:[],radioDialog:!1,serverText:"",resourceType:2,consumeType:1}},created:function(){this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:"",this.radioDialog=!1},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.resourceType&&(a.resourceType=e.resourceType),e.consumeType&&(a.consumeType=e.consumeType),e.serverText){t.next=9;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=15;break;case 9:return a.serverUid=e.serverUid,t.next=12,Object(s["consumeSum"])(a);case 12:r=t.sent,e.consumeSumData=r.data.data.data,e.total=r.data.data.count;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))()},changePage:function(e){this.currentPage=e,this.handleInquire()},getType:function(e){return u[e]},formatNumber:function(e){return(parseInt(100*e)/100).toFixed(2)},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},p=d,f=(a("c7db"),a("2877")),b=Object(f["a"])(p,r,n,!1,null,"6acd7754",null);t["default"]=b.exports},"0773":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.userLogData,height:e.tableHeight,"header-cell-style":{background:"#f5f7fa"}}},[a("el-table-column",{attrs:{prop:"id",label:"唯一ID"}}),a("el-table-column",{attrs:{prop:"userId",label:"用户ID"}}),a("el-table-column",{attrs:{prop:"userName",label:"用户名称"}}),a("el-table-column",{attrs:{prop:"requestUrl",label:"请求地址"}}),a("el-table-column",{attrs:{prop:"param",label:"操作参数"}}),a("el-table-column",{attrs:{prop:"time",label:"操作时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.time)))]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)])],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("45db"),s={data:function(){return{currentPage:1,pageSize:200,total:0,userLogData:[],tableHeight:0}},created:function(){this.getUserLog()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getUserLog:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["userLog"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.userLogData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.getUserLog()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("118b"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"202377d2",null);t["default"]=d.exports},"0a16":function(e,t,a){},"0a3c6":function(e,t,a){"use strict";a("67bb")},"0cc1":function(e,t,a){"use strict";a("4c66")},"0ce7":function(e,t,a){"use strict";a("4aec")},"0e62":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.radioDialog=!0}}},[e._v("选择服务器")])],1),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("el-table",{ref:"table",attrs:{border:"",data:e.taskDotData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"taskId",label:"任务ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"taskName",label:"任务名称","min-width":"120"}}),a("el-table-column",{attrs:{prop:"startNum",label:"接取人数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"finishNum",label:"完成人数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"finishRate",label:"完成率","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.finishNum/t.row.startNum*100))+"% ")]}}])})],1),a("ServerDialog",{attrs:{visible:e.radioDialog,"server-options":e.serverOptions},on:{"update:visible":function(t){e.radioDialog=t},checkedId:e.handleCheckedId}})],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("b680"),a("d3b7"),a("e1f6")),s=a("bd39"),c=a("2b44"),u={components:{ServerDialog:o["default"]},data:function(){return{taskDotData:[],tableHeight:0,serverText:"",radioDialog:!1,serverOptions:[],serverUid:""}},created:function(){this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:"",this.radioDialog=!1},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.serverText){t.next=4;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=8;break;case 4:return t.next=6,Object(c["taskDot"])({serverUid:e.serverUid});case 6:a=t.sent,e.taskDotData=a.data.data.data;case 8:case"end":return t.stop()}}),t)})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-140:this.tableHeight=300},formatNumber:function(e){return e.toFixed(2)}}},d=u,p=(a("993e"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"6db3de90",null);t["default"]=f.exports},"0f03":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("用户名：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入"},model:{value:e.userName,callback:function(t){e.userName="string"===typeof t?t.trim():t},expression:"userName"}})],1),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.userFnData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"唯一ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"userId",label:"用户ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"userName",label:"用户名","min-width":"120"}}),a("el-table-column",{attrs:{prop:"functionId",label:"功能ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"functionName",label:"功能名称","min-width":"120"}}),a("el-table-column",{attrs:{prop:"writee",label:"是否具有写权限","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.writee?"success":"info"}},[e._v(" "+e._s(t.row.writee?"是":"否")+" ")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)])],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("45db"),s={data:function(){return{total:0,currentPage:1,pageSize:200,userFnData:[],tableHeight:0,userName:""}},created:function(){this.getUserRight()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getUserRight:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["userRight"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.userFnData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={page:e.currentPage,limit:e.pageSize},e.userName&&(a.userName=e.userName),t.next=4,Object(o["userRight"])(a);case 4:r=t.sent,e.total=r.data.data.count,e.userFnData=r.data.data.data;case 7:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.getUserRight()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("b078"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"7c5c6a7a",null);t["default"]=d.exports},"118b":function(e,t,a){"use strict";a("6c95")},"13d5b":function(e,t,a){},"18ca":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期查询：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","picker-options":e.pickerOptions,"value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择服务器")])],1),a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入",size:"small"},model:{value:e.playerId,callback:function(t){e.playerId=e._n(t)},expression:"playerId"}})],1),a("div",[a("span",[e._v("流水事件类型：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",size:"small"},model:{value:e.waterEvent,callback:function(t){e.waterEvent=t},expression:"waterEvent"}},e._l(e.waterOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.heroData,"header-cell-style":e.rowClass,"cell-style":{"text-align":"center"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"日志ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerId",label:"玩家ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerName",label:"玩家名字","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingId",label:"英雄标识","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingName",label:"英雄名称","min-width":"200"}}),a("el-table-column",{attrs:{prop:"delta",label:"变化量","min-width":"150"}}),a("el-table-column",{attrs:{prop:"curr",label:"变化后的当前量","min-width":"150"}}),a("el-table-column",{attrs:{label:"游戏事件"}},[a("el-table-column",{attrs:{prop:"gameCause","min-width":"150"}}),a("el-table-column",{attrs:{prop:"gameCauseText","min-width":"250"}})],1),a("el-table-column",{attrs:{prop:"time",label:"发生时间","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.time)))]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注信息","min-width":"200"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("ServerDialog",{attrs:{visible:e.dialogVisible,"server-options":e.serverOptions},on:{"update:visible":function(t){e.dialogVisible=t},checkedId:e.getCheckedServer}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("d3b7"),a("e1f6")),s=a("5611"),c=a("bd39"),u=a("b6a2"),d={components:{ServerDialog:o["default"]},data:function(){return{total:0,heroData:[],currentPage:1,pageSize:200,tableHeight:0,date:[(new Date).setDate(1),new Date],playerId:"",pickerOptions:{disabledDate:function(e){var t=(new Date).getMonth(),a=(new Date).getFullYear();return e.getMonth()!==t||e.getFullYear()!==a}},serverUid:"",serverOptions:[],dialogVisible:!1,serverText:"",waterEvent:"",waterOptions:[]}},created:function(){this.getWater(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},getCheckedServer:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:""},getWater:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["waterEventOpt"])();case 2:a=t.sent,e.waterOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.handleInquire()},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.playerId&&(a.playerId=e.playerId),e.waterEvent&&(a.cause=e.waterEvent),e.serverText){t.next=9;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=15;break;case 9:return a.serverUid=e.serverUid,t.next=12,Object(s["heroLogs"])(a);case 12:r=t.sent,e.total=r.data.data.count,e.heroData=r.data.data.data;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300},rowClass:function(e){var t=e.rowIndex;if(1===t)return{display:"none"}}}},p=d,f=(a("9659"),a("2877")),b=Object(f["a"])(p,r,n,!1,null,"2f3ec253",null);t["default"]=b.exports},1965:function(e,t,a){},"1d1d":function(e,t,a){"use strict";a("7c9f")},"1d4a":function(e,t,a){},"1d76":function(e,t,a){"use strict";a("dc30")},"1f3c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-table",{ref:"table",attrs:{border:"",data:e.clientData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"日志ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"level",label:"日志级别","min-width":"100"}}),a("el-table-column",{attrs:{prop:"title",label:"日志标题","min-width":"100"}}),a("el-table-column",{attrs:{prop:"content",label:"日志信息","min-width":"600"}}),a("el-table-column",{attrs:{prop:"insertTime",label:"报错时间","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.insertTime)))]}}])}),a("el-table-column",{attrs:{prop:"send",label:"是否已发送给管理员","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-tag",{attrs:{type:r.send?"success":"danger"}},[e._v(" "+e._s(r.send?"是":"否")+" ")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("b6a2"),s={data:function(){return{clientData:[],total:0,currentPage:1,pageSize:200,tableHeight:0}},created:function(){this.getClientLog()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getClientLog:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["clientLog"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.clientData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.getClientLog()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=a("2877"),d=Object(u["a"])(c,r,n,!1,null,"3137dfa8",null);t["default"]=d.exports},"205b":function(e,t,a){"use strict";a("0276")},"208f":function(e,t,a){},"20f9":function(e,t,a){},"233f":function(e,t,a){},2350:function(e,t,a){},"24b6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("新增封禁")])],1),a("div",[a("span",[e._v("账户ID: ")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.openId,callback:function(t){e.openId=e._n(t)},expression:"openId"}})],1),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search",plain:""},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.bannedAccData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"唯一ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"channelId",label:"渠道ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"openId",label:"账户ID","min-width":"170"}}),a("el-table-column",{attrs:{prop:"userId",label:"操作人ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"userName",label:"操作人姓名","min-width":"150"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-delete",size:"small",type:"danger",plain:""},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("el-dialog",{attrs:{title:"新增封禁",visible:e.dialogVisible,width:"32%","modal-append-to-body":!1,center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"账户ID"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.accountId,callback:function(t){e.accountId=t},expression:"accountId"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("dd6c"),s={data:function(){return{bannedAccData:[],total:0,currentPage:1,pageSize:200,tableHeight:0,dialogVisible:!1,accountId:"",openId:""}},created:function(){this.getForbidList()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},activated:function(){this.$refs.table&&this.$refs.table.doLayout&&this.$refs.table.doLayout()},methods:{getForbidList:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["forbidList"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.bannedAccData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["addForbidList"])({openId:e.accountId});case 2:a=t.sent,0===a.data.code&&e.$message.success(a.data.message),e.closeDialog(),e.getForbidList();case 6:case"end":return t.stop()}}),t)})))()},handleDelete:function(e){var t=this;this.$confirm("你确定要删除该玩家吗?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",lockScroll:!1}).then(Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["deleteForbidListr"])({id:e});case 2:r=a.sent,0===r.data.code&&t.$message.success(r.data.message),t.getForbidList();case 5:case"end":return a.stop()}}),a)}))))},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={},e.openId&&(a.openId=e.openId),t.next=5,Object(o["forbidList"])(a);case 5:r=t.sent,e.total=r.data.data.count,e.bannedAccData=r.data.data.data,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},closeDialog:function(){this.dialogVisible=!1,this.accountId=""},changePage:function(e){this.currentPage=e,this.getForbidList()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("932f"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"1f3ebad0",null);t["default"]=d.exports},"26fc":function(e,t,a){e.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},"27a6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.radioDialog=!0}}},[e._v("选择服务器")])],1),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.payRemainData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"serverUid",label:"数据唯一ID",width:"120"}}),a("el-table-column",{attrs:{prop:"serverId",label:"服务器ID",width:"120"}}),a("el-table-column",{attrs:{prop:"serverName",label:"服务器名字",width:"120"}}),a("el-table-column",{attrs:{prop:"bornDate",label:"日期",width:"120"}}),a("el-table-column",{attrs:{prop:"dayBase",label:"账号数",width:"120"}}),a("el-table-column",{attrs:{prop:"day0",label:"当日付费留存率",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day0)+" ("+e._s(e.formatNumber(t.row.day0/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day1",label:"1日付费留存率",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day1)+" ("+e._s(e.formatNumber(t.row.day1/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day2",label:"2日付费留存率",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day2)+" ("+e._s(e.formatNumber(t.row.day2/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day3",label:"3日付费留存率",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day3)+" ("+e._s(e.formatNumber(t.row.day3/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day4",label:"4日付费留存率",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day4)+" ("+e._s(e.formatNumber(t.row.day4/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day5",label:"5日付费留存率",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day5)+" ("+e._s(e.formatNumber(t.row.day5/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day6",label:"6日付费留存率",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day6)+" ("+e._s(e.formatNumber(t.row.day6/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day7",label:"7日付费留存率",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day7)+" ("+e._s(e.formatNumber(t.row.day7/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day8",label:"8日付费留存率",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day8)+" ("+e._s(e.formatNumber(t.row.day8/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day9",label:"9日付费留存率",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day9)+" ("+e._s(e.formatNumber(t.row.day9/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day10",label:"10日付费留存率",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day10)+" ("+e._s(e.formatNumber(t.row.day10/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day11",label:"11日付费留存率",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day11)+" ("+e._s(e.formatNumber(t.row.day11/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day12",label:"12日付费留存率",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day12)+" ("+e._s(e.formatNumber(t.row.day12/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day13",label:"13日付费留存率",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day13)+" ("+e._s(e.formatNumber(t.row.day13/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day14",label:"14日付费留存率",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day14)+" ("+e._s(e.formatNumber(t.row.day14/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day30",label:"30日付费留存率",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day30)+" ("+e._s(e.formatNumber(t.row.day30/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day60",label:"60日付费留存率",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day60)+" ("+e._s(e.formatNumber(t.row.day60/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day90",label:"90日付费留存率",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day90)+" ("+e._s(e.formatNumber(t.row.day90/t.row.dayBase*100))+"%) ")]}}])})],1)],1)]),a("ServerDialog",{attrs:{visible:e.radioDialog,"server-options":e.serverOptions},on:{"update:visible":function(t){e.radioDialog=t},checkedId:e.handleCheckedId}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("b680"),a("d3b7"),a("e1f6")),s=a("2b44"),c=a("bd39"),u={components:{ServerDialog:o["default"]},data:function(){return{payRemainData:[],currentPage:1,pageSize:200,tableHeight:0,date:[(new Date).setDate(1),new Date],serverUid:"",serverOptions:[],radioDialog:!1,serverText:""}},created:function(){this.getPlayerPayRemain(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getPlayerPayRemain:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["playerPayRemain"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.payRemainData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:"",this.radioDialog=!1},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.serverText&&(a.serverUid=e.serverUid),t.next=6,Object(s["playerPayRemain"])(a);case 6:r=t.sent,e.payRemainData=r.data.data.data,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-140:this.tableHeight=300},formatNumber:function(e){return e.toFixed(2)}}},d=u,p=(a("9040"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"31b9917a",null);t["default"]=f.exports},"27b6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"420px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择服务器")])],1),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.durationData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight,"span-method":e.objectSpanMethod}},[a("el-table-column",{attrs:{prop:"date",label:"日期"}}),a("el-table-column",{attrs:{prop:"timePeriodText",label:"时间时区"}}),a("el-table-column",{attrs:{prop:"onlineNum",label:"在线人数"}}),e._e(),a("el-table-column",{attrs:{label:"占比"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.onlineNum/t.row.onlineBase*100))+"% ")]}}])})],1)],1)]),a("ServerDialog",{attrs:{visible:e.dialogVisible,"server-options":e.serverOptions},on:{"update:visible":function(t){e.dialogVisible=t},checkedId:e.handleCheckedId}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("4de4"),a("caad"),a("a15b"),a("d81d"),a("4e82"),a("b680"),a("d3b7"),a("2532"),a("159b"),a("f958")),s=a("2b44"),c=a("bd39"),u={components:{ServerDialog:o["default"]},data:function(){return{durationData:[],tableHeight:0,date:[(new Date).setDate(1),new Date],serverUids:[],serverOptions:[],dialogVisible:!1,serverText:""}},created:function(){this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUids=e,this.serverUids.length>0?this.serverText=this.serverOptions.filter((function(e){return t.serverUids.includes(e.value)})).map((function(e){return e.text})).join("，"):this.serverText="",this.dialogVisible=!1},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.serverUids&&(a.serverUids=e.serverUids),t.next=6,Object(s["onlineTimeRatio"])(a);case 6:r=t.sent,e.durationData=r.data.data.data,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-140:this.tableHeight=300},formatNumber:function(e){return e.toFixed(2)},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(0===a){var r=this.filterData(this.durationData,a).one[t],n=r>0?1:0;return{rowspan:r,colspan:n}}},filterData:function(e,t){var a=[],r=0;return e.forEach((function(n,i){0===i?a.push(1):0===t&&(n.date===e[i-1].date?(a[r]+=1,a.push(0)):(a.push(1),r=i))})),{one:a}}}},d=u,p=(a("4a02"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"28aed819",null);t["default"]=f.exports},"2a0e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.sanQiSetData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"数据ID","min-width":"130"}}),a("el-table-column",{attrs:{prop:"platformId",label:"37平台数据ID","min-width":"130"}}),a("el-table-column",{attrs:{prop:"gameKey",label:"37提供的游戏key","min-width":"130"}}),a("el-table-column",{attrs:{prop:"loginKey",label:"登录秘钥","min-width":"270"}}),a("el-table-column",{attrs:{prop:"rechargeKey",label:"充值秘钥","min-width":"270"}}),a("el-table-column",{attrs:{prop:"chatKey",label:"聊天秘钥","min-width":"270"}}),a("el-table-column",{attrs:{prop:"wordUrl",label:"请求敏感词库地址","min-width":"270"}}),a("el-table-column",{attrs:{prop:"wordUpdateTime",label:"词库更新时间","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.wordUpdateTime)))]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"",size:"small",icon:"el-icon-edit-outline"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("el-dialog",{attrs:{title:"编辑数据",visible:e.dialogVisible,width:"35%","modal-append-to-body":!1,center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{attrs:{model:e.formData,"label-position":"right","label-width":"130px"}},[a("el-form-item",{attrs:{label:"数据ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id",t)},expression:"formData.id"}})],1),a("el-form-item",{attrs:{label:"37平台数据ID"}},[a("el-input",{model:{value:e.formData.platformId,callback:function(t){e.$set(e.formData,"platformId",e._n(t))},expression:"formData.platformId"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 认")]),a("el-button",{on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("7fb7"),s={data:function(){return{sanQiSetData:[],total:0,currentPage:1,pageSize:200,tableHeight:0,dialogVisible:!1,formData:{}}},created:function(){this.getSanQiSetList()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getSanQiSetList:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["sanQiHuYuSetting"])();case 2:a=t.sent,e.total=a.data.data.count,e.sanQiSetData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleEdit:function(e){this.formData=Object.assign({},e),this.dialogVisible=!0},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["savaSanQiHuYuSetting"])(e.formData.platformId);case 2:e.getSanQiSetList(),e.closeDialog();case 4:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.dialogVisible=!1,this.formData={}},changePage:function(e){this.currentPage=e,this.getSanQiSetList()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("8e08"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"548af896",null);t["default"]=d.exports},"2b44":function(e,t,a){"use strict";a.r(t),a.d(t,"playerLtv",(function(){return n})),a.d(t,"playerRemain",(function(){return i})),a.d(t,"playerPayRemain",(function(){return l})),a.d(t,"playerTimeLog",(function(){return o})),a.d(t,"playerOnlineLog",(function(){return s})),a.d(t,"onlineTimeRatio",(function(){return c})),a.d(t,"gameSum",(function(){return u})),a.d(t,"consumeSum",(function(){return d})),a.d(t,"loginDot",(function(){return p})),a.d(t,"taskDot",(function(){return f})),a.d(t,"guideDot",(function(){return b})),a.d(t,"recruitDot",(function(){return m})),a.d(t,"recruitRefreshDot",(function(){return h})),a.d(t,"bossDot",(function(){return g})),a.d(t,"fogDot",(function(){return v})),a.d(t,"manualTriggerLTV",(function(){return w}));var r=a("b775");function n(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/playerLtv/data.auth",method:"post",data:t})}function i(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/playerRemain/data.auth",method:"post",data:t})}function l(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/playerPayRemain/data.auth",method:"post",data:t})}function o(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/playerTimeLog/data.auth",method:"post",data:t})}function s(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/playerOnlineLog/data.auth",method:"post",data:t})}function c(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/playerScatterLog/data.auth",method:"post",data:t})}function u(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/serverResume/data.auth",method:"post",data:t})}function d(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/consume/data.auth",method:"post",data:t})}function p(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/loginDotData/data.auth",method:"post",data:t})}function f(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/taskDotData/data.auth",method:"post",data:t})}function b(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/guideDotData/data.auth",method:"post",data:t})}function m(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/recruitDotData/data.auth",method:"post",data:t})}function h(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/recruitRefreshDotData/data.auth",method:"post",data:t})}function g(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/bossDotData/data.auth",method:"post",data:t})}function v(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/fogDotData/data.auth",method:"post",data:t})}function w(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/playerLtv/manual.auth",method:"post",data:t})}},"2c1b":function(e,t,a){"use strict";a.r(t),a.d(t,"gameServer",(function(){return n})),a.d(t,"gameChannelServer",(function(){return i})),a.d(t,"gameChannel",(function(){return l})),a.d(t,"gameRegion",(function(){return o})),a.d(t,"serverOpen",(function(){return s})),a.d(t,"userChannel",(function(){return c})),a.d(t,"gameBulletin",(function(){return u})),a.d(t,"gamePlatform",(function(){return d})),a.d(t,"serverMaintain",(function(){return p})),a.d(t,"clientVersion",(function(){return f})),a.d(t,"saveGameServer",(function(){return b})),a.d(t,"saveGameChannel",(function(){return m})),a.d(t,"saveGameRegion",(function(){return h})),a.d(t,"saveGameBulletin",(function(){return g})),a.d(t,"savaGamePlatform",(function(){return v})),a.d(t,"savaClientVersion",(function(){return w})),a.d(t,"addGameChannelServer",(function(){return y})),a.d(t,"editGameChannelServer",(function(){return x})),a.d(t,"editUserChannel",(function(){return D})),a.d(t,"delGameRegion",(function(){return k})),a.d(t,"delGameChannel",(function(){return O})),a.d(t,"delGameBulletin",(function(){return _})),a.d(t,"delClientVersion",(function(){return j})),a.d(t,"setOpenTime",(function(){return S})),a.d(t,"nowOpenServer",(function(){return I})),a.d(t,"accreditOptions",(function(){return T})),a.d(t,"bulletinOptions",(function(){return $})),a.d(t,"platformOptions",(function(){return z})),a.d(t,"conductMaintain",(function(){return H})),a.d(t,"resendMaintain",(function(){return C})),a.d(t,"endMaintain",(function(){return P})),a.d(t,"resendEndMaintain",(function(){return E}));var r=a("b775");function n(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameServer/data.auth",method:"post",data:t})}function i(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameChannelServer/data.auth",method:"post",data:t})}function l(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameChannel/data.auth",method:"post",data:t})}function o(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameRegion/data.auth",method:"post",data:t})}function s(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/serverOpen/data.auth",method:"post",data:t})}function c(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/userChannel/data.auth",method:"post",data:t})}function u(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/bulletin/data.auth",method:"post",data:t})}function d(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gamePlatform/data.auth",method:"post",data:t})}function p(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameServerMaintain/data.auth",method:"post",data:t})}function f(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/clientVersion/data.auth",method:"post",data:t})}function b(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameServer/save.authw",method:"post",data:t})}function m(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameChannel/save.authw",method:"post",data:t})}function h(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameRegion/save.authw",method:"post",data:t})}function g(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/bulletin/save.authw",method:"post",data:t})}function v(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gamePlatform/save.authw",method:"post",data:t})}function w(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/clientVersion/save.authw",method:"post",data:t})}function y(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameChannelServer/save.authw",method:"post",data:t})}function x(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameChannelServer/saveToRegion.authw",method:"post",data:t})}function D(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/userChannel/save.authw",method:"post",data:t})}function k(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameRegion/delete.authw",method:"post",data:t})}function O(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameChannel/delete.authw",method:"post",data:t})}function _(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/bulletin/delete.authw",method:"post",data:t})}function j(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/clientVersion/delete.authw",method:"post",data:t})}function S(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/serverOpen/editOpenTime.authw",method:"post",data:t})}function I(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/serverOpen/openNow.authw",method:"post",data:t})}function T(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/userChannel/options.auth",method:"post",data:t})}function $(){return Object(r["default"])({url:"/bulletin/options.do",method:"post"})}function z(){return Object(r["default"])({url:"/gamePlatform/options.do",method:"post"})}function H(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameServerMaintain/maintain.authw",method:"post",data:t})}function C(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameServerMaintain/resendMaintain.authw",method:"post",data:t})}function P(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameServerMaintain/endMaintain.authw",method:"post",data:t})}function E(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameServerMaintain/resendEndMaintain.authw",method:"post",data:t})}},"2cbd":function(e,t,a){"use strict";a("64f8")},"2ce4":function(e,t,a){},"2d1d":function(e,t,a){"use strict";a("a3bc")},"2f6a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.handleAdd}},[e._v("添加渠道")]),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.channeData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"渠道ID"}}),a("el-table-column",{attrs:{prop:"name",label:"渠道名字"}}),a("el-table-column",{attrs:{prop:"bulletinId",label:"公告ID"}}),a("el-table-column",{attrs:{prop:"platformInfo",label:"平台信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.platformName)+" ["+e._s(t.row.platformId)+"] ")]}}])}),a("el-table-column",{attrs:{prop:"programVersion",label:"程序版本"}}),a("el-table-column",{attrs:{prop:"resourceVersion",label:"资源版本"}}),a("el-table-column",{attrs:{prop:"userId",label:"操作人ID"}}),a("el-table-column",{attrs:{prop:"userName",label:"操作人名字"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-edit-outline"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"small",type:"danger",plain:"",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)],1),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"35%","modal-append-to-body":!1,center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("div",{staticClass:"dialog-content"},[a("el-form",{ref:"ruleForm",attrs:{model:e.formData,"label-width":"100px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{label:"渠道ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id","string"===typeof t?t.trim():t)},expression:"formData.id"}})],1),a("el-form-item",{attrs:{label:"渠道名字",prop:"name",rules:[{required:!0,message:"请输入渠道名字",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name","string"===typeof t?t.trim():t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"公告标题"}},[a("el-select",{attrs:{clearable:"",filterable:""},model:{value:e.formData.bulletinId,callback:function(t){e.$set(e.formData,"bulletinId",t)},expression:"formData.bulletinId"}},e._l(e.bulletinOpt,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),e.isHide?a("el-form-item",{attrs:{label:"平台名称",prop:"platformId",rules:[{required:!0,message:"请选择平台",trigger:"change"}]}},[a("el-select",{attrs:{clearable:"",filterable:"",disabled:e.isDisabled},model:{value:e.formData.platformId,callback:function(t){e.$set(e.formData,"platformId",t)},expression:"formData.platformId"}},e._l(e.platformOpt,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1):e._e(),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{label:"平台信息"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:"",disabled:""},model:{value:e.formData.platformInfo,callback:function(t){e.$set(e.formData,"platformInfo",t)},expression:"formData.platformInfo"}})],1),a("el-form-item",{attrs:{label:"程序版本"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.formData.programVersion,callback:function(t){e.$set(e.formData,"programVersion",t)},expression:"formData.programVersion"}})],1),a("el-form-item",{attrs:{label:"资源版本"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.formData.resourceVersion,callback:function(t){e.$set(e.formData,"resourceVersion",t)},expression:"formData.resourceVersion"}})],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("取 消")])],1)])],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("99af"),a("2c1b")),s={data:function(){return{total:0,currentPage:1,pageSize:200,channeData:[],dialogTitle:"",dialogVisible:!1,formData:{},tableHeight:0,isShow:!1,bulletinOpt:[],platformOpt:[],isDisabled:!1,isHide:!1}},created:function(){this.getGameChannel(),this.getBulletin(),this.getPlatformList()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},activated:function(){this.$refs.table&&this.$refs.table.doLayout&&this.$refs.table.doLayout()},methods:{getGameChannel:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["gameChannel"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.channeData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleAdd:function(){this.dialogTitle="新增渠道",this.formData.id=0,this.isShow=!1,this.isHide=!0,this.dialogVisible=!0,this.isDisabled=!1},handleEdit:function(e){this.dialogTitle="编辑渠道",this.formData=Object.assign({},e),this.formData.platformInfo="".concat(e.platformName,"[").concat(e.platformId,"]"),this.isShow=!0,this.isHide=!1,this.dialogVisible=!0,this.isDisabled=!0},handleDelete:function(e){var t=this;this.$confirm("你确定要删除这条数据吗?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",lockScroll:!1}).then(Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["delGameChannel"])({channelId:e});case 2:r=a.sent,0===r.data.code&&t.$message.success(r.data.message),t.getGameChannel();case 5:case"end":return a.stop()}}),a)}))))},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.ruleForm.validate(function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(a){var r,n,l;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=15;break}if(0===e.formData.id){t.next=9;break}return r=Object.assign({},e.formData),t.next=5,Object(o["saveGameChannel"])(r);case 5:n=t.sent,0===n.data.code&&e.$message.success(n.data.message),t.next=13;break;case 9:return t.next=11,Object(o["saveGameChannel"])(e.formData);case 11:l=t.sent,0===l.data.code&&e.$message.success(l.data.message);case 13:e.getGameChannel(),e.closeDialog();case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.dialogVisible=!1,this.formData={},this.$refs.ruleForm.clearValidate()},getBulletin:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["bulletinOptions"])();case 2:a=t.sent,e.bulletinOpt=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},getPlatformList:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["platformOptions"])();case 2:a=t.sent,e.platformOpt=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.getGameChannel()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("749c"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"4e59c664",null);t["default"]=d.exports},"2f9f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-button",{attrs:{icon:"el-icon-refresh",type:"primary",size:"small"},on:{click:e.handleUpdate}},[e._v("从服务器更新道具数据")]),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.propsData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"道具ID"}}),a("el-table-column",{attrs:{prop:"name",label:"道具名"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("b6a2"),s={data:function(){return{propsData:[],total:0,currentPage:1,pageSize:200,tableHeight:0}},created:function(){this.getPropsConfig()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getPropsConfig:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["propsConfig"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.propsData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleUpdate:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["updateGameProps"])();case 2:a=t.sent,0===a.data.code?e.$message.success("更新成功"):e.$message.error("更新失败");case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.getPropsConfig()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=a("2877"),d=Object(u["a"])(c,r,n,!1,null,"0400af9f",null);t["default"]=d.exports},"2fc7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"header"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.handleAdd}},[e._v("添加渠道大区")]),a("div",{staticClass:"ditch"},[a("span",[e._v("渠道：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:""},model:{value:e.headerChannel,callback:function(t){e.headerChannel=t},expression:"headerChannel"}},e._l(e.channelOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-button",{attrs:{size:"small",icon:"el-icon-search",plain:"",type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.gameRegionData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[e._e(),a("el-table-column",{attrs:{label:"渠道信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.channelName)+" ["+e._s(t.row.channelId)+"] ")]}}])}),a("el-table-column",{attrs:{prop:"regionId",label:"大区ID"}}),a("el-table-column",{attrs:{prop:"name",label:"大区名称"}}),a("el-table-column",{attrs:{prop:"serverType",label:"服务器类型"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-tag",{attrs:{type:1===r.serverType?"warning":2===r.serverType?"danger":"success"}},[e._v(" "+e._s(1===r.serverType?"测试":2===r.serverType?"审核":"正式")+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-edit-outline"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"small",type:"danger",plain:"",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"35%",center:"","modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{ref:"ruleForm",attrs:{model:e.formData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"渠道选择"}},[a("el-select",{attrs:{placeholder:"请选择渠道",filterable:"",clearable:"",disabled:e.isdisabled},on:{change:e.channelData},model:{value:e.formData.channelId,callback:function(t){e.$set(e.formData,"channelId",t)},expression:"formData.channelId"}},e._l(e.channelOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"大区ID"}},[a("el-input",{attrs:{disabled:e.isdisabled,placeholder:"请输入",clearable:""},model:{value:e.formData.regionId,callback:function(t){e.$set(e.formData,"regionId","string"===typeof t?t.trim():t)},expression:"formData.regionId"}})],1),a("el-form-item",{attrs:{label:"大区名称"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name","string"===typeof t?t.trim():t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"服务器类型",prop:"serverType",rules:[{required:!0,message:"请选择服务器类型",trigger:"change"}]}},[a("el-select",{attrs:{clearable:""},model:{value:e.formData.serverType,callback:function(t){e.$set(e.formData,"serverType",t)},expression:"formData.serverType"}},[a("el-option",{attrs:{value:1,label:"测试"}}),a("el-option",{attrs:{value:2,label:"审核"}}),a("el-option",{attrs:{value:3,label:"正式"}})],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("2c1b"),s=a("3b7a"),c={data:function(){return{total:0,currentPage:1,pageSize:200,gameRegionData:[],dialogTitle:"",dialogVisible:!1,formData:{},tableHeight:0,channelOptions:[],headerChannel:"",isdisabled:!1}},created:function(){this.getGameRegion(),this.getChannel()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},activated:function(){this.$refs.table&&this.$refs.table.doLayout&&this.$refs.table.doLayout()},methods:{getGameRegion:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["gameRegion"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.gameRegionData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleAdd:function(){var e=this;this.dialogTitle="新增渠道大区",this.dialogVisible=!0,this.$nextTick((function(){e.$refs.ruleForm.clearValidate()})),this.formData.id=0,this.isdisabled=!1},handleEdit:function(e){this.dialogTitle="编辑数据",this.formData=Object.assign({},e),this.dialogVisible=!0,this.isdisabled=!0},handleDelete:function(e){var t=this;this.$confirm("你确定要删除这条数据吗?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",lockScroll:!1}).then(Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["delGameRegion"])({channelId:e.channelId,regionId:e.regionId});case 2:r=a.sent,0===r.data.code&&t.$message.success(r.data.message),t.getGameRegion();case 5:case"end":return a.stop()}}),a)}))))},getChannel:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["channelOpt"])();case 2:a=t.sent,e.channelOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},channelData:function(e){this.formData.channelId=e},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.ruleForm.validate(function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(a){var r,n,l;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=15;break}if(0===e.formData.id){t.next=9;break}return r=Object.assign({},e.formData),t.next=5,Object(o["saveGameRegion"])(r);case 5:n=t.sent,0===n.data.code&&e.$message.success(n.data.message),t.next=13;break;case 9:return t.next=11,Object(o["saveGameRegion"])(e.formData);case 11:l=t.sent,0===l.data.code&&e.$message.success(l.data.message);case 13:e.getGameRegion(),e.closeDialog();case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={page:e.currentPage,limit:e.pageSize},e.headerChannel&&(a.channelId=e.headerChannel),t.next=4,Object(o["gameRegion"])(a);case 4:r=t.sent,e.total=r.data.data.count,e.gameRegionData=r.data.data.data;case 7:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.dialogVisible=!1,this.formData={},this.$refs.ruleForm.clearValidate()},changePage:function(e){this.currentPage=e,this.getGameRegion()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},u=c,d=(a("a643"),a("2877")),p=Object(d["a"])(u,r,n,!1,null,"3e72d97f",null);t["default"]=p.exports},"32d8":function(e,t,a){"use strict";a("9078")},"333a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.SystemData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"唯一ID"}}),a("el-table-column",{attrs:{prop:"title",label:"系统名字"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序位置"}}),a("el-table-column",{attrs:{prop:"icon",label:"图标"}}),a("el-table-column",{attrs:{prop:"routeName",label:"路由名字"}}),a("el-table-column",{attrs:{prop:"routePath",label:"路由路径"}}),a("el-table-column",{attrs:{prop:"component",label:"组件"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit-outline",size:"small"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.handleChangePage}})],1)]),a("el-dialog",{attrs:{title:"修改数据",visible:e.dialogVisible,width:"30%","modal-append-to-body":!1,center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.formData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"唯一ID"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id",t)},expression:"formData.id"}})],1),a("el-form-item",{attrs:{label:"系统名字"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1),a("el-form-item",{attrs:{label:"排序位置"}},[a("el-input",{model:{value:e.formData.sort,callback:function(t){e.$set(e.formData,"sort",t)},expression:"formData.sort"}})],1),a("el-form-item",{attrs:{label:"图标"}},[a("el-input",{model:{value:e.formData.icon,callback:function(t){e.$set(e.formData,"icon",t)},expression:"formData.icon"}})],1),a("el-form-item",{attrs:{label:"路由名字"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.routeName,callback:function(t){e.$set(e.formData,"routeName",t)},expression:"formData.routeName"}})],1),a("el-form-item",{attrs:{label:"路由路径"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.routePath,callback:function(t){e.$set(e.formData,"routePath",t)},expression:"formData.routePath"}})],1),a("el-form-item",{attrs:{label:"组件"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.component,callback:function(t){e.$set(e.formData,"component",t)},expression:"formData.component"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("fbed"),s={data:function(){return{total:0,currentPage:1,pageSize:20,SystemData:[],formData:{},dialogVisible:!1,tableHeight:0}},created:function(){this.getSystemMenu()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getSystemMenu:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["systemMenu"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.SystemData=a.data.data.data,e.total=a.data.data.count;case 5:case"end":return t.stop()}}),t)})))()},handleChangePage:function(e){this.currentPage=e,this.getSystemMenu()},handleEdit:function(e){this.formData=Object.assign({},e),this.dialogVisible=!0},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object.assign({},e.formData),t.next=3,Object(o["updateSystemMenu"])(a);case 3:r=t.sent,e.getSystemMenu(),0===r.data.code&&e.$message.success(r.data.message),e.dialogVisible=!1;case 7:case"end":return t.stop()}}),t)})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("3527"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"4db80474",null);t["default"]=d.exports},3527:function(e,t,a){"use strict";a("0a16")},"380a":function(e,t,a){},"390c":function(e,t,a){},"3a6f":function(e,t,a){"use strict";a("b5e2")},"3af9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.handleAdd}},[e._v("添加邮件")]),a("el-button",{attrs:{type:"success",icon:"el-icon-folder-checked",size:"small",disabled:e.isDisabled},on:{click:e.handlePass}},[e._v("审核通过")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-folder-delete",size:"small",disabled:e.isDisabled},on:{click:e.handleNotPass}},[e._v("审核不通过")]),a("el-button",{attrs:{type:"warning",icon:"el-icon-refresh",size:"small",disabled:e.isDisabled},on:{click:e.handleResend}},[e._v("重新发送")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.mailData,"header-cell-style":e.rowClass,height:e.tableHeight,"cell-style":{"text-align":"center"}},on:{"selection-change":e.selectionMailChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",fixed:""}}),a("el-table-column",{attrs:{prop:"id",label:"数据ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"status",label:"邮件审核状态","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:0===t.row.status?"info":1===t.row.status?"success":"danger"}},[e._v(" "+e._s(e.getStatus(t.row.status))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"title",label:"标题","min-width":"200","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"content",label:"内容","min-width":"300","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"rewards",label:"奖励","min-width":"300","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.rewards,(function(r,n){return a("span",{key:n},[e._v(" "+e._s(r.name)+"*"+e._s(r.num)+e._s(n!==t.row.rewards.length-1?"，":"")+" ")])}))}}])}),a("el-table-column",{attrs:{prop:"type",label:"邮件类型","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.type?"全服邮件":2==t.row.type?"玩家邮件":null))]}}])}),a("el-table-column",{attrs:{label:"服务器发送状态","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDetails(t.row.id)}}},[e._v("【查看详情】")])]}}])}),a("el-table-column",{attrs:{prop:"pids",label:"玩家ID集合","min-width":"200","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"playerLevel",label:"玩家等级限制","min-width":"150"}}),a("el-table-column",{attrs:{label:"创建邮件的用户"}},[a("el-table-column",{attrs:{prop:"userId","min-width":"150"}}),a("el-table-column",{attrs:{prop:"userName","min-width":"150"}})],1),a("el-table-column",{attrs:{label:"审核用户"}},[a("el-table-column",{attrs:{prop:"checkUserId","min-width":"150"}}),a("el-table-column",{attrs:{prop:"checkUserName","min-width":"150"}})],1),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"155"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0===t.row.status,expression:"scope.row.status === 0"}],attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-edit-outline"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1===t.row.status,expression:"scope.row.status === 1"}],attrs:{size:"small",type:"danger",plain:"",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("通知游戏服删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("div",{staticClass:"main-dialog"},[a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,"modal-append-to-body":!1,width:"40%",center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("div",{staticClass:"dialog-content"},[a("el-form",{ref:"ruleForm",attrs:{model:e.formData,"label-width":"120px",rules:e.rules}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:18,placeholder:"请输入...",clearable:""},model:{value:e.formData.content,callback:function(t){e.$set(e.formData,"content",t)},expression:"formData.content"}})],1),a("el-form-item",{attrs:{label:"奖励",prop:"rewards"}},[a("el-button",{staticStyle:{"border-radius":"0px 4px 4px 0px",width:"100%"},attrs:{type:"primary",plain:""},on:{click:e.addRewards}},[e._v("添加")]),e._l(e.formData.rewards,(function(t,r){return a("div",{key:r,staticClass:"props"},[a("div",{staticStyle:{width:"55%"}},[a("el-form-item",{attrs:{label:"道具：",prop:"rewards["+r+"].item",rules:[{required:!0,message:"请选择道具",trigger:"change"}],"label-width":"60px"}},[a("el-select",{attrs:{size:"small",clearable:"",filterable:""},model:{value:t.item,callback:function(a){e.$set(t,"item",a)},expression:"item.item"}},e._l(e.prop0ption,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1)],1),a("div",{staticStyle:{width:"40%"}},[a("el-form-item",{attrs:{label:"数量：",prop:"rewards["+r+"].num",rules:[{required:!0,message:"数量不能为空"},{type:"number",message:"数量必须为数字值"}],"label-width":"60px"}},[a("el-input",{attrs:{size:"small",clearable:"",placeholder:"请输入"},model:{value:t.num,callback:function(a){e.$set(t,"num",e._n(a))},expression:"item.num"}})],1)],1),a("div",{staticStyle:{width:"5%"}},[a("el-button",{staticStyle:{padding:"1px","margin-left":"10px"},attrs:{type:"danger",plain:"",icon:"el-icon-minus",circle:""},on:{click:function(t){return e.delRewards(r)}}})],1)])}))],2),a("el-form-item",{attrs:{label:"邮件类型",prop:"type"}},[a("el-select",{attrs:{clearable:""},model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",e._n(t))},expression:"formData.type"}},[a("el-option",{attrs:{value:1,label:"全服邮件"}}),a("el-option",{attrs:{value:2,label:"玩家邮件"}})],1)],1),a("el-form-item",{attrs:{label:"服务器选择",prop:"serverText"}},[a("div",{staticClass:"idGather"},[a("el-input",{attrs:{disabled:"",placeholder:"请选择"},model:{value:e.formData.serverText,callback:function(t){e.$set(e.formData,"serverText",t)},expression:"formData.serverText"}}),a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",plain:""},on:{click:function(t){e.serverDialog=!0}}})],1)]),2==e.formData.type?a("el-form-item",{attrs:{label:"玩家ID集合",prop:"pids"}},[a("el-input",{attrs:{placeholder:"注：请输入玩家ID，并用英文分号(;)分隔",clearable:""},model:{value:e.formData.pids,callback:function(t){e.$set(e.formData,"pids","string"===typeof t?t.trim():t)},expression:"formData.pids"}})],1):e._e(),a("el-form-item",{attrs:{label:"玩家等级限制",prop:"playerLevel"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.formData.playerLevel,callback:function(t){e.$set(e.formData,"playerLevel",e._n(t))},expression:"formData.playerLevel"}})],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("取 消")])],1)])],1),a("el-dialog",{attrs:{title:"选择服务器",visible:e.serverDialog,"modal-append-to-body":!1,width:"48%",center:""},on:{"update:visible":function(t){e.serverDialog=t}}},[a("el-button-group",[a("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:e.handleSelectAll}},[e._v("全选")]),a("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:e.handleDeselectAll}},[e._v("全不选")])],1),a("div",{staticStyle:{margin:"30px 0"}}),a("el-checkbox-group",{on:{change:e.getCheckedId},model:{value:e.serverUids,callback:function(t){e.serverUids=t},expression:"serverUids"}},e._l(e.serverOptions,(function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value,vlaue:t.value}},[e._v(e._s(t.text))])})),1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.serverConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){e.serverDialog=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"详情",visible:e.detailsDialog,width:"60%","modal-append-to-body":!1},on:{"update:visible":function(t){e.detailsDialog=t}}},[a("el-table",{attrs:{"header-cell-style":e.rowClass,data:e.mailResultData,height:"300","cell-style":{"text-align":"center"}}},[a("el-table-column",{attrs:{prop:"id",label:"日志ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"mailId",label:"系统邮件ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"serverUid",label:"服务器ID","min-width":"100"}}),a("el-table-column",{attrs:{label:"服务器名字"}},[a("el-table-column",{attrs:{prop:"serverId","min-width":"100"}}),a("el-table-column",{attrs:{prop:"serverName","min-width":"100"}})],1),a("el-table-column",{attrs:{prop:"typeText",label:"结果类型","min-width":"100"}}),a("el-table-column",{attrs:{prop:"status",label:"处理状态","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:0===t.row.status?"info":1===t.row.status?"success":"danger"}},[e._v(" "+e._s(0===t.row.status?"未处理":1===t.row.status?"成功":"失败")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"message",label:"处理信息","min-width":"200","show-overflow-tooltip":""}})],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.detailsDialog=!1}}},[e._v("关闭")])],1)],1)],1)},n=[],i=a("5530"),l=a("c7eb"),o=a("1da1"),s=(a("4de4"),a("caad"),a("a15b"),a("d81d"),a("4e82"),a("a434"),a("e9c4"),a("d3b7"),a("ac1f"),a("00b4"),a("2532"),a("8e64")),c=a("bd39"),u=a("b6a2"),d={0:"未审核",1:"审核通过",2:"审核不通过",3:"通知删除"},p={data:function(){return{total:0,mailData:[],mailResultData:[],currentPage:1,pageSize:200,tableHeight:0,dialogTitle:"",isDisabled:!0,dialogVisible:!1,detailsDialog:!1,serverDialog:!1,mailId:[],prop0ption:[],serverUids:[],serverOptions:[],formData:{rewards:[],serverText:"",pids:""},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}],type:[{required:!0,message:"请选择邮件类型",trigger:"change"}],pids:[{validator:this.checkDataFormat,trigger:"blur"}],serverText:[{required:!0,message:"请选择服务器",trigger:"input"}],playerLevel:[{type:"number",message:"玩家等级必须为数字值"}]}}},watch:{"formData.type":function(e){1===e&&delete this.formData.pids}},created:function(){this.getMailDatas(),this.getServer(),this.getProps()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getMailDatas:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["mailDatas"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.mailData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},selectionMailChange:function(e){this.isDisabled=0===e.length,this.mailId=e.map((function(e){return e.id}))},handlePass:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["mailPass"])({ids:e.mailId});case 2:a=t.sent,e.getMailDatas(),0===a.data.code&&e.$message.success(a.data.message);case 5:case"end":return t.stop()}}),t)})))()},handleNotPass:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["mailNotPass"])({ids:e.mailId});case 2:a=t.sent,e.getMailDatas(),0===a.data.code&&e.$message.success(a.data.message);case 5:case"end":return t.stop()}}),t)})))()},handleResend:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!==e.mailId.length){t.next=8;break}return t.next=3,Object(s["mailResend"])({id:e.mailId});case 3:a=t.sent,e.getMailDatas(),0===a.data.code&&e.$message.success(a.data.message),t.next=9;break;case 8:e.$message.warning("邮件重发只能选择一项，请重新选择");case 9:case"end":return t.stop()}}),t)})))()},handleAdd:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.dialogTitle="新增数据",e.formData.id=0,e.dialogVisible=!0,e.$nextTick((function(){e.$refs.ruleForm.clearValidate()}));case 4:case"end":return t.stop()}}),t)})))()},handleEdit:function(e){var t=this;return Object(o["a"])(Object(l["a"])().mark((function a(){return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.serverUids=e.serverUids,t.formData=Object.assign({},e),e.serverUids.length>0?t.formData.serverText=t.serverOptions.filter((function(t){return e.serverUids.includes(t.value)})).map((function(e){return e.text})).join(","):t.formData.serverText="",t.dialogTitle="编辑数据",t.dialogVisible=!0;case 5:case"end":return a.stop()}}),a)})))()},handleDelete:function(e){var t=this;this.$confirm("你确定要通知游戏服删除这条数据吗?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",lockScroll:!1}).then(Object(o["a"])(Object(l["a"])().mark((function a(){var r;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(s["deleteMail"])({id:e});case 2:r=a.sent,0===r.data.code&&t.$message.success("成功通知游戏服删除该条数据"),t.getMailDatas();case 5:case"end":return a.stop()}}),a)}))))},handleConfirm:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.ruleForm.validate(function(){var t=Object(o["a"])(Object(l["a"])().mark((function t(a){var r,n,o,c,u;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=20;break}if(0===e.formData.id){t.next=11;break}return r=Object.assign({},e.formData),r.rewards=JSON.stringify(e.formData.rewards),r.serverUids=e.serverUids,t.next=7,Object(s["saveMail"])(r);case 7:n=t.sent,0===n.data.code&&e.$message.success(n.data.message),t.next=18;break;case 11:return e.formData.serverUids=e.serverUids,o=JSON.stringify(e.formData.rewards),c=Object(i["a"])(Object(i["a"])({},e.formData),{},{rewards:o}),t.next=16,Object(s["saveMail"])(c);case 16:u=t.sent,0===u.data.code&&e.$message.success(u.data.message);case 18:e.getMailDatas(),e.closeDialog();case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},addRewards:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.formData.rewards.push({item:"",num:""});case 1:case"end":return t.stop()}}),t)})))()},delRewards:function(e){this.formData.rewards.splice(e,1)},getServer:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},getCheckedId:function(e){this.serverUids=e},handleSelectAll:function(){this.serverUids=this.serverOptions.map((function(e){return e.value}))},handleDeselectAll:function(){this.serverUids=[]},getProps:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["propsOpt"])();case 2:a=t.sent,e.prop0ption=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},serverConfirm:function(){var e=this;this.serverUids.length>0?this.formData.serverText=this.serverOptions.filter((function(t){return e.serverUids.includes(t.value)})).map((function(e){return e.text})).join(","):this.formData.serverText="",this.serverDialog=!1},handleDetails:function(e){var t=this;return Object(o["a"])(Object(l["a"])().mark((function a(){var r;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(s["mailResult"])({id:e});case 2:r=a.sent,t.mailResultData=r.data.data.data,t.detailsDialog=!0;case 5:case"end":return a.stop()}}),a)})))()},closeDialog:function(){this.dialogVisible=!1,this.formData={rewards:[]},this.serverUids=[],this.$refs.ruleForm.clearValidate()},getStatus:function(e){return d[e]},changePage:function(e){this.currentPage=e,this.getMailDatas()},checkDataFormat:function(e,t,a){!t||/^[\d;]+$/.test(t)?a():a(new Error("请用英文符号(;)分割玩家ID，且玩家ID为数字值"))},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300},rowClass:function(e){var t=e.rowIndex;if(1===t)return{display:"none",background:"#f5f7fa"}}}},f=p,b=(a("eb03"),a("2877")),m=Object(b["a"])(f,r,n,!1,null,"44398e4f",null);t["default"]=m.exports},"3d1f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http500-container"},[a("div",{staticClass:"wscn-http500"},[e._m(0),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("500错误！")]),a("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),a("div",{staticClass:"bullshit__info"},[e._v(" 此错误意味着您正在访问的网站出现了服务器问题，此问题阻止了该网页的显示。您可以尝试返回登录页重新登录或者询问后端。 ")]),a("a",{staticClass:"bullshit__return-login",attrs:{to:""},on:{click:e.returnToLogin}},[e._v("重新登录")])])])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pic-500"},[r("img",{staticClass:"pic-500__parent",attrs:{src:a("6dc7")}})])}],i=a("c7eb"),l=a("1da1"),o={name:"Page500",computed:{message:function(){return"服务器出错了..."}},methods:{returnToLogin:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("user/logout");case 2:e.$router.push("/login");case 3:case"end":return t.stop()}}),t)})))()}}},s=o,c=(a("3a6f"),a("2877")),u=Object(c["a"])(s,r,n,!1,null,"7238e0a2",null);t["default"]=u.exports},"3d43":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("el-table",{ref:"table",attrs:{border:"",data:e.loginDotData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"数据ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"channelId",label:"渠道ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"dateStr",label:"日期","min-width":"120"}}),a("el-table-column",{attrs:{prop:"reqResUrlBegin",label:"根据版本号请求资源路径","min-width":"180"}}),a("el-table-column",{attrs:{prop:"reqResUrlSucess",label:"根据版本号请求资源路径成功","min-width":"210"}}),a("el-table-column",{attrs:{prop:"reqResUrlFail",label:"根据版本号请求资源路径成功","min-width":"210"}}),a("el-table-column",{attrs:{prop:"sdkLoginBegin",label:"SDK开始登陆","min-width":"180"}}),a("el-table-column",{attrs:{prop:"sdkLoginSucess",label:"SDK的登录成功","min-width":"180"}}),a("el-table-column",{attrs:{prop:"sdkLoginFail",label:"SDK的登录失败","min-width":"180"}}),a("el-table-column",{attrs:{prop:"reqServerVerifyBegin",label:"请求服务器账号验证","min-width":"180"}}),a("el-table-column",{attrs:{prop:"reqServerVerifySucess",label:"请求服务器账号验证成功","min-width":"180"}}),a("el-table-column",{attrs:{prop:"reqServerVerifyFail",label:"请求服务器账号验证失败","min-width":"180"}}),a("el-table-column",{attrs:{prop:"reqServerListBegin",label:"请求服务器列表","min-width":"180"}}),a("el-table-column",{attrs:{prop:"reqServerListSucess",label:"请求服务器列表成功","min-width":"180"}}),a("el-table-column",{attrs:{prop:"reqServerListFail",label:"请求服务器列表失败","min-width":"180"}}),a("el-table-column",{attrs:{prop:"startGame",label:"点击开始游戏","min-width":"180"}}),a("el-table-column",{attrs:{prop:"reqSocketConnectSucess",label:"向服务器socket连接成功","min-width":"180"}}),a("el-table-column",{attrs:{prop:"reqSocketLoginBegin",label:"向服务器发送登陆请求协议","min-width":"200"}}),a("el-table-column",{attrs:{prop:"reqSocketLoginSucess",label:"向服务器发送登陆请求协议成功","min-width":"230"}}),a("el-table-column",{attrs:{prop:"reqSocketLoginFail",label:"向服务器发送登陆请求协议失败","min-width":"230"}}),a("el-table-column",{attrs:{prop:"createSucc",label:"创号成功","min-width":"180"}}),a("el-table-column",{attrs:{prop:"reqServerPushDataEnd",label:"服务器推送数据结束","min-width":"180"}}),a("el-table-column",{attrs:{prop:"inGame",label:"进入游戏","min-width":"180"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("2b44"),s={data:function(){return{loginDotData:[],total:0,currentPage:1,pageSize:200,tableHeight:0,date:[(new Date).setDate(1),new Date]}},created:function(){this.handleSearch()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),t.next=5,Object(o["loginDot"])(a);case 5:r=t.sent,e.loginDotData=r.data.data.data,e.total=r.data.data.count,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},changePage:function(e){this.currentPage=e,this.handleSearch()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("f8bf"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"7b289abd",null);t["default"]=d.exports},4028:function(e,t,a){},4238:function(e,t,a){"use strict";a("97c8")},"425d":function(e,t,a){"use strict";a("da0f")},"442c":function(e,t,a){"use strict";a("bf2f")},"44f4":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期查询：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","picker-options":e.pickerOptions,"value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择服务器")])],1),a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入",size:"small"},model:{value:e.playerId,callback:function(t){e.playerId=e._n(t)},expression:"playerId"}})],1),a("div",[a("span",[e._v("流水事件类型：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",size:"small"},model:{value:e.waterEvent,callback:function(t){e.waterEvent=t},expression:"waterEvent"}},e._l(e.waterOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.meatData,"header-cell-style":e.rowClass,"cell-style":{"text-align":"center"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"日志ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerId",label:"玩家ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerName",label:"玩家名字","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingId",label:"物品标识","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingName",label:"物品名称","min-width":"200"}}),a("el-table-column",{attrs:{prop:"delta",label:"变化量","min-width":"150"}}),a("el-table-column",{attrs:{prop:"curr",label:"变化后的当前量","min-width":"150"}}),a("el-table-column",{attrs:{label:"游戏事件"}},[a("el-table-column",{attrs:{prop:"gameCause","min-width":"150"}}),a("el-table-column",{attrs:{prop:"gameCauseText","min-width":"250"}})],1),a("el-table-column",{attrs:{prop:"time",label:"发生时间","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.time)))]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注信息","min-width":"200"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("ServerDialog",{attrs:{visible:e.dialogVisible,"server-options":e.serverOptions},on:{"update:visible":function(t){e.dialogVisible=t},checkedId:e.getCheckedServer}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("d3b7"),a("e1f6")),s=a("5611"),c=a("bd39"),u=a("b6a2"),d={components:{ServerDialog:o["default"]},data:function(){return{total:0,meatData:[],currentPage:1,pageSize:200,tableHeight:0,playerId:"",date:[(new Date).setDate(1),new Date],pickerOptions:{disabledDate:function(e){var t=(new Date).getMonth(),a=(new Date).getFullYear();return e.getMonth()!==t||e.getFullYear()!==a}},serverUid:"",serverOptions:[],dialogVisible:!1,serverText:"",waterEvent:"",waterOptions:[]}},created:function(){this.getWater(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},getCheckedServer:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:""},changePage:function(e){this.currentPage=e,this.handleInquire()},getWater:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["waterEventOpt"])();case 2:a=t.sent,e.waterOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.playerId&&(a.playerId=e.playerId),e.waterEvent&&(a.cause=e.waterEvent),e.serverText){t.next=9;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=15;break;case 9:return a.serverUid=e.serverUid,t.next=12,Object(s["meatLogs"])(a);case 12:r=t.sent,e.total=r.data.data.count,e.meatData=r.data.data.data;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300},rowClass:function(e){var t=e.rowIndex;if(1===t)return{display:"none"}}}},p=d,f=(a("e784"),a("2877")),b=Object(f["a"])(p,r,n,!1,null,"bdfae2fe",null);t["default"]=b.exports},4589:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.handleAdd}},[e._v("添加37互娱IP白名单")]),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.sanQiWhiteData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"唯一ID"}}),a("el-table-column",{attrs:{prop:"whiteIp",label:"IP白名单"}}),a("el-table-column",{attrs:{prop:"room",label:"机房"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"",size:"small",icon:"el-icon-edit-outline"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",plain:"",size:"small",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)],1),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"35%","modal-append-to-body":!1,center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{attrs:{model:e.formData,"label-position":"right","label-width":"100px"}},[a("el-form-item",{attrs:{label:"唯一ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id",t)},expression:"formData.id"}})],1),a("el-form-item",{attrs:{label:"IP白名单"}},[a("el-input",{model:{value:e.formData.whiteIp,callback:function(t){e.$set(e.formData,"whiteIp",t)},expression:"formData.whiteIp"}})],1),a("el-form-item",{attrs:{label:"机房"}},[a("el-input",{model:{value:e.formData.room,callback:function(t){e.$set(e.formData,"room",t)},expression:"formData.room"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 认")]),a("el-button",{on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("7fb7"),s={data:function(){return{sanQiWhiteData:[],total:0,currentPage:1,pageSize:200,tableHeight:0,dialogTitle:"",dialogVisible:!1,formData:{}}},created:function(){this.getSanQiWhiteList()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getSanQiWhiteList:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["sanQiHuYuWhiteIp"])();case 2:a=t.sent,e.total=a.data.data.count,e.sanQiWhiteData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleAdd:function(){this.dialogTitle="新增数据",this.dialogVisible=!0,this.formData.id=0},handleEdit:function(e){this.dialogTitle="编辑数据",this.formData=Object.assign({},e),this.dialogVisible=!0},handleDelete:function(e){var t=this;this.$confirm("你确定要删除这条数据吗?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",lockScroll:!1}).then(Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["deleteSanQiWhiteIp"])({id:e});case 2:r=a.sent,0===r.data.code&&t.$message.success(r.data.message),t.getSanQiWhiteList();case 5:case"end":return a.stop()}}),a)}))))},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0===e.formData.id){t.next=8;break}return a=Object.assign({},e.formData),t.next=4,Object(o["saveSanQiHuYuWhiteIp"])(a);case 4:r=t.sent,0===r.data.code&&e.$message.success(r.data.message),t.next=12;break;case 8:return t.next=10,Object(o["saveSanQiHuYuWhiteIp"])(e.formData);case 10:n=t.sent,0===n.data.code&&e.$message.success(n.data.message);case 12:e.getSanQiWhiteList(),e.closeDialog();case 14:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.dialogVisible=!1,this.formData={}},changePage:function(e){this.currentPage=e,this.getSanQiWhiteList()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("0ce7"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"67c49daa",null);t["default"]=d.exports},"45db":function(e,t,a){"use strict";a.r(t),a.d(t,"userManagement",(function(){return n})),a.d(t,"userRight",(function(){return i})),a.d(t,"userLog",(function(){return l})),a.d(t,"saveUser",(function(){return o})),a.d(t,"deleteUser",(function(){return s})),a.d(t,"funcOptions",(function(){return c})),a.d(t,"saveUserRight",(function(){return u}));var r=a("b775");function n(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/user/data.auth",method:"post",data:t})}function i(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/userfunction/data.auth",method:"post",data:t})}function l(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/userlog/data.auth",method:"post",data:t})}function o(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/user/save.authw",method:"post",data:t})}function s(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/user/delete.authw",method:"post",data:t})}function c(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/userfunction/options.auth",method:"post",data:t})}function u(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/userfunction/save.authw",method:"post",data:t})}},"4a02":function(e,t,a){"use strict";a("1965")},"4a0b":function(e,t,a){"use strict";a("e98c")},"4aec":function(e,t,a){},"4c66":function(e,t,a){},"4eab":function(e,t,a){},5092:function(e,t,a){},"51ac":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",[a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"primary",size:"small"},on:{click:e.handleAdd}},[e._v("新增平台信息")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.gamePlatformData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"平台ID"}}),a("el-table-column",{attrs:{prop:"name",label:"平台名称"}}),a("el-table-column",{attrs:{prop:"userId",label:"操作人ID"}}),a("el-table-column",{attrs:{prop:"userName",label:"操作人名字"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-edit-outline"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"35%",center:"","modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{attrs:{model:e.formData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"平台名称"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name","string"===typeof t?t.trim():t)},expression:"formData.name"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("2c1b"),s={data:function(){return{total:0,currentPage:1,pageSize:200,gamePlatformData:[],dialogTitle:"",dialogVisible:!1,formData:{},tableHeight:0}},created:function(){this.getGamePlatform()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},activated:function(){this.$refs.table&&this.$refs.table.doLayout&&this.$refs.table.doLayout()},methods:{getGamePlatform:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["gamePlatform"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.gamePlatformData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleAdd:function(){this.dialogTitle="新增数据",this.dialogVisible=!0,this.formData.id=0},handleEdit:function(e){this.dialogTitle="编辑数据",this.formData=Object.assign({},e),this.dialogVisible=!0},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0===e.formData.id){t.next=8;break}return a=Object.assign({},e.formData),t.next=4,Object(o["savaGamePlatform"])(a);case 4:r=t.sent,0===r.data.code&&e.$message.success(r.data.message),t.next=12;break;case 8:return t.next=10,Object(o["savaGamePlatform"])(e.formData);case 10:n=t.sent,0===n.data.code&&e.$message.success(n.data.message);case 12:e.getGamePlatform(),e.closeDialog();case 14:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.dialogVisible=!1,this.formData={}},changePage:function(e){this.currentPage=e,this.getGamePlatform()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("819e"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"1f4df5d6",null);t["default"]=d.exports},"523e":function(e,t,a){"use strict";a("9b1c")},"52c4":function(e,t,a){},"52c6":function(e,t,a){},"53de":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期：")]),a("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期","value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"420px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择服务器")])],1),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"表",name:"table"}},[a("el-table",{ref:"table",attrs:{data:e.onlineNumData,border:"","header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"period",label:"序号"}}),a("el-table-column",{attrs:{prop:"periodText",label:"时间"}}),a("el-table-column",{attrs:{prop:"onlineNum",label:"在线人数"}}),a("el-table-column",{attrs:{prop:"newOnlineNum",label:"在线新人数"}})],1)],1),a("el-tab-pane",{attrs:{label:"图",name:"chart"}},[a("div",{staticStyle:{width:"100%",height:"600px"},attrs:{id:"onlineChart"}})])],1)],1)]),a("ServerDialog",{attrs:{visible:e.dialogVisible,"server-options":e.serverOptions},on:{"update:visible":function(t){e.dialogVisible=t},checkedId:e.handleCheckedId}})],1)},n=[],i=a("2909"),l=a("c7eb"),o=a("1da1"),s=(a("4de4"),a("caad"),a("a15b"),a("d81d"),a("4e82"),a("d3b7"),a("2532"),a("f958")),c=a("bd39"),u=a("2b44"),d={components:{ServerDialog:s["default"]},data:function(){return{activeName:"chart",onlineNumData:[],tableHeight:0,date:new Date,serverUids:[],serverOptions:[],dialogVisible:!1,serverText:""}},created:function(){this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100)),setTimeout((function(){e.activeName="table",e.getChart()}),100)},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUids=e,this.serverUids.length>0?this.serverText=this.serverOptions.filter((function(e){return t.serverUids.includes(e.value)})).map((function(e){return e.text})).join("，"):this.serverText="",this.dialogVisible=!1},handleSearch:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){var a,r,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},e.date&&(r=e.$moment(e.date).unix(),a.time=r),e.serverUids&&(a.serverUids=e.serverUids),t.next=5,Object(u["playerOnlineLog"])(a);case 5:return n=t.sent,e.onlineNumData=n.data.data.data,t.next=9,e.getChart();case 9:case"end":return t.stop()}}),t)})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-270:this.tableHeight=300},getChart:function(){var e=this.$echarts.init(document.getElementById("onlineChart"),null),t=this.onlineNumData.map((function(e){return e.periodText})),a=this.onlineNumData.map((function(e){return e.onlineNum})),r=this.onlineNumData.map((function(e){return e.newOnlineNum})),n=Math.max.apply(Math,Object(i["a"])(a));function l(e){return e>=1e5?1e4:e>=1e4?1e3:e>=1e3?100:e>=100?10:void 0}var o=l(n),s={title:{text:"在线人数"},tooltip:{trigger:"axis"},legend:{data:["在线人数","在线新人数"]},xAxis:{data:t},yAxis:{type:"value",interval:o,minInterval:1},dataZoom:[{start:0,end:100}],series:[{name:"在线人数",type:"line",data:a,smooth:!0,showSymbol:!1},{name:"在线新人数",type:"line",data:r,smooth:!0,showSymbol:!1}],grid:{left:50,right:10,top:100,containLabel:!0}};e.setOption(s),window.addEventListener("resize",(function(){e.resize()}))}}},p=d,f=(a("fcd0"),a("2877")),b=Object(f["a"])(p,r,n,!1,null,"939f73b4",null);t["default"]=b.exports},5507:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期查询：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","picker-options":e.pickerOptions,"value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择服务器")])],1),a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入",size:"small"},model:{value:e.playerId,callback:function(t){e.playerId=e._n(t)},expression:"playerId"}})],1),a("div",[a("span",[e._v("流水事件类型：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",size:"small"},model:{value:e.waterEvent,callback:function(t){e.waterEvent=t},expression:"waterEvent"}},e._l(e.waterOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.equipData,"header-cell-style":e.rowClass,"cell-style":{"text-align":"center"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"日志ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerId",label:"玩家ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerName",label:"玩家名字","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingId",label:"物品标识","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingName",label:"物品名称","min-width":"200"}}),a("el-table-column",{attrs:{prop:"delta",label:"变化量","min-width":"150"}}),a("el-table-column",{attrs:{prop:"curr",label:"变化后的当前量","min-width":"150"}}),a("el-table-column",{attrs:{label:"游戏事件"}},[a("el-table-column",{attrs:{prop:"gameCause","min-width":"150"}}),a("el-table-column",{attrs:{prop:"gameCauseText","min-width":"250"}})],1),a("el-table-column",{attrs:{prop:"time",label:"发生时间","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.time)))]}}])}),a("el-table-column",{attrs:{prop:"instanceId",label:"实物的ID","min-width":"200"}}),a("el-table-column",{attrs:{prop:"instanceData",label:"实物的数据","min-width":"200"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注信息","min-width":"200"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("ServerDialog",{attrs:{visible:e.dialogVisible,"server-options":e.serverOptions},on:{"update:visible":function(t){e.dialogVisible=t},checkedId:e.getCheckedServer}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("d3b7"),a("e1f6")),s=a("5611"),c=a("bd39"),u=a("b6a2"),d={components:{ServerDialog:o["default"]},data:function(){return{total:0,equipData:[],currentPage:1,pageSize:200,tableHeight:0,playerId:"",date:[(new Date).setDate(1),new Date],pickerOptions:{disabledDate:function(e){var t=(new Date).getMonth(),a=(new Date).getFullYear();return e.getMonth()!==t||e.getFullYear()!==a}},serverUid:"",serverOptions:[],dialogVisible:!1,serverText:"",waterEvent:"",waterOptions:[]}},created:function(){this.getWater(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},getCheckedServer:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:""},getWater:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["waterEventOpt"])();case 2:a=t.sent,e.waterOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.handleInquire()},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.playerId&&(a.playerId=e.playerId),e.waterEvent&&(a.cause=e.waterEvent),e.serverText){t.next=9;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=15;break;case 9:return a.serverUid=e.serverUid,t.next=12,Object(s["equipLogs"])(a);case 12:r=t.sent,e.total=r.data.data.count,e.equipData=r.data.data.data;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300},rowClass:function(e){var t=e.rowIndex;if(1===t)return{display:"none"}}}},p=d,f=(a("007d"),a("2877")),b=Object(f["a"])(p,r,n,!1,null,"057203dc",null);t["default"]=b.exports},5611:function(e,t,a){"use strict";a.r(t),a.d(t,"goldLogs",(function(){return n})),a.d(t,"mailLogs",(function(){return i})),a.d(t,"mineLogs",(function(){return l})),a.d(t,"meatLogs",(function(){return o})),a.d(t,"diamondLogs",(function(){return s})),a.d(t,"itemLogs",(function(){return c})),a.d(t,"playerExpLogs",(function(){return u})),a.d(t,"heroLogs",(function(){return d})),a.d(t,"equipLogs",(function(){return p})),a.d(t,"woodLogs",(function(){return f})),a.d(t,"heroFightingLogs",(function(){return b}));var r=a("b775");function n(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gamelog/goldLogs.auth",method:"post",data:t})}function i(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gamelog/mailLogs.auth",method:"post",data:t})}function l(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gamelog/mineLogs.auth",method:"post",data:t})}function o(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gamelog/meatLogs.auth",method:"post",data:t})}function s(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gamelog/diamondLogs.auth",method:"post",data:t})}function c(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gamelog/itemLogs.auth",method:"post",data:t})}function u(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gamelog/playerExpLogs.auth",method:"post",data:t})}function d(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gamelog/heroLogs.auth",method:"post",data:t})}function p(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gamelog/equipLogs.auth",method:"post",data:t})}function f(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gamelog/woodLogs.auth",method:"post",data:t})}function b(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gamelog/heroFightingLogs.auth",method:"post",data:t})}},"56b3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期查询：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","picker-options":e.pickerOptions,"value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择服务器")])],1),a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入",size:"small"},model:{value:e.playerId,callback:function(t){e.playerId=e._n(t)},expression:"playerId"}})],1),a("div",[a("span",[e._v("流水事件类型：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",size:"small"},model:{value:e.waterEvent,callback:function(t){e.waterEvent=t},expression:"waterEvent"}},e._l(e.waterOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.woodData,"header-cell-style":e.rowClass,"cell-style":{"text-align":"center"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"日志ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerId",label:"玩家ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerName",label:"玩家名字","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingId",label:"物品标识","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingName",label:"物品名称","min-width":"200"}}),a("el-table-column",{attrs:{prop:"delta",label:"变化量","min-width":"150"}}),a("el-table-column",{attrs:{prop:"curr",label:"变化后的当前量","min-width":"150"}}),a("el-table-column",{attrs:{label:"游戏事件"}},[a("el-table-column",{attrs:{prop:"gameCause","min-width":"150"}}),a("el-table-column",{attrs:{prop:"gameCauseText","min-width":"250"}})],1),a("el-table-column",{attrs:{prop:"time",label:"发生时间","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.time)))]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注信息","min-width":"200"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("ServerDialog",{attrs:{visible:e.dialogVisible,"server-options":e.serverOptions},on:{"update:visible":function(t){e.dialogVisible=t},checkedId:e.getCheckedServer}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("d3b7"),a("e1f6")),s=a("5611"),c=a("bd39"),u=a("b6a2"),d={components:{ServerDialog:o["default"]},data:function(){return{total:0,woodData:[],currentPage:1,pageSize:200,tableHeight:0,playerId:"",date:[(new Date).setDate(1),new Date],pickerOptions:{disabledDate:function(e){var t=(new Date).getMonth(),a=(new Date).getFullYear();return e.getMonth()!==t||e.getFullYear()!==a}},serverUid:"",serverOptions:[],dialogVisible:!1,serverText:"",waterEvent:"",waterOptions:[]}},created:function(){this.getWater(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},getCheckedServer:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:""},getWater:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["waterEventOpt"])();case 2:a=t.sent,e.waterOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.handleInquire()},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.playerId&&(a.playerId=e.playerId),e.waterEvent&&(a.cause=e.waterEvent),e.serverText){t.next=9;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=15;break;case 9:return a.serverUid=e.serverUid,t.next=12,Object(s["woodLogs"])(a);case 12:r=t.sent,e.total=r.data.data.count,e.woodData=r.data.data.data;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300},rowClass:function(e){var t=e.rowIndex;if(1===t)return{display:"none"}}}},p=d,f=(a("442c"),a("2877")),b=Object(f["a"])(p,r,n,!1,null,"51bda949",null);t["default"]=b.exports},"5a71":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"handle"},[a("div",[a("span",[e._v("平台：")]),a("el-select",{attrs:{clearable:"",filterable:"",size:"small"},model:{value:e.platform,callback:function(t){e.platform=t},expression:"platform"}},e._l(e.platformList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search",plain:""},on:{click:e.handleInquire}},[e._v("查询")]),a("div",[a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-check"},on:{click:e.sendMaintain}},[e._v("发送维护")]),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-refresh"},on:{click:e.againSendMaintain}},[e._v("重发维护")]),a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-close"},on:{click:e.overMaintain}},[e._v("结束维护")]),a("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-refresh"},on:{click:e.againOverMaintain}},[e._v("重发结束维护")])],1)],1),e.isShow?a("div",{staticClass:"content",style:{height:e.contentHeight+"px"}},[a("div",{staticClass:"statements"},[e._v("说明：服务器【维护状态】【服务器响应状态】 —— 维护状态：绿【维护中】，红【非维护中】—— 服务器响应状态：绿【服务器已响应维护】，红【服务器未响应维护】")]),e._l(e.serverList,(function(t,r){return a("div",{key:r},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:function(a){return e.handleCheckAllChange(t)}},model:{value:t.isCheck,callback:function(a){e.$set(t,"isCheck",a)},expression:"chunk.isCheck"}},[e._v("全选")]),a("el-checkbox-group",{on:{change:function(a){return e.getCheckedIds(t)}},model:{value:t.checkIds,callback:function(a){e.$set(t,"checkIds",a)},expression:"chunk.checkIds"}},e._l(t.serverGroup,(function(t){return a("el-checkbox",{key:t.name,attrs:{label:t.serverId}},[e._v(e._s(t.name)+" ("+e._s(t.serverId)+") "),t.maintain?a("span",{staticClass:"state_green"}):a("span",{staticClass:"state_red"}),t.maintainResponse?a("span",{staticClass:"state_green"}):a("span",{staticClass:"state_red"})])})),1),e.serverList.length!==r+1?a("el-divider"):e._e()],1)}))],2):a("div",{staticClass:"image"},[a("el-empty",{attrs:{"image-size":230}})],1)])},n=[],i=a("c7eb"),l=a("1da1"),o=a("2909"),s=(a("99af"),a("d81d"),a("fb6a"),a("4e82"),a("d3b7"),a("159b"),a("2c1b")),c={data:function(){return{contentHeight:0,platform:"",platformList:[],checkServerIds:[],maintainList:[],isShow:!1}},computed:{serverList:function(){for(var e=50,t=[],a=0;a<this.maintainList.length;a+=e){var r={isCheck:!1,isIndeterminate:!1,checkIds:[],serverGroup:this.maintainList.slice(a,a+e)};t.push(r)}return t}},mounted:function(){var e=this;this.$nextTick((function(){e.getContentHeight()})),window.addEventListener("resize",this.$debounce(this.getContentHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getContentHeight)},created:function(){this.getPlatformOpt()},methods:{getCheckedIds:function(e){var t=e.checkIds.length;e.isIndeterminate=t>0&&t<e.serverGroup.length,this.$forceUpdate(),this.checkServerIds=this.getCheckAllIds()},handleCheckAllChange:function(e){e.checkIds=e.isCheck?e.serverGroup.map((function(e){return e.serverId})):[],e.isIndeterminate=!1,this.$forceUpdate(),this.checkServerIds=this.getCheckAllIds()},getCheckAllIds:function(){var e=[];return this.serverList.forEach((function(t){e=[].concat(Object(o["a"])(e),Object(o["a"])(t.checkIds))})),e},getPlatformOpt:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["platformOptions"])();case 2:a=t.sent,e.platformList=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.platform){t.next=4;break}e.$message.error("请选择平台"),t.next=9;break;case 4:return t.next=6,Object(s["serverMaintain"])({platformId:e.platform});case 6:a=t.sent,e.maintainList=a.data.data.data.sort((function(e,t){return e.value-t.value})),e.isShow=!0;case 9:case"end":return t.stop()}}),t)})))()},sendMaintain:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.checkServerIds.length){t.next=4;break}e.$message.error("请选择需要维护的服务器"),t.next=9;break;case 4:return t.next=6,Object(s["conductMaintain"])({platformId:e.platform,serverIds:e.checkServerIds});case 6:a=t.sent,0===a.data.code&&(e.$message.success("发送维护成功"),e.checkServerIds=[]),e.handleInquire();case 9:case"end":return t.stop()}}),t)})))()},againSendMaintain:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.checkServerIds.length){t.next=4;break}e.$message.error("请选择需要重发维护的服务器"),t.next=9;break;case 4:return t.next=6,Object(s["resendMaintain"])({platformId:e.platform,serverIds:e.checkServerIds});case 6:a=t.sent,0===a.data.code&&(e.$message.success("重发维护成功"),e.checkServerIds=[]),e.handleInquire();case 9:case"end":return t.stop()}}),t)})))()},overMaintain:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.checkServerIds.length){t.next=4;break}e.$message.error("请选择需要结束维护的服务器"),t.next=9;break;case 4:return t.next=6,Object(s["endMaintain"])({platformId:e.platform,serverIds:e.checkServerIds});case 6:a=t.sent,0===a.data.code&&(e.$message.success("结束维护成功"),e.checkServerIds=[]),e.handleInquire();case 9:case"end":return t.stop()}}),t)})))()},againOverMaintain:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.checkServerIds.length){t.next=4;break}e.$message.error("请选择需要重发结束维护的服务器"),t.next=9;break;case 4:return t.next=6,Object(s["resendEndMaintain"])({platformId:e.platform,serverIds:e.checkServerIds});case 6:a=t.sent,0===a.data.code&&(e.$message.success("重发结束维护成功"),e.checkServerIds=[]),e.handleInquire();case 9:case"end":return t.stop()}}),t)})))()},getContentHeight:function(){this.contentHeight=window.innerHeight-220}}},u=c,d=(a("425d"),a("2877")),p=Object(d["a"])(u,r,n,!1,null,null,null);t["default"]=p.exports},"5c5f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加礼包")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.sanQiGifData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"礼包ID"}}),a("el-table-column",{attrs:{prop:"rewards",label:"奖励"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return e._l(r.rewards,(function(t,n){return a("span",{key:n},[e._v(" "+e._s(t.name)+"*"+e._s(t.num)+e._s(n!==r.rewards.length-1?"，":"")+" ")])}))}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{icon:"el-icon-delete",size:"small",type:"danger",plain:""},on:{click:function(t){return e.handleDelete(r.id)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("el-dialog",{attrs:{title:"新增奖励",visible:e.dialogVisible,"modal-append-to-body":!1,width:"40%",center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("div",{staticClass:"dialog-content"},[a("el-form",{ref:"ruleForm",attrs:{model:e.formData,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{staticClass:"remarkInput",attrs:{placeholder:"请输入",clearable:""},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1),a("el-form-item",{attrs:{label:"奖励",prop:"rewards"}},[a("el-button",{staticStyle:{"border-radius":"0px 4px 4px 0px",width:"100%"},attrs:{type:"primary",plain:""},on:{click:e.addRewards}},[e._v("添加")]),e._l(e.formData.rewards,(function(t,r){return a("div",{key:r,staticClass:"props"},[a("el-form-item",{staticClass:"item",attrs:{label:"道具：",prop:"rewards["+r+"].item",rules:[{required:!0,message:"请选择道具",trigger:"change"}],"label-width":"60px"}},[a("el-select",{attrs:{size:"small",clearable:"",filterable:""},model:{value:t.item,callback:function(a){e.$set(t,"item",a)},expression:"item.item"}},e._l(e.prop0ption,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"num",attrs:{label:"数量：",prop:"rewards["+r+"].num",rules:[{required:!0,message:"数量不能为空"},{type:"number",message:"数量必须为数字值"}],"label-width":"60px"}},[a("el-input",{attrs:{size:"small",clearable:"",placeholder:"请输入"},model:{value:t.num,callback:function(a){e.$set(t,"num",e._n(a))},expression:"item.num"}})],1),a("div",{staticStyle:{width:"5%"}},[a("el-button",{staticStyle:{padding:"1px","margin-left":"10px"},attrs:{type:"danger",plain:"",icon:"el-icon-minus",circle:""},on:{click:function(t){return e.delRewards(r)}}})],1)],1)}))],2)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("取 消")])],1)])],1)},n=[],i=a("5530"),l=a("c7eb"),o=a("1da1"),s=(a("a434"),a("e9c4"),a("7fb7")),c=a("b6a2"),u={data:function(){return{sanQiGifData:[],total:0,currentPage:1,pageSize:200,tableHeight:0,dialogVisible:!1,formData:{rewards:[]},prop0ption:[],rules:{rewards:[{validator:this.validateAdd}]}}},created:function(){this.getSanQiGifCfg(),this.getProps()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getSanQiGifCfg:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["sanQiHuYuGiftCfg"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.sanQiGifData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},getProps:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["propsOpt"])();case 2:a=t.sent,e.prop0ption=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},addRewards:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.formData.rewards.push({item:"",num:""}),e.$refs.ruleForm.clearValidate();case 2:case"end":return t.stop()}}),t)})))()},delRewards:function(e){this.formData.rewards.splice(e,1)},handleConfirm:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.ruleForm.validate(function(){var t=Object(o["a"])(Object(l["a"])().mark((function t(a){var r,n,o;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=9;break}return r=JSON.stringify(e.formData.rewards),n=Object(i["a"])(Object(i["a"])({},e.formData),{},{rewards:r}),t.next=5,Object(s["saveSanQiHuYuGiftCfg"])(n);case 5:o=t.sent,0===o.data.code&&e.$message.success(o.data.message),e.getSanQiGifCfg(),e.closeDialog();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},handleDelete:function(e){var t=this;this.$confirm("你确定要删除这条数据吗?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",lockScroll:!1}).then(Object(o["a"])(Object(l["a"])().mark((function a(){var r;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(s["deleteSanQiHuYuGiftCfg"])(e);case 2:r=a.sent,0===r.data.code&&t.$message.success(r.data.message),t.getSanQiGifCfg();case 5:case"end":return a.stop()}}),a)}))))},validateAdd:function(e,t,a){0!==this.formData.rewards.length?a():a(new Error("请添加奖励"))},closeDialog:function(){this.formData={rewards:[]},this.dialogVisible=!1,this.$refs.ruleForm.clearValidate()},changePage:function(e){this.currentPage=e,this.getSanQiGifCfg()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},d=u,p=(a("8a6e"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"55c29a30",null);t["default"]=f.exports},"5c8c":function(e,t,a){"use strict";a("97d0")},"5de2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("发放虚拟充值")]),a("div",[a("span",[e._v("账户ID: ")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:e.openId,callback:function(t){e.openId=e._n(t)},expression:"openId"}})],1),a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入"},model:{value:e.playerId,callback:function(t){e.playerId="string"===typeof t?t.trim():t},expression:"playerId"}})],1),a("div",[a("span",[e._v("玩家名称：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入"},model:{value:e.playerName,callback:function(t){e.playerName="string"===typeof t?t.trim():t},expression:"playerName"}})],1),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("el-table",{ref:"table",attrs:{border:"",data:e.rechargeData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"数据ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"channelId",label:"渠道ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"serverUid",label:"数据唯一ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"serverId",label:"服务器ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"serverName",label:"服务器名字","min-width":"120"}}),a("el-table-column",{attrs:{prop:"playerId",label:"玩家ID","min-width":"160"}}),a("el-table-column",{attrs:{prop:"nick",label:"玩家名字","min-width":"160"}}),a("el-table-column",{attrs:{prop:"openId",label:"账号ID","min-width":"130"}}),a("el-table-column",{attrs:{prop:"productId",label:"充值商品ID","min-width":"130"}}),a("el-table-column",{attrs:{prop:"productName",label:"充值商品名字","min-width":"160"}}),a("el-table-column",{attrs:{prop:"status",label:"充值状态","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:0===t.row.status?"info":1===t.row.status?"success":"danger"}},[e._v(" "+e._s(e.getStatus(t.row.status))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"money",label:"金额 (单位：元)","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.money/100)+" ")]}}])}),a("el-table-column",{attrs:{prop:"userId",label:"操作员ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"userName",label:"操作员名称","min-width":"150"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"300"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1),a("el-dialog",{attrs:{title:"发放虚拟充值",visible:e.dialogVisible,width:"35%","modal-append-to-body":!1,center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"玩家ID"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.formData.playerId,callback:function(t){e.$set(e.formData,"playerId",t)},expression:"formData.playerId"}})],1),a("el-form-item",{attrs:{label:"充值商品ID"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.formData.productId,callback:function(t){e.$set(e.formData,"productId",t)},expression:"formData.productId"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("b65f"),s={0:"未处理",1:"成功",2:"失败"},c={data:function(){return{total:0,rechargeData:[],currentPage:1,pageSize:200,tableHeight:0,dialogVisible:!1,openId:"",playerId:"",playerName:"",formData:{}}},created:function(){this.getRechargeVirtual()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getRechargeVirtual:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["rechargeVirtual"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.rechargeData=a.data.data.data,e.total=a.data.data.count;case 5:case"end":return t.stop()}}),t)})))()},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["AddRechargeVirtual"])(e.formData);case 2:a=t.sent,0===a.data.code&&e.$message.success(a.data.message),e.getRechargeVirtual(),e.closeDialog();case 6:case"end":return t.stop()}}),t)})))()},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.openId&&(a.openId=e.openId),e.playerId&&(a.playerId=e.playerId),e.playerName&&(a.nick=e.playerName),t.next=7,Object(o["rechargeVirtual"])(a);case 7:r=t.sent,e.rechargeData=r.data.data.data,e.total=r.data.data.count,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},closeDialog:function(){this.dialogVisible=!1,this.formData={}},changePage:function(e){this.currentPage=e,this.getRechargeVirtual()},getStatus:function(e){return s[e]},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},u=c,d=(a("0cc1"),a("2877")),p=Object(d["a"])(u,r,n,!1,null,"6e726073",null);t["default"]=p.exports},"5f03":function(e,t,a){},"603d":function(e,t,a){"use strict";a("726c")},6145:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.handleAdd}},[e._v("添加GM")]),a("div",[a("span",[e._v("玩家账号：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入",size:"small"},model:{value:e.account,callback:function(t){e.account="string"===typeof t?t.trim():t},expression:"account"}})],1),a("el-button",{attrs:{size:"small",icon:"el-icon-search",plain:"",type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.godFingerData,height:e.tableHeight,"header-cell-style":e.rowClass}},[a("el-table-column",{attrs:{prop:"id",label:"数据ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"channelId",label:"渠道ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"channelName",label:"渠道名字","min-width":"120"}}),a("el-table-column",{attrs:{prop:"serverUid",label:"数据唯一ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"serverId",label:"服务器ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"serverName",label:"服务器名字","min-width":"120"}}),a("el-table-column",{attrs:{prop:"playerId",label:"玩家ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"openId",label:"账号ID","min-width":"300"}}),a("el-table-column",{attrs:{prop:"nick",label:"玩家昵称","min-width":"120"}}),a("el-table-column",{attrs:{prop:"money",label:"每日金额 (单位：分)","min-width":"150"}}),a("el-table-column",{attrs:{prop:"userId",label:"操作人ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"userName",label:"操作人名字","min-width":"120"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"200","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"",size:"small",icon:"el-icon-edit-outline"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",plain:"",size:"small",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"35%","modal-append-to-body":!1,center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-position":"right","label-width":"150px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{label:"数据ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id",t)},expression:"formData.id"}})],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{label:"渠道ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.channelId,callback:function(t){e.$set(e.formData,"channelId",t)},expression:"formData.channelId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{label:"渠道名字"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.channelName,callback:function(t){e.$set(e.formData,"channelName",t)},expression:"formData.channelName"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{label:"服务器ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.serverId,callback:function(t){e.$set(e.formData,"serverId",t)},expression:"formData.serverId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{label:"服务器名字"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.serverName,callback:function(t){e.$set(e.formData,"serverName",t)},expression:"formData.serverName"}})],1)],1)],1),a("el-form-item",{attrs:{label:"玩家ID",prop:"playerId",rules:[{type:"number",message:"玩家账号必须为数字值",trigger:["blur","change"]}]}},[a("el-input",{attrs:{clearable:"",disabled:e.isDisabled,placeholder:"请输入"},model:{value:e.formData.playerId,callback:function(t){e.$set(e.formData,"playerId",e._n(t))},expression:"formData.playerId"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{label:"账号ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.openId,callback:function(t){e.$set(e.formData,"openId",t)},expression:"formData.openId"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{label:"玩家昵称"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.nick,callback:function(t){e.$set(e.formData,"nick",t)},expression:"formData.nick"}})],1),a("el-form-item",{attrs:{label:"每日金额 (单位：分)",prop:"money",rules:[{type:"number",message:"金额必须为数字值",trigger:["blur","change"]}]}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.formData.money,callback:function(t){e.$set(e.formData,"money",e._n(t))},expression:"formData.money"}})],1),a("el-form-item",{attrs:{label:"备注信息"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark","string"===typeof t?t.trim():t)},expression:"formData.remark"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 认")]),a("el-button",{on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("dd6c"),s={data:function(){return{godFingerData:[],total:0,currentPage:1,pageSize:200,tableHeight:0,formData:{},account:"",dialogVisible:!1,dialogTitle:"",isShow:!1,isDisabled:!1}},created:function(){this.getGodFinger()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getGodFinger:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["godFinger"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.godFingerData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.account&&(a.openId=e.account),t.next=5,Object(o["godFinger"])(a);case 5:r=t.sent,e.total=r.data.data.count,e.godFingerData=r.data.data.data,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},handleAdd:function(){this.dialogTitle="添加GM",this.isShow=!1,this.isDisabled=!1,this.dialogVisible=!0,this.formData.id=0},handleEdit:function(e){this.dialogTitle="编辑账号",this.isShow=!0,this.isDisabled=!0,this.formData=Object.assign({},e),this.dialogVisible=!0},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.formData.validate(function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(a){var r,n,l;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=17;break}if(0===e.formData.id){t.next=9;break}return r=Object.assign({},e.formData),t.next=5,Object(o["saveGodFinger"])(r);case 5:n=t.sent,0===n.data.code&&e.$message.success(n.data.message),t.next=13;break;case 9:return t.next=11,Object(o["saveGodFinger"])(e.formData);case 11:l=t.sent,0===l.data.code&&e.$message.success(l.data.message);case 13:e.getGodFinger(),e.closeDialog(),t.next=19;break;case 17:return console.log("校验未通过"),t.abrupt("return",!1);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},handleDelete:function(e){var t=this;this.$confirm("你确定要删除这条数据吗?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",lockScroll:!1}).then(Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["deleteGodFinger"])({id:e});case 2:r=a.sent,0===r.data.code&&t.$message.success(r.data.message),t.getGodFinger();case 5:case"end":return a.stop()}}),a)}))))},closeDialog:function(){this.dialogVisible=!1,this.formData={},this.$refs.formData.clearValidate()},changePage:function(e){this.currentPage=e,this.getGodFinger()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300},rowClass:function(e){var t=e.rowIndex;if(1===t)return{display:"none",background:"#f5f7fa"}}}},c=s,u=(a("2cbd"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"5b8a4172",null);t["default"]=d.exports},"61e2":function(e,t,a){},6280:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择服务器")])],1),a("div",[a("span",[e._v("排名：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入"},model:{value:e.rank,callback:function(t){e.rank=e._n(t)},expression:"rank"}})],1),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.searchBtn}},[e._v("搜索")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.rankData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"channelId",label:"渠道ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"channelName",label:"渠道名字","min-width":"150"}}),a("el-table-column",{attrs:{prop:"playerId",label:"玩家ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"nick",label:"玩家昵称","min-width":"150"}}),a("el-table-column",{attrs:{prop:"serverUid",label:"数据唯一ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"serverId",label:"服务器ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"serverName",label:"服务器名字","min-width":"120"}}),a("el-table-column",{attrs:{prop:"bornTime",label:"创号时间","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.bornTime)))]}}])}),a("el-table-column",{attrs:{prop:"level",label:"玩家等级","min-width":"120"}}),a("el-table-column",{attrs:{prop:"gold",label:"金币","min-width":"120"}}),a("el-table-column",{attrs:{prop:"diamond",label:"钻石","min-width":"120"}}),a("el-table-column",{attrs:{prop:"fighting",label:"总战力","min-width":"120"}}),a("el-table-column",{attrs:{prop:"money",label:"充值金额 (单位：元)","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.money/100)+" ")]}}])}),a("el-table-column",{attrs:{prop:"lastRechargeTime",label:"最后充值时间","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.lastRechargeTime)))]}}])}),a("el-table-column",{attrs:{prop:"lastLoginTime",label:"最后登录时间","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.lastLoginTime)))]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-view",size:"small",type:"primary",plain:""},on:{click:function(a){return e.handleViewDetail(t.row.playerId)}}},[e._v("查看详情")])]}}])})],1)],1)]),a("ServerDialog",{attrs:{visible:e.dialogVisible,"server-options":e.serverOptions},on:{"update:visible":function(t){e.dialogVisible=t},checkedId:e.handleCheckedId}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("4de4"),a("caad"),a("a15b"),a("d81d"),a("4e82"),a("d3b7"),a("2532"),a("f958")),s=a("bd39"),c=a("b65f"),u={components:{ServerDialog:o["default"]},data:function(){return{rankData:[],currentPage:1,pageSize:200,tableHeight:0,serverUids:[],serverOptions:[],dialogVisible:!1,serverText:"",date:[(new Date).setDate(1),new Date],rank:200}},created:function(){this.getRank(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getRank:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["rechargeRank"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.rankData=a.data.data.data;case 4:case"end":return t.stop()}}),t)})))()},getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUids=e,this.serverUids.length>0?this.serverText=this.serverOptions.filter((function(e){return t.serverUids.includes(e.value)})).map((function(e){return e.text})).join("，"):this.serverText="",this.dialogVisible=!1},searchBtn:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.serverUids&&(a.serverUids=e.serverUids),e.rank&&(a.limit=e.rank),t.next=7,Object(c["rechargeRank"])(a);case 7:r=t.sent,e.rankData=r.data.data.data,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},handleViewDetail:function(e){this.$router.push({path:"/player",query:{detailId:e}})},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-140:this.tableHeight=300}}},d=u,p=(a("cc3c"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"8634717e",null);t["default"]=f.exports},"62ee":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期查询：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","picker-options":e.pickerOptions,"value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择服务器")])],1),a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入",size:"small"},model:{value:e.playerId,callback:function(t){e.playerId=e._n(t)},expression:"playerId"}})],1),a("div",[a("span",[e._v("流水事件类型：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",size:"small"},model:{value:e.waterEvent,callback:function(t){e.waterEvent=t},expression:"waterEvent"}},e._l(e.waterOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.heroFightingData,"header-cell-style":e.rowClass,"cell-style":{"text-align":"center"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"日志ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerId",label:"玩家ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerName",label:"玩家名字","min-width":"150"}}),a("el-table-column",{attrs:{prop:"heroId",label:"英雄ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingId",label:"英雄标识","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingName",label:"英雄名称","min-width":"200"}}),a("el-table-column",{attrs:{prop:"delta",label:"变化量","min-width":"150"}}),a("el-table-column",{attrs:{prop:"curr",label:"变化后的当前量","min-width":"150"}}),a("el-table-column",{attrs:{label:"游戏事件"}},[a("el-table-column",{attrs:{prop:"gameCause","min-width":"150"}}),a("el-table-column",{attrs:{prop:"gameCauseText","min-width":"250"}})],1),a("el-table-column",{attrs:{prop:"time",label:"发生时间","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.time)))]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注信息","min-width":"200"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("ServerDialog",{attrs:{visible:e.dialogVisible,"server-options":e.serverOptions},on:{"update:visible":function(t){e.dialogVisible=t},checkedId:e.getCheckedServer}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("d3b7"),a("e1f6")),s=a("5611"),c=a("bd39"),u=a("b6a2"),d={components:{ServerDialog:o["default"]},data:function(){return{total:0,heroFightingData:[],currentPage:1,pageSize:200,tableHeight:0,playerId:"",date:[(new Date).setDate(1),new Date],pickerOptions:{disabledDate:function(e){var t=(new Date).getMonth(),a=(new Date).getFullYear();return e.getMonth()!==t||e.getFullYear()!==a}},serverUid:"",serverOptions:[],dialogVisible:!1,serverText:"",waterEvent:"",waterOptions:[]}},created:function(){this.getWater(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},getCheckedServer:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:""},getWater:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["waterEventOpt"])();case 2:a=t.sent,e.waterOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.handleInquire()},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.playerId&&(a.playerId=e.playerId),e.waterEvent&&(a.cause=e.waterEvent),e.serverText){t.next=9;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=15;break;case 9:return a.serverUid=e.serverUid,t.next=12,Object(s["heroFightingLogs"])(a);case 12:r=t.sent,e.total=r.data.data.count,e.heroFightingData=r.data.data.data;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300},rowClass:function(e){var t=e.rowIndex;if(1===t)return{display:"none"}}}},p=d,f=(a("603d"),a("2877")),b=Object(f["a"])(p,r,n,!1,null,"5385bcca",null);t["default"]=b.exports},6414:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期查询：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","picker-options":e.pickerOptions,"value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择服务器")])],1),a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入",size:"small"},model:{value:e.playerId,callback:function(t){e.playerId=e._n(t)},expression:"playerId"}})],1),a("div",[a("span",[e._v("流水事件类型：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",size:"small"},model:{value:e.waterEvent,callback:function(t){e.waterEvent=t},expression:"waterEvent"}},e._l(e.waterOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.diamondData,"header-cell-style":e.rowClass,"cell-style":{"text-align":"center"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"日志ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerId",label:"玩家ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerName",label:"玩家名字","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingId",label:"物品标识","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingName",label:"物品名称","min-width":"200"}}),a("el-table-column",{attrs:{prop:"delta",label:"变化量","min-width":"150"}}),a("el-table-column",{attrs:{prop:"curr",label:"变化后的当前量","min-width":"150"}}),a("el-table-column",{attrs:{label:"游戏事件"}},[a("el-table-column",{attrs:{prop:"gameCause","min-width":"150"}}),a("el-table-column",{attrs:{prop:"gameCauseText","min-width":"250"}})],1),a("el-table-column",{attrs:{prop:"time",label:"发生时间","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.time)))]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注信息","min-width":"200"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("ServerDialog",{attrs:{visible:e.dialogVisible,"server-options":e.serverOptions},on:{"update:visible":function(t){e.dialogVisible=t},checkedId:e.getCheckedServer}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("d3b7"),a("e1f6")),s=a("bd39"),c=a("5611"),u=a("b6a2"),d={components:{ServerDialog:o["default"]},data:function(){return{total:0,diamondData:[],currentPage:1,pageSize:200,tableHeight:0,playerId:"",date:[(new Date).setDate(1),new Date],pickerOptions:{disabledDate:function(e){var t=(new Date).getMonth(),a=(new Date).getFullYear();return e.getMonth()!==t||e.getFullYear()!==a}},serverUid:"",serverOptions:[],dialogVisible:!1,serverText:"",waterEvent:"",waterOptions:[]}},created:function(){this.getWater(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},getCheckedServer:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:""},getWater:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["waterEventOpt"])();case 2:a=t.sent,e.waterOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.handleInquire()},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.playerId&&(a.playerId=e.playerId),e.waterEvent&&(a.cause=e.waterEvent),e.serverText){t.next=9;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=15;break;case 9:return a.serverUid=e.serverUid,t.next=12,Object(c["diamondLogs"])(a);case 12:r=t.sent,e.total=r.data.data.count,e.diamondData=r.data.data.data;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300},rowClass:function(e){var t=e.rowIndex;if(1===t)return{display:"none"}}}},p=d,f=(a("4a0b"),a("2877")),b=Object(f["a"])(p,r,n,!1,null,"46a86cb0",null);t["default"]=b.exports},"64f8":function(e,t,a){},"668c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.radioDialog=!0}}},[e._v("选择服务器")])],1),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("el-table",{ref:"table",attrs:{border:"",data:e.guideDotData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"guideId",label:"引导ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"guideName",label:"引导名称","min-width":"120"}}),a("el-table-column",{attrs:{prop:"step",label:"步骤","min-width":"120"}}),a("el-table-column",{attrs:{prop:"num",label:"数量","min-width":"120"}}),a("el-table-column",{attrs:{prop:"loseNum",label:"流失数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"loseRate",label:"流失率","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.loseNum/t.row.num*100))+"% ")]}}])})],1),a("ServerDialog",{attrs:{visible:e.radioDialog,"server-options":e.serverOptions},on:{"update:visible":function(t){e.radioDialog=t},checkedId:e.handleCheckedId}})],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("b680"),a("d3b7"),a("e1f6")),s=a("bd39"),c=a("2b44"),u={components:{ServerDialog:o["default"]},data:function(){return{guideDotData:[],tableHeight:0,serverText:"",radioDialog:!1,serverOptions:[],serverUid:""}},created:function(){this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:"",this.radioDialog=!1},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.serverText){t.next=4;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=8;break;case 4:return t.next=6,Object(c["guideDot"])({serverUid:e.serverUid});case 6:a=t.sent,e.guideDotData=a.data.data.data;case 8:case"end":return t.stop()}}),t)})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-140:this.tableHeight=300},formatNumber:function(e){return e.toFixed(2)}}},d=u,p=(a("f0b9"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"6d4d0ac8",null);t["default"]=f.exports},"679c":function(e,t,a){"use strict";a("fc11")},"67bb":function(e,t,a){},"67e0":function(e,t,a){},6895:function(e,t,a){"use strict";a("046b")},"6c2a":function(e,t,a){},"6c95":function(e,t,a){},"6dc7":function(e,t,a){e.exports=a.p+"static/img/500.ac7fc734.svg"},"6f61":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期查询：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","picker-options":e.pickerOptions,"value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择服务器")])],1),a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入",size:"small"},model:{value:e.playerId,callback:function(t){e.playerId=e._n(t)},expression:"playerId"}})],1),a("div",[a("span",[e._v("流水事件类型：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",size:"small"},model:{value:e.waterEvent,callback:function(t){e.waterEvent=t},expression:"waterEvent"}},e._l(e.waterOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.itemData,"header-cell-style":e.rowClass,"cell-style":{"text-align":"center"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"日志ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerId",label:"玩家ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerName",label:"玩家名字","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingId",label:"物品标识","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingName",label:"物品名称","min-width":"200"}}),a("el-table-column",{attrs:{prop:"delta",label:"变化量","min-width":"150"}}),a("el-table-column",{attrs:{prop:"curr",label:"变化后的当前量","min-width":"150"}}),a("el-table-column",{attrs:{label:"游戏事件"}},[a("el-table-column",{attrs:{prop:"gameCause","min-width":"150"}}),a("el-table-column",{attrs:{prop:"gameCauseText","min-width":"250"}})],1),a("el-table-column",{attrs:{prop:"time",label:"发生时间","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.time)))]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注信息","min-width":"200"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("ServerDialog",{attrs:{visible:e.dialogVisible,"server-options":e.serverOptions},on:{"update:visible":function(t){e.dialogVisible=t},checkedId:e.getCheckedServer}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("d3b7"),a("e1f6")),s=a("5611"),c=a("bd39"),u=a("b6a2"),d={components:{ServerDialog:o["default"]},data:function(){return{total:0,itemData:[],currentPage:1,pageSize:200,tableHeight:0,playerId:"",date:[(new Date).setDate(1),new Date],pickerOptions:{disabledDate:function(e){var t=(new Date).getMonth(),a=(new Date).getFullYear();return e.getMonth()!==t||e.getFullYear()!==a}},serverUid:"",serverOptions:[],dialogVisible:!1,serverText:"",waterEvent:"",waterOptions:[]}},created:function(){this.getWater(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},getCheckedServer:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:""},getWater:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["waterEventOpt"])();case 2:a=t.sent,e.waterOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.handleInquire()},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.playerId&&(a.playerId=e.playerId),e.waterEvent&&(a.cause=e.waterEvent),e.serverText){t.next=9;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=15;break;case 9:return a.serverUid=e.serverUid,t.next=12,Object(s["itemLogs"])(a);case 12:r=t.sent,e.total=r.data.data.count,e.itemData=r.data.data.data;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300},rowClass:function(e){var t=e.rowIndex;if(1===t)return{display:"none"}}}},p=d,f=(a("ba83"),a("2877")),b=Object(f["a"])(p,r,n,!1,null,"463c5a70",null);t["default"]=b.exports},"724f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"header"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("添加服务器到指定渠道")]),a("div",{staticClass:"ditch"},[a("span",[e._v("渠道：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:""},model:{value:e.headerChannel,callback:function(t){e.headerChannel=t},expression:"headerChannel"}},e._l(e.channelOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-button",{attrs:{size:"small",plain:"",type:"primary",icon:"el-icon-search"},on:{click:e.searchBtn}},[e._v("搜索")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.channelServerData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"关系ID"}}),a("el-table-column",{attrs:{label:"渠道信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.channelName)+" ["+e._s(t.row.channelId)+"] ")]}}])}),a("el-table-column",{attrs:{prop:"serverUid",label:"服务器数据ID"}}),a("el-table-column",{attrs:{prop:"serverId",label:"服务器ID"}}),a("el-table-column",{attrs:{prop:"serverName",label:"服务器名字"}}),a("el-table-column",{attrs:{prop:"regionId",label:"所属大区ID"}}),a("el-table-column",{attrs:{prop:"regionName",label:"所属大区名称"}}),a("el-table-column",{attrs:{prop:"recommend",label:"是否为推荐服务器"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.recommend?"success":"danger"}},[e._v(" "+e._s(t.row.recommend?"是":"否")+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-edit-outline"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("el-dialog",{attrs:{title:"设定渠道关联服务器",visible:e.addDialogVisible,width:"40%","modal-append-to-body":!1,center:""},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.closeDialog}},[a("div",{staticStyle:{"margin-bottom":"30px","font-size":"15px"}},[a("span",[e._v(" 渠道选择：")]),a("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择渠道",filterable:"",clearable:""},on:{change:e.channelData},model:{value:e.channelId,callback:function(t){e.channelId=t},expression:"channelId"}},e._l(e.channelOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.channelId,expression:"channelId"}],staticStyle:{"font-size":"15px"}},[a("span",[e._v("选择服务器：")]),a("div",[a("el-checkbox-group",{on:{change:e.getCheckedServer},model:{value:e.checkedServer,callback:function(t){e.checkedServer=t},expression:"checkedServer"}},e._l(e.serverOptions,(function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id,vlaue:t.id}},[e._v(e._s(t.text))])})),1)],1)]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleAddConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("取 消")])],1)]),a("el-dialog",{attrs:{title:"修改数据",visible:e.editDialogVisible,width:"35%","modal-append-to-body":!1,center:""},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.closeDialog}},[a("el-form",{attrs:{model:e.formData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"关系ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id","string"===typeof t?t.trim():t)},expression:"formData.id"}})],1),a("el-form-item",{attrs:{label:"渠道ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.channelId,callback:function(t){e.$set(e.formData,"channelId","string"===typeof t?t.trim():t)},expression:"formData.channelId"}})],1),a("el-form-item",{attrs:{label:"渠道名字"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.channelName,callback:function(t){e.$set(e.formData,"channelName","string"===typeof t?t.trim():t)},expression:"formData.channelName"}})],1),a("el-form-item",{attrs:{label:"服务器数据ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.serverUid,callback:function(t){e.$set(e.formData,"serverUid","string"===typeof t?t.trim():t)},expression:"formData.serverUid"}})],1),a("el-form-item",{attrs:{label:"服务器ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.serverId,callback:function(t){e.$set(e.formData,"serverId","string"===typeof t?t.trim():t)},expression:"formData.serverId"}})],1),a("el-form-item",{attrs:{label:"服务器名字"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.serverName,callback:function(t){e.$set(e.formData,"serverName","string"===typeof t?t.trim():t)},expression:"formData.serverName"}})],1),a("el-form-item",{attrs:{label:"选择归属大区"}},[a("el-select",{attrs:{placeholder:"选择归属大区",filterable:"",clearable:""},model:{value:e.formData.regionId,callback:function(t){e.$set(e.formData,"regionId",t)},expression:"formData.regionId"}},e._l(e.regionOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"是否为推荐服务器"}},[a("el-select",{attrs:{disabled:""},model:{value:e.formData.recommend,callback:function(t){e.$set(e.formData,"recommend",t)},expression:"formData.recommend"}},[a("el-option",{attrs:{value:!0,label:"是"}}),a("el-option",{attrs:{value:!1,label:"否"}})],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleEditConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("4de4"),a("d81d"),a("d3b7"),a("2c1b")),s=a("3b7a"),c={data:function(){return{total:0,currentPage:1,pageSize:200,formData:{},channelServerData:[],tableHeight:0,addDialogVisible:!1,editDialogVisible:!1,channelId:"",channelOptions:[],serverOptions:[],checkedServer:[],headerChannel:"",currentEdit:"",regionOptions:[]}},created:function(){this.getGameChannelServer(),this.getChannel()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},activated:function(){this.$refs.table&&this.$refs.table.doLayout&&this.$refs.table.doLayout()},methods:{getGameChannelServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["gameChannelServer"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.channelServerData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleAddConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["addGameChannelServer"])({channelId:e.channelId,serverUids:e.checkedServer});case 2:a=t.sent,0===a.data.code&&e.$message.success(a.data.message),e.getGameChannelServer(),e.closeDialog();case 6:case"end":return t.stop()}}),t)})))()},handleEdit:function(e){var t=this;return Object(l["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.currentEdit=e.channelId,t.formData=Object.assign({},e),a.next=4,t.getGameRegion();case 4:t.editDialogVisible=!0;case 5:case"end":return a.stop()}}),a)})))()},handleEditConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object.assign({},e.formData),t.next=3,Object(o["editGameChannelServer"])({channelId:a.channelId,serverUid:a.serverUid,regionId:a.regionId});case 3:r=t.sent,0===r.data.code&&e.$message.success(r.data.message),e.headerChannel=a.channelId,e.searchBtn(),e.closeDialog();case 8:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.addDialogVisible=!1,this.channelId="",this.editDialogVisible=!1,this.formData={}},getChannel:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["channelOpt"])();case 2:a=t.sent,e.channelOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},channelData:function(e){var t=this;return Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.channelId=e,!t.channelId){a.next=7;break}return a.next=4,Object(s["channelServerOpt"])({channelId:e});case 4:r=a.sent,t.serverOptions=r.data.data.datas,t.checkedServer=t.serverOptions.filter((function(e){return e.select})).map((function(e){return e.id}));case 7:case"end":return a.stop()}}),a)})))()},getCheckedServer:function(e){this.checkedServer=e},getGameRegion:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["gameRegionOpt"])({channelId:e.currentEdit});case 2:a=t.sent,e.regionOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},searchBtn:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={page:e.currentPage,limit:e.pageSize},e.headerChannel&&(a.channelId=e.headerChannel),t.next=4,Object(o["gameChannelServer"])(a);case 4:r=t.sent,e.total=r.data.data.count,e.channelServerData=r.data.data.data;case 7:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.getGameChannelServer()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},u=c,d=(a("5c8c"),a("2877")),p=Object(d["a"])(u,r,n,!1,null,"1bfd1162",null);t["default"]=p.exports},"726c":function(e,t,a){},7353:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期查询：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","picker-options":e.pickerOptions,"value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择服务器")])],1),a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入",size:"small"},model:{value:e.playerId,callback:function(t){e.playerId=e._n(t)},expression:"playerId"}})],1),a("div",[a("span",[e._v("流水事件类型：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",size:"small"},model:{value:e.waterEvent,callback:function(t){e.waterEvent=t},expression:"waterEvent"}},e._l(e.waterOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.mineData,"header-cell-style":e.rowClass,"cell-style":{"text-align":"center"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"日志ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerId",label:"玩家ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerName",label:"玩家名字","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingId",label:"物品标识","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingName",label:"物品名称","min-width":"200"}}),a("el-table-column",{attrs:{prop:"delta",label:"变化量","min-width":"150"}}),a("el-table-column",{attrs:{prop:"curr",label:"变化后的当前量","min-width":"150"}}),a("el-table-column",{attrs:{label:"游戏事件"}},[a("el-table-column",{attrs:{prop:"gameCause","min-width":"150"}}),a("el-table-column",{attrs:{prop:"gameCauseText","min-width":"250"}})],1),a("el-table-column",{attrs:{prop:"time",label:"发生时间","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.time)))]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注信息","min-width":"200"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("ServerDialog",{attrs:{visible:e.dialogVisible,"server-options":e.serverOptions},on:{"update:visible":function(t){e.dialogVisible=t},checkedId:e.getCheckedServer}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("d3b7"),a("e1f6")),s=a("5611"),c=a("bd39"),u=a("b6a2"),d={components:{ServerDialog:o["default"]},data:function(){return{total:0,mineData:[],currentPage:1,pageSize:200,tableHeight:0,playerId:"",date:[(new Date).setDate(1),new Date],pickerOptions:{disabledDate:function(e){var t=(new Date).getMonth(),a=(new Date).getFullYear();return e.getMonth()!==t||e.getFullYear()!==a}},serverUid:"",serverOptions:[],dialogVisible:!1,serverText:"",waterEvent:"",waterOptions:[]}},created:function(){this.getWater(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},getCheckedServer:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:""},getWater:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["waterEventOpt"])();case 2:a=t.sent,e.waterOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.handleInquire()},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.playerId&&(a.playerId=e.playerId),e.waterEvent&&(a.cause=e.waterEvent),e.serverText){t.next=9;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=15;break;case 9:return a.serverUid=e.serverUid,t.next=12,Object(s["mineLogs"])(a);case 12:r=t.sent,e.total=r.data.data.count,e.mineData=r.data.data.data;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300},rowClass:function(e){var t=e.rowIndex;if(1===t)return{display:"none"}}}},p=d,f=(a("4238"),a("2877")),b=Object(f["a"])(p,r,n,!1,null,"1e8ccd03",null);t["default"]=b.exports},7363:function(e,t,a){},"749c":function(e,t,a){"use strict";a("390c")},"764d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.statisticsData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"productId",label:"充值商品ID"}}),a("el-table-column",{attrs:{prop:"productName",label:"充值商品名字"}}),a("el-table-column",{attrs:{prop:"playerCount",label:"购买人数"}}),a("el-table-column",{attrs:{prop:"buyCount",label:"购买次数"}}),a("el-table-column",{attrs:{prop:"totalPay",label:"总额（单位：元）"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.totalPay/100)+" ")]}}])}),a("el-table-column",{attrs:{prop:"rate",label:"充值占比"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.rate/100))+"% ")]}}])})],1)],1)])],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("b680"),a("b65f")),s={data:function(){return{statisticsData:[],currentPage:1,pageSize:200,tableHeight:0,date:[(new Date).setDate(1),new Date]}},created:function(){this.getStatistics()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getStatistics:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["rechargeStats"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.statisticsData=a.data.data.data;case 4:case"end":return t.stop()}}),t)})))()},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),t.next=5,Object(o["rechargeStats"])(a);case 5:r=t.sent,e.statisticsData=r.data.data.data,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},formatNumber:function(e){return e.toFixed(2)},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-140:this.tableHeight=300}}},c=s,u=(a("a8c0"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"ad561548",null);t["default"]=d.exports},"79f2":function(e,t,a){},"7abe":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",[e._v("首页")])},n=[],i={data:function(){return{}},created:function(){},methods:{}},l=i,o=a("2877"),s=Object(o["a"])(l,r,n,!1,null,"44d43e37",null);t["default"]=s.exports},"7bd5":function(e,t,a){},"7c9f":function(e,t,a){},"7f75":function(e,t,a){},"7fb0":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.moduleData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"唯一ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"systemId",label:"所属的系统菜单ID","min-width":"140"}}),a("el-table-column",{attrs:{prop:"title",label:"模块名字","min-width":"120"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序位置","min-width":"120"}}),a("el-table-column",{attrs:{prop:"icon",label:"图标","min-width":"120"}}),a("el-table-column",{attrs:{prop:"routeName",label:"路由名字","min-width":"140"}}),a("el-table-column",{attrs:{prop:"routePath",label:"路由路径","min-width":"140"}}),a("el-table-column",{attrs:{prop:"component",label:"组件","min-width":"140"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit-outline",size:"small"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.handleChangePage}})],1)]),a("el-dialog",{attrs:{title:"修改数据",visible:e.dialogVisible,width:"30%",center:"","modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.formData,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"唯一ID"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id",t)},expression:"formData.id"}})],1),a("el-form-item",{attrs:{label:"所属的系统菜单ID"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.systemId,callback:function(t){e.$set(e.formData,"systemId",t)},expression:"formData.systemId"}})],1),a("el-form-item",{attrs:{label:"模块名字"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1),a("el-form-item",{attrs:{label:"排序位置"}},[a("el-input",{model:{value:e.formData.sort,callback:function(t){e.$set(e.formData,"sort",t)},expression:"formData.sort"}})],1),a("el-form-item",{attrs:{label:"图标"}},[a("el-input",{model:{value:e.formData.icon,callback:function(t){e.$set(e.formData,"icon",t)},expression:"formData.icon"}})],1),a("el-form-item",{attrs:{label:"路由名字"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.routeName,callback:function(t){e.$set(e.formData,"routeName",t)},expression:"formData.routeName"}})],1),a("el-form-item",{attrs:{label:"路由路径"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.routePath,callback:function(t){e.$set(e.formData,"routePath",t)},expression:"formData.routePath"}})],1),a("el-form-item",{attrs:{label:"组件"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.component,callback:function(t){e.$set(e.formData,"component",t)},expression:"formData.component"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("fbed"),s={data:function(){return{total:0,currentPage:1,pageSize:50,moduleData:[],dialogVisible:!1,formData:{},tableHeight:0}},created:function(){this.getModuleMenu()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getModuleMenu:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["moduleMenu"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.moduleData=a.data.data.data,e.total=a.data.data.count;case 5:case"end":return t.stop()}}),t)})))()},handleEdit:function(e){this.formData=Object.assign({},e),this.dialogVisible=!0},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object.assign({},e.formData),t.next=3,Object(o["updateModuleMenu"])(a);case 3:r=t.sent,e.getModuleMenu(),0===r.data.code&&e.$message.success(r.data.message),e.dialogVisible=!1;case 7:case"end":return t.stop()}}),t)})))()},handleChangePage:function(e){this.currentPage=e,this.getModuleMenu()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("f2db"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"20d18d48",null);t["default"]=d.exports},"7fb7":function(e,t,a){"use strict";a.r(t),a.d(t,"sanQiHuYuWhiteIp",(function(){return n})),a.d(t,"sanQiHuYuGiftCfg",(function(){return i})),a.d(t,"sanQiHuYuSetting",(function(){return l})),a.d(t,"saveSanQiHuYuWhiteIp",(function(){return o})),a.d(t,"savaSanQiHuYuSetting",(function(){return s})),a.d(t,"saveSanQiHuYuGiftCfg",(function(){return c})),a.d(t,"deleteSanQiWhiteIp",(function(){return u})),a.d(t,"deleteSanQiHuYuGiftCfg",(function(){return d}));var r=a("b775");function n(){return Object(r["default"])({url:"/sanQiHuYuWhiteIp/data.auth",method:"post"})}function i(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/sanQiHuYuGiftCfg/data.auth",method:"post",data:t})}function l(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/sanQiHuYuSetting/data.auth",method:"post",data:t})}function o(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/sanQiHuYuWhiteIp/save.authw",method:"post",data:t})}function s(e){var t=new FormData;return t.append("platformId",e),Object(r["default"])({url:"/sanQiHuYuSetting/save.authw",method:"post",data:t})}function c(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/sanQiHuYuGiftCfg/save.auth",method:"post",data:t})}function u(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/sanQiHuYuWhiteIp/delete.authw",method:"post",data:t})}function d(e){var t=new FormData;return t.append("id",e),Object(r["default"])({url:"/sanQiHuYuGiftCfg/delete.authw",method:"post",data:t})}},8087:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.radioDialog=!0}}},[e._v("选择服务器")])],1),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("el-table",{ref:"table",attrs:{border:"",data:e.bossDotData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"bossId",label:"bossId","min-width":"120"}}),a("el-table-column",{attrs:{prop:"bossName",label:"boss名称","min-width":"120"}}),a("el-table-column",{attrs:{prop:"level",label:"等级","min-width":"120"}}),a("el-table-column",{attrs:{prop:"canChallengeNum",label:"可挑战人数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"challengeNum",label:"挑战人数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"playerNum",label:"玩家人数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"killNum",label:"击杀人数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"killRate",label:"击杀率","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.killNum/t.row.playerNum*100))+"% ")]}}])}),a("el-table-column",{attrs:{prop:"minFighting",label:"最小击杀战力","min-width":"120"}})],1),a("ServerDialog",{attrs:{visible:e.radioDialog,"server-options":e.serverOptions},on:{"update:visible":function(t){e.radioDialog=t},checkedId:e.handleCheckedId}})],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("b680"),a("d3b7"),a("e1f6")),s=a("bd39"),c=a("2b44"),u={components:{ServerDialog:o["default"]},data:function(){return{bossDotData:[],tableHeight:0,serverText:"",radioDialog:!1,serverOptions:[],serverUid:""}},created:function(){this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:"",this.radioDialog=!1},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.serverText){t.next=4;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=8;break;case 4:return t.next=6,Object(c["bossDot"])({serverUid:e.serverUid});case 6:a=t.sent,e.bossDotData=a.data.data.data;case 8:case"end":return t.stop()}}),t)})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-140:this.tableHeight=300},formatNumber:function(e){return e.toFixed(2)}}},d=u,p=(a("9677"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"0cec3b15",null);t["default"]=f.exports},"819e":function(e,t,a){"use strict";a("5092")},"824c":function(e,t,a){},"83ea":function(e,t,a){"use strict";a("7bd5")},"8a6e":function(e,t,a){"use strict";a("a18e")},"8a8a":function(e,t,a){"use strict";a.r(t),a.d(t,"apidoc",(function(){return n}));var r=a("b775");function n(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/apidoc/data.auth",method:"post",data:t})}},"8cdb":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("404错误!")]),a("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),a("div",{staticClass:"bullshit__info"},[e._v(" 对不起，您正在寻找的页面不存在。尝试检查URL的错误，然后按浏览器上的刷新按钮或尝试在我们的应用程序中找到其他内容。")]),a("router-link",{staticClass:"bullshit__return-home",attrs:{to:"/"}},[e._v("返回首页")])],1)])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pic-404"},[r("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),r("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),r("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),r("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])}],i={name:"Page404",computed:{message:function(){return"找不到网页..."}}},l=i,o=(a("679c"),a("2877")),s=Object(o["a"])(l,r,n,!1,null,"66c3cb11",null);t["default"]=s.exports},"8e08":function(e,t,a){"use strict";a("52c6")},"8e0c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.radioDialog=!0}}},[e._v("选择服务器")])],1),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("el-table",{ref:"table",attrs:{border:"",data:e.recruitDotData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"dateStr",label:"日期","min-width":"120"}}),a("el-table-column",{attrs:{prop:"num0to10",label:"0 - 10","min-width":"120"}}),a("el-table-column",{attrs:{prop:"num11to20",label:"11 - 20","min-width":"120"}}),a("el-table-column",{attrs:{prop:"num21toMax",label:"21 - 以上","min-width":"120"}}),a("el-table-column",{attrs:{prop:"joinNum",label:"参与人数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"createNum",label:"创号人数","min-width":"120"}})],1),a("ServerDialog",{attrs:{visible:e.radioDialog,"server-options":e.serverOptions},on:{"update:visible":function(t){e.radioDialog=t},checkedId:e.handleCheckedId}}),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("d3b7"),a("e1f6")),s=a("bd39"),c=a("2b44"),u={components:{ServerDialog:o["default"]},data:function(){return{recruitDotData:[],total:0,currentPage:1,pageSize:200,tableHeight:0,serverText:"",radioDialog:!1,serverOptions:[],serverUid:"",date:[(new Date).setDate(1),new Date]}},created:function(){this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:"",this.radioDialog=!1},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.serverText){t.next=6;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=11;break;case 6:return t.next=8,Object(c["recruitDot"])(a);case 8:r=t.sent,e.guideDotData=r.data.data.data,e.total=r.data.data.count;case 11:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.handleSearch()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},d=u,p=(a("9352"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"d142b114",null);t["default"]=f.exports},"8e64":function(e,t,a){"use strict";a.r(t),a.d(t,"playerMails",(function(){return n})),a.d(t,"mailDatas",(function(){return i})),a.d(t,"mailResult",(function(){return l})),a.d(t,"saveMail",(function(){return o})),a.d(t,"deleteMail",(function(){return s})),a.d(t,"deletePlayerMail",(function(){return c})),a.d(t,"mailPass",(function(){return u})),a.d(t,"mailNotPass",(function(){return d})),a.d(t,"mailResend",(function(){return p}));var r=a("b775");function n(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/playerMail/data.auth",method:"post",data:t})}function i(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/mail/data.auth",method:"post",data:t})}function l(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/mail/mailResult.auth",method:"post",data:t})}function o(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/mail/save.authw",method:"post",data:t})}function s(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/mail/delete.authw",method:"post",data:t})}function c(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/playerMail/delete.authw",method:"post",data:t})}function u(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/mail/checkPass.authw",method:"post",data:t})}function d(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/mail/checkNotPass.authw",method:"post",data:t})}function p(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/mail/resend.auth",method:"post",data:t})}},"8ff0":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.handleAdd}},[e._v("添加用户")]),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.userData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"name",label:"用户名","min-width":"100"}}),a("el-table-column",{attrs:{prop:"level",label:"用户级别","min-width":"100"}},[a("template",{slot:"header"},[a("span",[e._v("用户级别")]),e._v(" "),a("el-tooltip",{attrs:{content:"数字越小，级别越高",placement:"top"}},[a("i",{staticClass:"el-icon-info",staticStyle:{color:"#409eff"}})])],1)],2),a("el-table-column",{attrs:{prop:"password",label:"密码","min-width":"100"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号码","min-width":"150"}}),a("el-table-column",{attrs:{prop:"mailAddress",label:"邮箱地址","min-width":"300"}}),a("el-table-column",{attrs:{prop:"usable",label:"是否启用","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.usable?"success":"danger"}},[e._v(" "+e._s(t.row.usable?"是":"否")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"superUser",label:"是否为超级管理员","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.superUser?"success":"danger"}},[e._v(" "+e._s(t.row.superUser?"是":"否")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"canReadSensitive",label:"是否可查看敏感信息","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.canReadSensitive?"success":"danger"}},[e._v(" "+e._s(t.row.canReadSensitive?"是":"否")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"upUserId",label:"上级用户ID","min-width":"100"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-unlock",size:"small",type:"warning",plain:""},on:{click:function(a){return e.handlePower(t.row)}}},[e._v("编辑权限")]),a("el-button",{attrs:{icon:"el-icon-edit-outline",size:"small",type:"primary",plain:""},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{icon:"el-icon-delete",size:"small",type:"danger",plain:""},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)],1),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"35%",center:"","modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{ref:"ruleForm",attrs:{model:e.formData,"label-width":"140px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{label:"用户ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id",e._n(t))},expression:"formData.id"}})],1),a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{clearable:"",disabled:e.isDisabled,placeholder:"请输入"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name","string"===typeof t?t.trim():t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("div",{staticClass:"password"},[a("el-input",{attrs:{clearable:"",disabled:e.isDisabled,placeholder:"请输入"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password","string"===typeof t?t.trim():t)},expression:"formData.password"}})],1)]),a("el-form-item",{attrs:{label:"手机号码",prop:"phone",rules:[{required:!1,message:"请输入正确的手机号码",pattern:/^1[3456789]\d{9}$/,trigger:["blur","change"]}]}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",e._n(t))},expression:"formData.phone"}})],1),a("el-form-item",{attrs:{label:"邮箱地址",prop:"mailAddress",rules:[{required:!1,type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.formData.mailAddress,callback:function(t){e.$set(e.formData,"mailAddress","string"===typeof t?t.trim():t)},expression:"formData.mailAddress"}})],1),a("el-form-item",{attrs:{label:"是否启用"}},[a("el-select",{attrs:{clearable:""},model:{value:e.formData.usable,callback:function(t){e.$set(e.formData,"usable",t)},expression:"formData.usable"}},[a("el-option",{attrs:{value:!0,label:"是"}}),a("el-option",{attrs:{value:!1,label:"否"}})],1)],1),a("el-form-item",{attrs:{label:"是否为超级管理员"}},[a("el-select",{attrs:{clearable:""},model:{value:e.formData.superUser,callback:function(t){e.$set(e.formData,"superUser",t)},expression:"formData.superUser"}},[a("el-option",{attrs:{value:!0,label:"是"}}),a("el-option",{attrs:{value:!1,label:"否"}})],1)],1),a("el-form-item",{attrs:{label:"是否可查看敏感信息"}},[a("el-select",{attrs:{clearable:""},model:{value:e.formData.canReadSensitive,callback:function(t){e.$set(e.formData,"canReadSensitive",t)},expression:"formData.canReadSensitive"}},[a("el-option",{attrs:{value:!0,label:"是"}}),a("el-option",{attrs:{value:!1,label:"否"}})],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:e.powerTitle,visible:e.powerDialog,width:"45%"},on:{"update:visible":function(t){e.powerDialog=t}}},[a("el-table",{ref:"powerTableRef",staticStyle:{width:"100%"},attrs:{border:"",data:e.powerData,height:"500"},on:{"selection-change":e.selectionPower}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"功能菜单ID","min-width":"170"}}),a("el-table-column",{attrs:{prop:"name",label:"功能菜单名字","min-width":"170"}}),a("el-table-column",{attrs:{prop:"module",label:"所属功能模块","min-width":"170"}}),a("el-table-column",{attrs:{prop:"writee",label:"是否授权写权限","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:""},on:{change:function(a){return e.changeSelect(t.row)}},model:{value:t.row.writee,callback:function(a){e.$set(t.row,"writee",a)},expression:"scope.row.writee"}},[a("el-option",{attrs:{value:!0,label:"是"}}),a("el-option",{attrs:{value:!1,label:"否"}})],1)]}}])})],1),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.powerConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){e.powerDialog=!1}}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("99af"),a("4de4"),a("c740"),a("d81d"),a("a434"),a("b0c0"),a("d3b7"),a("2ca0"),a("159b"),a("45db")),s={data:function(){return{page:1,total:0,currentPage:1,pageSize:200,userData:[],dialogTitle:"",dialogVisible:!1,formData:{},tableHeight:0,isDisabled:!0,isShow:!1,powerDialog:!1,powerTitle:"",powerData:[],userId:"",selectPermis:[]}},created:function(){this.getUserManagement()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getUserManagement:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["userManagement"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.userData=a.data.data.data,e.total=a.data.data.count;case 5:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.getUserManagement()},handleAdd:function(){this.dialogTitle="新增用户",this.dialogVisible=!0,this.formData.id=0,this.isDisabled=!1,this.isShow=!1},handleEdit:function(e){this.dialogTitle="编辑用户",this.formData=Object.assign({},e),this.dialogVisible=!0,this.isDisabled=!0,this.isShow=!0},handleDelete:function(e){var t=this;this.$confirm("你确定要删除这条数据吗?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",lockScroll:!1}).then(Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["deleteUser"])(e);case 2:r=a.sent,0===r.data.code&&t.$message.success(r.data.message),t.getUserManagement();case 5:case"end":return a.stop()}}),a)}))))},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.ruleForm.validate(function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(a){var r,n,l;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=15;break}if(0===e.formData.id){t.next=9;break}return r=Object.assign({},e.formData),t.next=5,Object(o["saveUser"])(r);case 5:n=t.sent,0===n.data.code&&e.$message.success(n.data.message),t.next=13;break;case 9:return t.next=11,Object(o["saveUser"])(e.formData);case 11:l=t.sent,0===l.data.code&&e.$message.success(l.data.message);case 13:e.getUserManagement(),e.closeDialog();case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.dialogVisible=!1,this.formData={},this.$refs.ruleForm.clearValidate()},handlePower:function(e){var t=this;return Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.userId=e.id,t.powerTitle="正在编辑该用户权限：".concat(e.id," - ").concat(e.name),a.next=4,Object(o["funcOptions"])({userId:e.id});case 4:r=a.sent,t.powerData=r.data.data.data,t.$nextTick((function(){t.powerData.filter((function(e){return e.has})).forEach((function(e){t.$refs.powerTableRef.toggleRowSelection(e,!0)}))})),t.powerDialog=!0;case 8:case"end":return a.stop()}}),a)})))()},selectionPower:function(e){this.selectPermis=e.map((function(e){return"".concat(e.id,"#").concat(e.writee)}))},powerConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["saveUserRight"])({userId:e.userId,functionAndWrite:e.selectPermis});case 2:a=t.sent,e.powerData=a.data.data.data,e.powerDialog=!1;case 5:case"end":return t.stop()}}),t)})))()},changeSelect:function(e){var t=this.selectPermis.findIndex((function(t){return t.startsWith("".concat(e.id,"#"))})),a="".concat(e.id,"#").concat(e.writee);t>-1?this.selectPermis.splice(t,1,a):this.selectPermis.push(a)},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("913c"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"3959f5a9",null);t["default"]=d.exports},9040:function(e,t,a){"use strict";a("7f75")},9078:function(e,t,a){},"913c":function(e,t,a){"use strict";a("e038")},9147:function(e,t,a){"use strict";a("aa7c")},"932f":function(e,t,a){"use strict";a("c848")},9352:function(e,t,a){"use strict";a("67e0")},"963c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"primary",size:"small"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加热更代码")]),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.hotCodeData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"唯一ID",width:"130"}}),a("el-table-column",{attrs:{label:"服务器发送状态",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDetails(t.row)}}},[e._v("【查看详情】")])]}}])}),a("el-table-column",{attrs:{prop:"fixTime",label:"热更时间批号",width:"200"}}),a("el-table-column",{attrs:{prop:"fileNames",label:"代码文件相对路径","min-width":"300","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.fileNames,(function(r,n){return a("span",{key:n},[e._v(" "+e._s(r)+e._s(n!==t.row.fileNames.length-1?"，":"")+" ")])}))}}])}),a("el-table-column",{attrs:{prop:"userId",label:"操作员ID",width:"130"}}),a("el-table-column",{attrs:{prop:"userName",label:"操作员名称",width:"130"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)],1),a("el-dialog",{attrs:{title:"添加数据",visible:e.dialogVisible,width:"40%",center:"","modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.handleCloseDialog}},[a("el-form",{ref:"ruleForm",attrs:{"label-width":"100px",model:e.ruleForm}},[a("el-form-item",{attrs:{label:"服务器选择：",prop:"serverText",rules:[{required:!0,message:"请选择服务器",trigger:"input"}]}},[a("div",{staticClass:"add"},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.serverText,callback:function(t){e.$set(e.ruleForm,"serverText",t)},expression:"ruleForm.serverText"}}),a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",plain:""},on:{click:function(t){e.serverDialog=!0}}})],1)]),a("el-form-item",{attrs:{label:"选择上传文件："}},[a("el-upload",{attrs:{multiple:"",action:"#",accept:".class","file-list":e.fileList,"auto-upload":!1,"on-change":e.handleChange,"on-remove":e.handleRemove}},[a("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-upload",plain:""}},[e._v("选取文件")]),a("span",{staticClass:"el-upload__tip",staticStyle:{color:"#91949a"},attrs:{slot:"tip"},slot:"tip"},[e._v("（当前仅支持上传class文件，且单个文件不超过2MB）")])],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.handleCloseDialog}},[e._v("取 消")])],1)],1),a("ServerDialog",{attrs:{visible:e.serverDialog,"server-options":e.serverOptions},on:{"update:visible":function(t){e.serverDialog=t},checkedId:e.handleCheckedId}}),a("el-dialog",{attrs:{title:"热更代码详情",visible:e.detailsDialog,width:"60%","modal-append-to-body":!1},on:{"update:visible":function(t){e.detailsDialog=t}}},[a("el-tabs",{staticStyle:{height:"470px"},attrs:{type:"card"}},[a("el-tab-pane",{attrs:{label:"详情信息"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.codeDetail,height:"400"}},[a("el-table-column",{attrs:{prop:"id",label:"唯一ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"fixId",label:"修正记录ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"serverUid",label:"数据唯一ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"serverId",label:"服务器ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"name",label:"服务器名字","min-width":"100"}}),a("el-table-column",{attrs:{prop:"status",label:"处理状态","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:0===t.row.status?"info":1===t.row.status?"success":"danger",size:"medium"}},[e._v(" "+e._s(0===t.row.status?"未处理":1===t.row.status?"成功":"失败")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"code",label:"服务器响应码","min-width":"100","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"message",label:"处理信息","min-width":"200","show-overflow-tooltip":""}})],1)],1),a("el-tab-pane",{attrs:{label:"代码文件相对路径"}},[a("div",{staticClass:"file_path"},[a("ul",e._l(e.filePath,(function(t,r){return a("li",{key:r},[e._v(" "+e._s(t)+" ")])})),0)])])],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning",plain:"",size:"small",icon:"el-icon-refresh-right"},on:{click:e.handleResend}},[e._v("失败重发")]),a("el-button",{attrs:{type:"success",plain:"",size:"small",icon:"el-icon-refresh"},on:{click:e.handleRefresh}},[e._v("刷新")]),a("el-button",{attrs:{type:"primary",plain:"",size:"small",icon:"el-icon-close"},on:{click:function(t){e.detailsDialog=!1}}},[e._v("关闭")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("4de4"),a("caad"),a("a15b"),a("d81d"),a("4e82"),a("a434"),a("b0c0"),a("d3b7"),a("2532"),a("159b"),a("bc3a")),s=a.n(o),c=a("f958"),u=a("b6a2"),d=a("b775"),p=a("bd39"),f={components:{ServerDialog:c["default"]},data:function(){return{baseApiUrl:d["baseApiUrl"],hotCodeData:[],codeDetail:[],total:0,currentPage:1,pageSize:200,tableHeight:0,dialogVisible:!1,detailsDialog:!1,serverDialog:!1,serverOptions:[],serverUids:[],ruleForm:{serverText:""},files:[],fileList:[],fixId:"",filePath:[]}},created:function(){this.getFixCode(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getFixCode:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["fixCode"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.hotCodeData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.ruleForm.validate(function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(a){var r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=8;break}return r=new FormData,r.append("serverUids",e.serverUids),e.files.forEach((function(e){r.append("files",e.raw)})),t.next=6,s.a.post("".concat(d["baseApiUrl"],"/fixCode/upload.auth"),r,{headers:{"Content-Type":"multipart/form-data"}});case 6:e.getFixCode(),e.handleCloseDialog();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},handleChange:function(e){var t="class",a=2097152,r=e.name.lastIndexOf("."),n=e.name.substring(r+1).toLowerCase(),i=e.size;t!==n?(this.$message.closeAll(),this.$message({type:"error",message:"当前限制只能上传class文件",duration:5e3})):i>a?(this.$message.closeAll(),this.$message({type:"error",message:"请上传小于2MB的文件",duration:5e3})):(this.fileList.push(e),this.files=this.fileList)},handleRemove:function(e){var t=this.fileList.indexOf(e);-1!==t&&this.fileList.splice(t,1)},getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(p["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUids=e,this.serverUids.length>0?this.ruleForm.serverText=this.serverOptions.filter((function(e){return t.serverUids.includes(e.value)})).map((function(e){return e.text})).join("，"):this.ruleForm.serverText="",this.serverDialog=!1},handleDetails:function(e){var t=this;return Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.filePath=e.fileNames,t.fixId=e.id,a.next=4,Object(u["fixCodeResult"])({id:e.id});case 4:r=a.sent,t.codeDetail=r.data.data.data,t.detailsDialog=!0;case 7:case"end":return a.stop()}}),a)})))()},handleCloseDialog:function(){this.dialogVisible=!1,this.ruleForm.serverText="",this.fileList=[],this.$refs.ruleForm.clearValidate()},handleRefresh:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["fixCodeResult"])({id:e.fixId});case 2:a=t.sent,e.codeDetail=a.data.data.data,0===a.data.code?e.$message.success("刷新成功！"):e.$message.error("刷新失败！");case 5:case"end":return t.stop()}}),t)})))()},handleResend:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["resendFixCode"])({id:e.fixId});case 2:a=t.sent,0===a.data.code?e.$message.success("重发成功！"):e.$message.error("重发失败！");case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.getFixCode()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},b=f,m=(a("0247"),a("2877")),h=Object(m["a"])(b,r,n,!1,null,"cc343092",null);t["default"]=h.exports},9659:function(e,t,a){"use strict";a("c6b5")},9677:function(e,t,a){"use strict";a("af78")},9726:function(e,t,a){"use strict";a("13d5b")},"97c8":function(e,t,a){},"97d0":function(e,t,a){},"993e":function(e,t,a){"use strict";a("824c")},"9b1c":function(e,t,a){},"9b56":function(e,t,a){"use strict";a("1d4a")},"9ed6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title"},[e._v("X1中央后台管理系统")])]),a("el-form-item",{attrs:{prop:"username"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"user"}})],1),a("el-input",{ref:"username",attrs:{placeholder:"账户",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),a("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),a("el-checkbox",{attrs:{label:"记住密码",checked:e.isChecked},on:{change:e.rememberpsd}}),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}}},[e._v("登录")])],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("b64b"),a("e762")),s={name:"Login",data:function(){return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,message:"请输入账户",trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:["blur","change"]}]},loading:!1,passwordType:"password",redirect:void 0,isChecked:!1}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){this.getCookie()},methods:{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},rememberpsd:function(e){this.isChecked=e},setCookie:function(e,t,a){var r=new Date;r.setTime(r.getTime()+864e5*a);var n=o["a"].encode(e),i=o["a"].encode(t);window.document.cookie="username="+n+";Expires="+r.toGMTString(),window.document.cookie="password="+i+";Expires="+r.toGMTString(),window.document.cookie="isChecked="+this.isChecked+";Expires="+r.toGMTString()},getCookie:function(){if(document.cookie.length>0)for(var e=document.cookie.split("; "),t=0;t<e.length;t++){var a=e[t].split("=");"username"===a[0]?this.loginForm.username=o["a"].decode(a[1]):"password"===a[0]?this.loginForm.password=o["a"].decode(a[1]):"isChecked"===a[0]&&(this.isChecked=JSON.parse(a[1]))}},clearCookie:function(){this.setCookie("","",-1)},handleLogin:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.loginForm.validate(function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(a){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=11;break}return localStorage.setItem("username",e.loginForm.username),localStorage.setItem("password",o["a"].encode(e.loginForm.password)),e.isChecked?e.setCookie(e.loginForm.username,e.loginForm.password,7):e.clearCookie(),t.next=6,e.$store.dispatch("user/Newlogin",e.loginForm);case 6:return t.next=8,e.$store.dispatch("router/GenerateRoutes",e.loginForm);case 8:e.$router.push("/"),t.next=13;break;case 11:return console.log("账户或者密码校验未通过"),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()}}},c=s,u=(a("32d8"),a("b3b7"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"2b17b1f8",null);t["default"]=d.exports},a18e:function(e,t,a){},a36b:function(e,t,a){e.exports=a.p+"static/img/404.a57b6f31.png"},a3bc:function(e,t,a){},a50b:function(e,t,a){"use strict";a("f643")},a633:function(e,t,a){"use strict";a("52c4")},a643:function(e,t,a){"use strict";a("4eab")},a74b:function(e,t,a){"use strict";a("ab9b")},a77f:function(e,t,a){"use strict";a.r(t),a.d(t,"export_table_to_excel",(function(){return d})),a.d(t,"export_json_to_excel",(function(){return p}));var r=a("2909"),n=(a("99af"),a("d81d"),a("c19f"),a("ace4"),a("d3b7"),a("25f0"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("159b"),a("21a6")),i=a("25ca");function l(e){for(var t=[],a=e.querySelectorAll("tr"),r=[],n=0;n<a.length;++n){for(var i=[],l=a[n],o=l.querySelectorAll("td"),s=0;s<o.length;++s){var c=o[s],u=c.getAttribute("colspan"),d=c.getAttribute("rowspan"),p=c.innerText;if(""!==p&&p==+p&&(p=+p),r.forEach((function(e){if(n>=e.s.r&&n<=e.e.r&&i.length>=e.s.c&&i.length<=e.e.c)for(var t=0;t<=e.e.c-e.s.c;++t)i.push(null)})),(d||u)&&(d=d||1,u=u||1,r.push({s:{r:n,c:i.length},e:{r:n+d-1,c:i.length+u-1}})),i.push(""!==p?p:null),u)for(var f=0;f<u-1;++f)i.push(null)}t.push(i)}return[t,r]}function o(e,t){t&&(e+=1462);var a=Date.parse(e);return(a-new Date(Date.UTC(1899,11,30)))/864e5}function s(e,t){for(var a={},r={s:{c:1e7,r:1e7},e:{c:0,r:0}},n=0;n!=e.length;++n)for(var l=0;l!=e[n].length;++l){r.s.r>n&&(r.s.r=n),r.s.c>l&&(r.s.c=l),r.e.r<n&&(r.e.r=n),r.e.c<l&&(r.e.c=l);var s={v:e[n][l]};if(null!=s.v){var c=i["b"].encode_cell({c:l,r:n});"number"===typeof s.v?s.t="n":"boolean"===typeof s.v?s.t="b":s.v instanceof Date?(s.t="n",s.z=i["a"]._table[14],s.v=o(s.v)):s.t="s",a[c]=s}}return r.s.c<1e7&&(a["!ref"]=i["b"].encode_range(r)),a}function c(){if(!(this instanceof c))return new c;this.SheetNames=[],this.Sheets={}}function u(e){for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),r=0;r!=e.length;++r)a[r]=255&e.charCodeAt(r);return t}function d(e){var t=document.getElementById(e),a=l(t),r=a[1],o=a[0],d="SheetJS",p=new c,f=s(o);f["!merges"]=r,p.SheetNames.push(d),p.Sheets[d]=f;var b=i["c"](p,{bookType:"xlsx",bookSST:!1,type:"binary"});Object(n["saveAs"])(new Blob([u(b)],{type:"application/octet-stream"}),"test.xlsx")}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiHeader,a=void 0===t?[]:t,l=e.header,o=e.data,d=e.filename,p=e.merges,f=void 0===p?[]:p,b=e.autoWidth,m=void 0===b||b,h=e.bookType,g=void 0===h?"xlsx":h;d=d||"excel-list",o=Object(r["a"])(o),o.unshift(l);for(var v=a.length-1;v>-1;v--)o.unshift(a[v]);var w="SheetJS",y=new c,x=s(o);if(f.length>0&&(x["!merges"]||(x["!merges"]=[]),f.forEach((function(e){x["!merges"].push(i["b"].decode_range(e))}))),m){for(var D=o.map((function(e){return e.map((function(e){return null==e?{wch:10}:e.toString().charCodeAt(0)>255?{wch:2*e.toString().length}:{wch:e.toString().length}}))})),k=D[0],O=1;O<D.length;O++)for(var _=0;_<D[O].length;_++)k[_]["wch"]<D[O][_]["wch"]&&(k[_]["wch"]=D[O][_]["wch"]);x["!cols"]=k}y.SheetNames.push(w),y.Sheets[w]=x;var j=i["c"](y,{bookType:g,bookSST:!1,type:"binary"});Object(n["saveAs"])(new Blob([u(j)],{type:"application/octet-stream"}),"".concat(d,".").concat(g))}},a896:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{attrs:{shadow:"hover"}},[a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.functionData,height:e.tableHeight,"header-cell-style":{background:"#f5f7fa"}}},[a("el-table-column",{attrs:{prop:"id",label:"唯一ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"moduleId",label:"所属的模块菜单ID","min-width":"140"}}),a("el-table-column",{attrs:{prop:"title",label:"功能名字","min-width":"180"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序位置",sortable:"","min-width":"120"}}),a("el-table-column",{attrs:{prop:"icon",label:"图标","min-width":"120"}}),a("el-table-column",{attrs:{prop:"routeName",label:"路由名字","min-width":"200"}}),a("el-table-column",{attrs:{prop:"routePath",label:"路由路径","min-width":"200"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit-outline",size:"small"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.handleChangePage}})],1)]),a("el-dialog",{attrs:{title:"修改数据",visible:e.dialogVisible,width:"30%",center:"","modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.formData,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"唯一ID"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id",t)},expression:"formData.id"}})],1),a("el-form-item",{attrs:{label:"所属的模块菜单ID"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.moduleId,callback:function(t){e.$set(e.formData,"moduleId",t)},expression:"formData.moduleId"}})],1),a("el-form-item",{attrs:{label:"功能名字"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1),a("el-form-item",{attrs:{label:"排序位置"}},[a("el-input",{model:{value:e.formData.sort,callback:function(t){e.$set(e.formData,"sort",t)},expression:"formData.sort"}})],1),a("el-form-item",{attrs:{label:"图标"}},[a("el-input",{model:{value:e.formData.icon,callback:function(t){e.$set(e.formData,"icon",t)},expression:"formData.icon"}})],1),a("el-form-item",{attrs:{label:"路由名字"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.routeName,callback:function(t){e.$set(e.formData,"routeName",t)},expression:"formData.routeName"}})],1),a("el-form-item",{attrs:{label:"路由路径"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formData.routePath,callback:function(t){e.$set(e.formData,"routePath",t)},expression:"formData.routePath"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("fbed"),s={data:function(){return{total:0,currentPage:1,pageSize:200,functionData:[],dialogVisible:!1,formData:{},tableHeight:0}},created:function(){this.getFunctionMenu()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getFunctionMenu:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["functionMenu"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.functionData=a.data.data.data,e.total=a.data.data.count;case 5:case"end":return t.stop()}}),t)})))()},handleEdit:function(e){this.formData=Object.assign({},e),this.dialogVisible=!0},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object.assign({},e.formData),t.next=3,Object(o["updateFunctionMenu"])(a);case 3:r=t.sent,e.getFunctionMenu(),0===r.data.code&&e.$message.success(r.data.message),e.dialogVisible=!1;case 7:case"end":return t.stop()}}),t)})))()},handleChangePage:function(e){this.currentPage=e,this.getFunctionMenu()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("e99d"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"7380dd9a",null);t["default"]=d.exports},a8c0:function(e,t,a){"use strict";a("f9b8")},aa7c:function(e,t,a){},aac8:function(e,t,a){"use strict";a("d50f")},ab9b:function(e,t,a){},af78:function(e,t,a){},b078:function(e,t,a){"use strict";a("ec19")},b3b7:function(e,t,a){"use strict";a("208f")},b5e2:function(e,t,a){},b65f:function(e,t,a){"use strict";a.r(t),a.d(t,"recharge",(function(){return n})),a.d(t,"rechargeRank",(function(){return i})),a.d(t,"rechargeStats",(function(){return l})),a.d(t,"rechargeVirtual",(function(){return o})),a.d(t,"AddRechargeVirtual",(function(){return s})),a.d(t,"manualRecharge",(function(){return c}));var r=a("b775");function n(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/recharge/data.auth",method:"post",data:t})}function i(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/rechargeRank/data.auth",method:"post",data:t})}function l(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/rechargeProductCount/data.auth",method:"post",data:t})}function o(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/rechargeVirtual/data.auth",method:"post",data:t})}function s(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/rechargeVirtual/add.authw",method:"post",data:t})}function c(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/recharge/manual.authw",method:"post",data:t})}},b6a2:function(e,t,a){"use strict";a.r(t),a.d(t,"fixCode",(function(){return n})),a.d(t,"fixCodeResult",(function(){return i})),a.d(t,"fixDesign",(function(){return l})),a.d(t,"fixDesignResult",(function(){return o})),a.d(t,"waterEvent",(function(){return s})),a.d(t,"propsConfig",(function(){return c})),a.d(t,"giftCode",(function(){return u})),a.d(t,"giftCodeShareLog",(function(){return d})),a.d(t,"giftCodeCfg",(function(){return p})),a.d(t,"clientLog",(function(){return f})),a.d(t,"rechargeProductCfg",(function(){return b})),a.d(t,"saveGiftCode",(function(){return m})),a.d(t,"updateWaterEvent",(function(){return h})),a.d(t,"waterEventOpt",(function(){return g})),a.d(t,"updateGameProps",(function(){return v})),a.d(t,"propsOpt",(function(){return w})),a.d(t,"resendFixDesign",(function(){return y})),a.d(t,"resendFixCode",(function(){return x})),a.d(t,"codeCfgOpt",(function(){return D})),a.d(t,"updateCodeCfg",(function(){return k})),a.d(t,"updateRechargeProductCfg",(function(){return O}));var r=a("b775");function n(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/fixCode/data.auth",method:"post",data:t})}function i(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/fixCodeResult/data.auth",method:"post",data:t})}function l(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/fixDesign/data.auth",method:"post",data:t})}function o(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/fixDesignResult/data.auth",method:"post",data:t})}function s(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/gameCause/data.auth",method:"post",data:t})}function c(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/itemCfg/data.auth",method:"post",data:t})}function u(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/giftCode/data.auth",method:"post",data:t})}function d(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/giftCodeShareLog/data.auth",method:"post",data:t})}function p(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/giftCodeCfg/data.auth",method:"post",data:t})}function f(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/clientLog/data.auth",method:"post",data:t})}function b(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/rechargeProductCfg/data.auth",method:"post",data:t})}function m(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/giftCode/save.authw",method:"post",data:t})}function h(){return Object(r["default"])({url:"/gameCause/refresh.auth",method:"post"})}function g(){return Object(r["default"])({url:"/gameCause/options.do",method:"post"})}function v(){return Object(r["default"])({url:"/itemCfg/refresh.auth",method:"post"})}function w(){return Object(r["default"])({url:"/itemCfg/options.do",method:"post"})}function y(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/fixDesign/resend.auth",method:"post",data:t})}function x(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/fixCode/resend.auth",method:"post",data:t})}function D(){return Object(r["default"])({url:"/giftCodeCfg/options.do",method:"post"})}function k(){return Object(r["default"])({url:"/giftCodeCfg/refresh.auth",method:"post"})}function O(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/rechargeProductCfg/refresh.auth",method:"post",data:t})}},b75c:function(e,t,a){"use strict";a("79f2")},b854:function(e,t,a){},b8cd:function(e,t,a){},ba68:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期查询：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","picker-options":e.pickerOptions,"value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择服务器")])],1),a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入",size:"small"},model:{value:e.playerId,callback:function(t){e.playerId=e._n(t)},expression:"playerId"}})],1),a("div",[a("span",[e._v("流水事件类型：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",size:"small"},model:{value:e.waterEvent,callback:function(t){e.waterEvent=t},expression:"waterEvent"}},e._l(e.waterOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.goldData,"header-cell-style":e.rowClass,"cell-style":{"text-align":"center"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"日志ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerId",label:"玩家ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerName",label:"玩家名字","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingId",label:"物品标识","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingName",label:"物品名称","min-width":"200"}}),a("el-table-column",{attrs:{prop:"delta",label:"变化量","min-width":"150"}}),a("el-table-column",{attrs:{prop:"curr",label:"变化后的当前量","min-width":"150"}}),a("el-table-column",{attrs:{label:"游戏事件"}},[a("el-table-column",{attrs:{prop:"gameCause","min-width":"150"}}),a("el-table-column",{attrs:{prop:"gameCauseText","min-width":"250"}})],1),a("el-table-column",{attrs:{prop:"time",label:"发生时间","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.time)))]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注信息","min-width":"200"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("ServerDialog",{attrs:{visible:e.dialogVisible,"server-options":e.serverOptions},on:{"update:visible":function(t){e.dialogVisible=t},checkedId:e.getCheckedServer}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("d3b7"),a("e1f6")),s=a("5611"),c=a("bd39"),u=a("b6a2"),d={components:{ServerDialog:o["default"]},data:function(){return{total:0,goldData:[],currentPage:1,pageSize:200,tableHeight:0,playerId:"",date:[(new Date).setDate(1),new Date],pickerOptions:{disabledDate:function(e){var t=(new Date).getMonth(),a=(new Date).getFullYear();return e.getMonth()!==t||e.getFullYear()!==a}},serverUid:"",serverOptions:[],dialogVisible:!1,serverText:"",waterEvent:"",waterOptions:[]}},created:function(){this.getWater(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},getCheckedServer:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:""},getWater:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["waterEventOpt"])();case 2:a=t.sent,e.waterOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.handleInquire()},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.playerId&&(a.playerId=e.playerId),e.waterEvent&&(a.cause=e.waterEvent),e.serverText){t.next=9;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=15;break;case 9:return a.serverUid=e.serverUid,t.next=12,Object(s["goldLogs"])(a);case 12:r=t.sent,e.total=r.data.data.count,e.goldData=r.data.data.data;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300},rowClass:function(e){var t=e.rowIndex;if(1===t)return{display:"none"}}}},p=d,f=(a("9147"),a("2877")),b=Object(f["a"])(p,r,n,!1,null,"208dd9d6",null);t["default"]=b.exports},ba83:function(e,t,a){"use strict";a("380a")},bd39:function(e,t,a){"use strict";a.r(t),a.d(t,"multiServer",(function(){return n}));var r=a("b775");function n(){return Object(r["default"])({url:"/gameServer/optionsInCurrChannel.do",method:"post"})}},bd83:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.handleAdd}},[e._v("添加公告")]),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.bulletinData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"公告ID",width:"120"}}),a("el-table-column",{attrs:{prop:"title",label:"公告标题",width:"250"}}),a("el-table-column",{attrs:{prop:"content",label:"公告内容"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-edit-outline"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"small",type:"danger",plain:"",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)],1),a("div",{staticClass:"main-dialog"},[a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"40%","modal-append-to-body":!1,center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("div",{staticClass:"dialog-content"},[a("el-form",{attrs:{model:e.formData,"label-width":"100px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{label:"公告ID"}},[a("el-input",{model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id","string"===typeof t?t.trim():t)},expression:"formData.id"}})],1),a("el-form-item",{attrs:{label:"公告标题"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1),a("el-form-item",{attrs:{label:"公告内容"}},[a("el-input",{attrs:{type:"textarea",rows:19,placeholder:"请输入...",clearable:""},model:{value:e.formData.content,callback:function(t){e.$set(e.formData,"content",t)},expression:"formData.content"}})],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("取 消")])],1)])],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("2c1b"),s={data:function(){return{total:0,currentPage:1,pageSize:200,bulletinData:[],dialogTitle:"",dialogVisible:!1,formData:{},tableHeight:0,isShow:!1}},created:function(){this.getGameBulletin()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getGameBulletin:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["gameBulletin"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.bulletinData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleAdd:function(){this.dialogTitle="新增公告",this.formData.id=0,this.dialogVisible=!0,this.isShow=!1},handleEdit:function(e){this.dialogTitle="编辑公告",this.formData=Object.assign({},e),this.dialogVisible=!0,this.isShow=!0},handleDelete:function(e){var t=this;this.$confirm("你确定要删除这条数据吗?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",lockScroll:!1}).then(Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["delGameBulletin"])({id:e});case 2:r=a.sent,0===r.data.code&&t.$message.success(r.data.message),t.getGameBulletin();case 5:case"end":return a.stop()}}),a)}))))},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0===e.formData.id){t.next=8;break}return a=Object.assign({},e.formData),t.next=4,Object(o["saveGameBulletin"])(a);case 4:r=t.sent,0===r.data.code&&e.$message.success(r.data.message),t.next=12;break;case 8:return t.next=10,Object(o["saveGameBulletin"])(e.formData);case 10:n=t.sent,0===n.data.code&&e.$message.success(n.data.message);case 12:e.getGameBulletin(),e.closeDialog();case 14:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.dialogVisible=!1,this.formData={}},changePage:function(e){this.currentPage=e,this.getGameBulletin()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("523e"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"4eaf07ca",null);t["default"]=d.exports},bf2f:function(e,t,a){},c016:function(e,t,a){"use strict";a("dc7b")},c3c6:function(e,t,a){"use strict";a("f2d2")},c4f9:function(e,t,a){"use strict";a("2ce4")},c6b5:function(e,t,a){},c7db:function(e,t,a){"use strict";a("5f03")},c848:function(e,t,a){},ca8e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加白名单")]),a("div",[a("span",[e._v("账户：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入",size:"small"},model:{value:e.account,callback:function(t){e.account=t},expression:"account"}})],1),a("el-button",{attrs:{icon:"el-icon-search",plain:"",type:"primary",size:"small"},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.whitelistData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"唯一ID"}}),a("el-table-column",{attrs:{prop:"channelId",label:"渠道ID"}}),a("el-table-column",{attrs:{prop:"channelName",label:"渠道名称"}}),a("el-table-column",{attrs:{prop:"openId",label:"账户ID"}}),a("el-table-column",{attrs:{prop:"userId",label:"操作人ID"}}),a("el-table-column",{attrs:{prop:"userName",label:"操作人名字"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger",plain:"",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("el-dialog",{attrs:{title:"新增白名单",visible:e.dialogVisible,width:"35%","modal-append-to-body":!1,center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"账户ID",prop:"openId",rules:[{required:!0,message:"请输入账号",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.formData.openId,callback:function(t){e.$set(e.formData,"openId","string"===typeof t?t.trim():t)},expression:"formData.openId"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark","string"===typeof t?t.trim():t)},expression:"formData.remark"}})],1)],1),a("template",{slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.confirmBtn}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("取 消")])],1)],2)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("dd6c"),s={data:function(){return{total:0,whitelistData:[],currentPage:1,pageSize:200,tableHeight:0,account:"",dialogTitle:"",dialogVisible:!1,formData:{}}},created:function(){this.getWhitelist()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},activated:function(){this.$refs.table&&this.$refs.table.doLayout&&this.$refs.table.doLayout()},methods:{getWhitelist:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["whiteList"])({page:e.currentPage,limit:e.pageSize,openId:e.account});case 2:a=t.sent,e.total=a.data.data.count,e.whitelistData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.getWhitelist()},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.account&&(a.openId=e.account),t.next=5,Object(o["whiteList"])(a);case 5:r=t.sent,e.total=r.data.data.count,e.whitelistData=r.data.data.data,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},confirmBtn:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.formData.validate(function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(a){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return t.next=3,Object(o["AddwhiteList"])(e.formData);case 3:e.getWhitelist(),e.closeDialog();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},handleDelete:function(e){var t=this;this.$confirm("你确定要删除这条数据吗?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",lockScroll:!1}).then(Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["deletewhiteList"])({id:e});case 2:r=a.sent,0===r.data.code&&t.$message.success(r.data.message),t.getWhitelist();case 5:case"end":return a.stop()}}),a)}))))},closeDialog:function(){this.$refs.formData.clearValidate(),this.dialogVisible=!1,this.formData={}},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("aac8"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"7c64d06e",null);t["default"]=d.exports},cbd6:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"primary",size:"small"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加热更配置")]),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.hotConfigData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"唯一ID",width:"130"}}),a("el-table-column",{attrs:{label:"服务器发送状态",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDetails(t.row)}}},[e._v("【查看详情】")])]}}])}),a("el-table-column",{attrs:{prop:"fixTime",label:"热更时间批号",width:"200"}}),a("el-table-column",{attrs:{prop:"fileNames",label:"配置文件相对路径","min-width":"300","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.fileNames,(function(r,n){return a("span",{key:n},[e._v(" "+e._s(r)+e._s(n!==t.row.fileNames.length-1?"，":"")+" ")])}))}}])}),a("el-table-column",{attrs:{prop:"userId",label:"操作员ID",width:"130"}}),a("el-table-column",{attrs:{prop:"userName",label:"操作员名称",width:"130"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)],1),a("el-dialog",{attrs:{title:"添加数据",visible:e.dialogVisible,width:"40%",center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"服务器选择：",prop:"serverText",rules:[{required:!0,message:"请选择服务器",trigger:"input"}]}},[a("div",{staticClass:"add"},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.serverText,callback:function(t){e.$set(e.ruleForm,"serverText",t)},expression:"ruleForm.serverText"}}),a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",plain:""},on:{click:function(t){e.serverDialog=!0}}})],1)]),a("el-form-item",{attrs:{label:"选择上传文件："}},[a("el-upload",{attrs:{multiple:"",action:"#",accept:".csv","file-list":e.fileList,"auto-upload":!1,"on-change":e.handleChange,"on-remove":e.handleRemove}},[a("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-upload",plain:""}},[e._v("选取文件")]),a("span",{staticClass:"el-upload__tip",staticStyle:{color:"#91949a"},attrs:{slot:"tip"},slot:"tip"},[e._v("（当前仅支持上传csv文件，且单个文件不超过2MB）")])],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("取 消")])],1)],1),a("ServerDialog",{attrs:{visible:e.serverDialog,"server-options":e.serverOptions},on:{"update:visible":function(t){e.serverDialog=t},checkedId:e.handleCheckedId}}),a("el-dialog",{attrs:{title:"热更配置详情",visible:e.detailsDialog,width:"55%"},on:{"update:visible":function(t){e.detailsDialog=t}}},[a("el-tabs",{staticStyle:{height:"470px"},attrs:{type:"card"}},[a("el-tab-pane",{attrs:{label:"详情信息"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.configDetail,height:"400"}},[a("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"fixId",label:"热更ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"serverUid",label:"数据唯一ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"serverId",label:"服务器ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"name",label:"服务器名字","min-width":"100"}}),a("el-table-column",{attrs:{prop:"status",label:"处理状态","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:0===t.row.status?"info":1===t.row.status?"success":"danger",size:"medium"}},[e._v(" "+e._s(0===t.row.status?"未处理":1===t.row.status?"成功":"失败")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"message",label:"处理信息","min-width":"200","show-overflow-tooltip":""}})],1)],1),a("el-tab-pane",{attrs:{label:"配置文件相对路径"}},[a("div",{staticClass:"file_path"},[a("ul",e._l(e.filePath,(function(t,r){return a("li",{key:r},[e._v(" "+e._s(t)+" ")])})),0)])])],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-refresh-right"},on:{click:e.handleResend}},[e._v("失败重发")]),a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-refresh"},on:{click:e.handleRefresh}},[e._v("刷新")]),a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-close"},on:{click:function(t){e.detailsDialog=!1}}},[e._v("关闭")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("4de4"),a("caad"),a("a15b"),a("d81d"),a("4e82"),a("a434"),a("b0c0"),a("d3b7"),a("2532"),a("159b"),a("bc3a")),s=a.n(o),c=a("f958"),u=a("b6a2"),d=a("b775"),p=a("bd39"),f={components:{ServerDialog:c["default"]},data:function(){return{baseApiUrl:d["baseApiUrl"],hotConfigData:[],configDetail:[],total:0,currentPage:1,pageSize:200,tableHeight:0,dialogVisible:!1,detailsDialog:!1,serverDialog:!1,serverOptions:[],serverUids:[],ruleForm:{serverText:""},files:[],fileList:[],fixId:"",filePath:[]}},created:function(){this.getFixDesign(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getFixDesign:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["fixDesign"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.hotConfigData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.ruleForm.validate(function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(a){var r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=8;break}return r=new FormData,r.append("serverUids",e.serverUids),e.files.forEach((function(e){r.append("files",e.raw)})),t.next=6,s.a.post("".concat(d["baseApiUrl"],"/fixDesign/upload.auth"),r,{headers:{"Content-Type":"multipart/form-data"}});case 6:e.getFixDesign(),e.closeDialog();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},handleChange:function(e){var t="csv",a=2097152,r=e.name.lastIndexOf("."),n=e.name.substring(r+1).toLowerCase(),i=e.size;t!==n?(this.$message.closeAll(),this.$message({type:"error",message:"当前限制只能上传csv文件",duration:5e3})):i>a?(this.$message.closeAll(),this.$message({type:"error",message:"请上传小于2MB的文件",duration:5e3})):(this.fileList.push(e),this.files=this.fileList)},handleRemove:function(e){var t=this.fileList.indexOf(e);-1!==t&&this.fileList.splice(t,1)},getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(p["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUids=e,this.serverUids.length>0?this.ruleForm.serverText=this.serverOptions.filter((function(e){return t.serverUids.includes(e.value)})).map((function(e){return e.text})).join("，"):this.ruleForm.serverText="",this.serverDialog=!1},handleDetails:function(e){var t=this;return Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.filePath=e.fileNames,t.fixId=e.id,a.next=4,Object(u["fixDesignResult"])({id:e.id});case 4:r=a.sent,t.configDetail=r.data.data.data,t.detailsDialog=!0;case 7:case"end":return a.stop()}}),a)})))()},closeDialog:function(){this.dialogVisible=!1,this.ruleForm.serverText="",this.fileList=[],this.$refs.ruleForm.clearValidate()},handleRefresh:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["fixDesignResult"])({id:e.fixId});case 2:a=t.sent,e.configDetail=a.data.data.data,0===a.data.code?e.$message.success("刷新成功！"):e.$message.error("刷新失败！");case 5:case"end":return t.stop()}}),t)})))()},handleResend:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["resendFixDesign"])({id:e.fixId});case 2:a=t.sent,0===a.data.code?e.$message.success("重发成功！"):e.$message.error("重发失败！");case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.getFixDesign()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},b=f,m=(a("9726"),a("2877")),h=Object(m["a"])(b,r,n,!1,null,"0798bc03",null);t["default"]=h.exports},cc3c:function(e,t,a){"use strict";a("4028")},cc80:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期：")]),a("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期","value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"420px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择服务器")])],1),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"表",name:"table"}},[a("el-table",{ref:"table",attrs:{data:e.registerTimeData,border:"","header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"timePeriod",label:"时间"}}),a("el-table-column",{attrs:{prop:"createNum",label:"注册数"}}),a("el-table-column",{attrs:{prop:"loginNum",label:"登录数"}}),a("el-table-column",{attrs:{prop:"maxOnline",label:"最高在线"}}),a("el-table-column",{attrs:{prop:"minOnline",label:"最低在线"}})],1)],1),a("el-tab-pane",{attrs:{label:"图",name:"chart"}},[a("div",{staticStyle:{width:"100%",height:"600px"},attrs:{id:"registerChart"}})])],1)],1)]),a("ServerDialog",{attrs:{visible:e.dialogVisible,"server-options":e.serverOptions},on:{"update:visible":function(t){e.dialogVisible=t},checkedId:e.handleCheckedId}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("4de4"),a("caad"),a("a15b"),a("d81d"),a("13d5"),a("fb6a"),a("4e82"),a("b680"),a("d3b7"),a("2532"),a("f958")),s=a("bd39"),c=a("2b44"),u={components:{ServerDialog:o["default"]},data:function(){return{activeName:"chart",registerTimeData:[],tableHeight:0,date:new Date,serverUids:[],serverOptions:[],dialogVisible:!1,serverText:""}},created:function(){this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100)),setTimeout((function(){e.activeName="table",e.getChart()}),100)},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUids=e,this.serverUids.length>0?this.serverText=this.serverOptions.filter((function(e){return t.serverUids.includes(e.value)})).map((function(e){return e.text})).join("，"):this.serverText="",this.dialogVisible=!1},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},e.date&&(r=e.$moment(e.date).unix(),a.time=r),e.serverUids&&(a.serverUids=e.serverUids),t.next=5,Object(c["playerTimeLog"])(a);case 5:return n=t.sent,e.registerTimeData=n.data.data.data,t.next=9,e.getChart();case 9:case"end":return t.stop()}}),t)})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-270:this.tableHeight=300},getChart:function(){var e=this.$echarts.init(document.getElementById("registerChart"),null),t=this.registerTimeData.map((function(e){return e.createNum})).reduce((function(e,t){return e+t}),0),a=this.registerTimeData.map((function(e){return e.createNum})),r=a.map((function(e){var a=(e/t).toFixed(2);return isNaN(a)?0:a})),n=this.registerTimeData.map((function(e){return e.timePeriod.slice(-2)+"时"})),i={title:{text:"注册统计",subtext:"总注册玩家人数："+t},subtextStyle:{fontWeight:"bold"},tooltip:{trigger:"axis"},legend:{data:["当前时段注册玩家占比"]},xAxis:{data:n},yAxis:{min:0,max:1},dataZoom:[{start:0,end:100}],series:[{name:"当前时段注册玩家占比",type:"line",data:r,smooth:!0}],grid:{left:50,right:10,top:100,containLabel:!0}};e.setOption(i),window.addEventListener("resize",(function(){e.resize()}))}}},d=u,p=(a("b75c"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"3205a5c4",null);t["default"]=f.exports},cd5d:function(e,t,a){"use strict";a("20f9")},cec0:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.handleAdd}},[e._v("添加服务器")]),a("div",[a("span",[e._v("平台名称：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",size:"small"},model:{value:e.platformId,callback:function(t){e.platformId=t},expression:"platformId"}},e._l(e.platformOpt,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请输入服务器ID"},model:{value:e.serverUid,callback:function(t){e.serverUid=e._n(t)},expression:"serverUid"}})],1),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",plain:"",size:"small"},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.serverData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[e._e(),a("el-table-column",{attrs:{prop:"serverId",label:"服务器ID","min-width":"120",fixed:""}}),a("el-table-column",{attrs:{prop:"name",label:"服务器名字","min-width":"120"}}),a("el-table-column",{attrs:{label:"平台信息","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.platformName)+" ["+e._s(t.row.platformId)+"] ")]}}])}),a("el-table-column",{attrs:{prop:"serverType",label:"服务器类型","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-tag",{attrs:{type:1===r.serverType?"warning":2===r.serverType?"danger":"success"}},[e._v(" "+e._s(1===r.serverType?"测试":2===r.serverType?"审核":"正式")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"socketType",label:"socket连接方式","min-width":"130"}}),a("el-table-column",{attrs:{prop:"externalIp",label:"外网IP","min-width":"120"}}),a("el-table-column",{attrs:{prop:"internalIp",label:"内网IP","min-width":"120"}}),a("el-table-column",{attrs:{prop:"tcpPort",label:"tcp/ws端口","min-width":"120"}}),a("el-table-column",{attrs:{prop:"httpPort",label:"http端口","min-width":"120"}}),a("el-table-column",{attrs:{prop:"dbIp",label:"数据库IP","min-width":"120"}}),a("el-table-column",{attrs:{prop:"dbPort",label:"数据库端口","min-width":"120"}}),a("el-table-column",{attrs:{prop:"dbUser",label:"数据库用户","min-width":"120"}}),a("el-table-column",{attrs:{prop:"dbPwd",label:"数据库密码","min-width":"160"}}),a("el-table-column",{attrs:{prop:"dbGameName",label:"游戏数据库名","min-width":"120"}}),a("el-table-column",{attrs:{prop:"dbLogName",label:"日志数据库名","min-width":"120"}}),a("el-table-column",{attrs:{prop:"openTime",label:"预设开服时间","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.openTime)))]}}])}),a("el-table-column",{attrs:{prop:"realOpenTime",label:"实际开服时间","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.realOpenTime)))]}}])}),a("el-table-column",{attrs:{prop:"opening",label:"是否已经开服","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.opening?"success":"info"}},[e._v(" "+e._s(t.row.opening?"是":"否")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"sendOpenStatus",label:"开服时间是否发送成功","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:0===t.row.sendOpenStatus?"info":1===t.row.sendOpenStatus?"success":"danger"}},[e._v(" "+e._s(e.getOpen(t.row.sendOpenStatus))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:0===t.row.status?"danger":1===t.row.status?"success":2===t.row.status?"warning":null}},[e._v(" "+e._s(e.getStatus(t.row.status))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"recommend",label:"是否为推荐服务器","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.recommend?"success":"danger"}},[e._v(" "+e._s(t.row.recommend?"是":"否")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"heartTime",label:"最后心跳时间","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.heartTime)))]}}])}),a("el-table-column",{attrs:{prop:"running",label:"服务器是否运行中","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.running?"success":"info"}},[e._v(" "+e._s(t.row.running?"是":"否")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"registerNum",label:"注册数","min-width":"150"}}),a("el-table-column",{attrs:{prop:"createNum",label:"创角数","min-width":"150"}}),a("el-table-column",{attrs:{prop:"onlineNum",label:"在线数","min-width":"150"}}),a("el-table-column",{attrs:{prop:"battleNum",label:"战斗数","min-width":"150"}}),a("el-table-column",{attrs:{prop:"currBattleNum",label:"当前战斗数","min-width":"150"}}),a("el-table-column",{attrs:{prop:"maxMemory",label:"最大可用内存","min-width":"150"}}),a("el-table-column",{attrs:{prop:"freeMemory",label:"空闲内存","min-width":"150"}}),a("el-table-column",{attrs:{prop:"totalMemory",label:"占用内存","min-width":"150"}},[a("template",{slot:"header"},[a("span",[e._v("占用内存")]),e._v(" "),a("el-tooltip",{attrs:{content:"占用内存 = 空闲内存 + 实际使用内存",placement:"top"}},[a("i",{staticClass:"el-icon-info",staticStyle:{color:"#409eff"}})])],1)],2),a("el-table-column",{attrs:{prop:"usedMemory",label:"实际使用内存","min-width":"150"}}),a("el-table-column",{attrs:{prop:"leftMemory",label:"剩余可用内存","min-width":"150"}},[a("template",{slot:"header"},[a("span",[e._v("剩余可用内存")]),e._v(" "),a("el-tooltip",{attrs:{content:"剩余可用内存 = 最大可用内存 - 实际使用内存",placement:"top"}},[a("i",{staticClass:"el-icon-info",staticStyle:{color:"#409eff"}})])],1)],2),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-edit-outline"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"45%",center:"","modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{ref:"ruleForm",attrs:{model:e.formData,"label-width":"130px",rules:e.rules}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"服务器ID",prop:"serverId"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.serverId,callback:function(t){e.$set(e.formData,"serverId","string"===typeof t?t.trim():t)},expression:"formData.serverId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"服务器名字",prop:"name"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name","string"===typeof t?t.trim():t)},expression:"formData.name"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"外网IP",prop:"externalIp"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.externalIp,callback:function(t){e.$set(e.formData,"externalIp","string"===typeof t?t.trim():t)},expression:"formData.externalIp"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"内网IP",prop:"internalIp"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.internalIp,callback:function(t){e.$set(e.formData,"internalIp","string"===typeof t?t.trim():t)},expression:"formData.internalIp"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"tcp/ws端口",prop:"tcpPort"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.tcpPort,callback:function(t){e.$set(e.formData,"tcpPort","string"===typeof t?t.trim():t)},expression:"formData.tcpPort"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"http端口",prop:"httpPort"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.httpPort,callback:function(t){e.$set(e.formData,"httpPort","string"===typeof t?t.trim():t)},expression:"formData.httpPort"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据库IP",prop:"dbIp"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.dbIp,callback:function(t){e.$set(e.formData,"dbIp","string"===typeof t?t.trim():t)},expression:"formData.dbIp"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据库端口",prop:"dbPort"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.dbPort,callback:function(t){e.$set(e.formData,"dbPort","string"===typeof t?t.trim():t)},expression:"formData.dbPort"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据库用户",prop:"dbUser"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.dbUser,callback:function(t){e.$set(e.formData,"dbUser","string"===typeof t?t.trim():t)},expression:"formData.dbUser"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据库密码",prop:"dbPwd"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.dbPwd,callback:function(t){e.$set(e.formData,"dbPwd","string"===typeof t?t.trim():t)},expression:"formData.dbPwd"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"游戏数据库名",prop:"dbGameName"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.dbGameName,callback:function(t){e.$set(e.formData,"dbGameName","string"===typeof t?t.trim():t)},expression:"formData.dbGameName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"日志数据库名",prop:"dbLogName"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.dbLogName,callback:function(t){e.$set(e.formData,"dbLogName","string"===typeof t?t.trim():t)},expression:"formData.dbLogName"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否为推荐服务器"}},[a("el-select",{attrs:{clearable:""},model:{value:e.formData.recommend,callback:function(t){e.$set(e.formData,"recommend",t)},expression:"formData.recommend"}},[a("el-option",{attrs:{value:!0,label:"是"}}),a("el-option",{attrs:{value:!1,label:"否"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{clearable:""},model:{value:e.formData.status,callback:function(t){e.$set(e.formData,"status",t)},expression:"formData.status"}},[a("el-option",{attrs:{value:0,label:"维护"}}),a("el-option",{attrs:{value:1,label:"流畅"}}),a("el-option",{attrs:{value:2,label:"爆满"}}),a("el-option",{attrs:{value:3,label:"新服"}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"平台名称",prop:"platformId",rules:[{required:!0,message:"请选择平台",trigger:"change"}]}},[a("el-select",{attrs:{clearable:"",filterable:""},model:{value:e.formData.platformId,callback:function(t){e.$set(e.formData,"platformId",t)},expression:"formData.platformId"}},e._l(e.platformOpt,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"服务器类型",prop:"serverType",rules:[{required:!0,message:"请选择服务器类型",trigger:"change"}]}},[a("el-select",{attrs:{clearable:""},model:{value:e.formData.serverType,callback:function(t){e.$set(e.formData,"serverType",t)},expression:"formData.serverType"}},[a("el-option",{attrs:{value:1,label:"测试"}}),a("el-option",{attrs:{value:2,label:"审核"}}),a("el-option",{attrs:{value:3,label:"正式"}})],1)],1)],1)],1),a("el-form-item",{attrs:{label:"socket连接方式",prop:"socketType"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.socketType,callback:function(t){e.$set(e.formData,"socketType","string"===typeof t?t.trim():t)},expression:"formData.socketType"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("2c1b"),s={0:"未发送",1:"成功",2:"失败"},c={0:"维护",1:"流畅",2:"爆满",3:"新服"},u={data:function(){return{total:0,currentPage:1,pageSize:200,serverData:[],dialogTitle:"",dialogVisible:!1,formData:{},tableHeight:0,platformOpt:[],platformId:"",serverUid:"",rules:{serverId:[{required:!0,message:"请输入服务器ID",trigger:"blur"}],name:[{required:!0,message:"请输入服务器名字",trigger:"blur"}],externalIp:[{required:!0,message:"请输入外网IP",trigger:"blur"}],internalIp:[{required:!0,message:"请输入内网IP",trigger:"blur"}],tcpPort:[{required:!0,message:"请输入tcp/ws端口",trigger:"blur"}],httpPort:[{required:!0,message:"请输入http端口",trigger:"blur"}],dbIp:[{required:!0,message:"请输入数据库IP",trigger:"blur"}],dbPort:[{required:!0,message:"请输入数据库端口",trigger:"blur"}],dbUser:[{required:!0,message:"请输入数据库用户",trigger:"blur"}],dbPwd:[{required:!0,message:"请输入数据库密码",trigger:"blur"}],dbGameName:[{required:!0,message:"请输入游戏数据库名",trigger:"blur"}],dbLogName:[{required:!0,message:"请输入日志数据库名",trigger:"blur"}],socketType:[{required:!0,message:"请输入socket连接方式",trigger:"blur"}]}}},created:function(){this.getGameServer(),this.getPlatformList()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getGameServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["gameServer"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.serverData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleAdd:function(){var e=this;this.dialogTitle="新增服务器",this.dialogVisible=!0,this.$nextTick((function(){e.$refs.ruleForm.clearValidate()})),this.formData.id=0},handleEdit:function(e){this.dialogTitle="编辑服务器数据",this.formData=Object.assign({},e),this.dialogVisible=!0},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.ruleForm.validate(function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(a){var r,n,l;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=15;break}if(0===e.formData.id){t.next=9;break}return r=Object.assign({},e.formData),t.next=5,Object(o["saveGameServer"])(r);case 5:n=t.sent,0===n.data.code&&e.$message.success(n.data.message),t.next=13;break;case 9:return t.next=11,Object(o["saveGameServer"])(e.formData);case 11:l=t.sent,0===l.data.code&&e.$message.success(l.data.message);case 13:e.getGameServer(),e.closeDialog();case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.dialogVisible=!1,this.formData={},this.$refs.ruleForm.clearValidate()},getPlatformList:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["platformOptions"])();case 2:a=t.sent,e.platformOpt=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.platformId&&(a.platformId=e.platformId),e.serverUid&&(a.serverUid=e.serverUid),t.next=6,Object(o["gameServer"])(a);case 6:r=t.sent,e.total=r.data.data.count,e.serverData=r.data.data.data,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},getOpen:function(e){return s[e]},getStatus:function(e){return c[e]},changePage:function(e){this.currentPage=e,this.getGameServer()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},d=u,p=(a("6895"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"3560340c",null);t["default"]=f.exports},cfb9:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入玩家ID"},model:{value:e.playerId,callback:function(t){e.playerId=e._n(t)},expression:"playerId"}})],1),a("div",[a("span",[e._v("玩家名字：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入玩家名字"},model:{value:e.nick,callback:function(t){e.nick="string"===typeof t?t.trim():t},expression:"nick"}})],1),a("div",[a("span",[e._v("账号ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入账号ID"},model:{value:e.openId,callback:function(t){e.openId=e._n(t)},expression:"openId"}})],1),a("div",[a("span",[e._v("渠道订单号：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入订单号"},model:{value:e.orderNumber,callback:function(t){e.orderNumber=e._n(t)},expression:"orderNumber"}})],1),a("div",[a("span",[e._v("订单状态：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:""},model:{value:e.orderStatus,callback:function(t){e.orderStatus=e._n(t)},expression:"orderStatus"}},[a("el-option",{attrs:{value:-1,label:"全部"}}),a("el-option",{attrs:{value:0,label:"未处理"}}),a("el-option",{attrs:{value:1,label:"发货成功"}}),a("el-option",{attrs:{value:2,label:"发货失败"}})],1)],1),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.rechargeData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"数据ID",width:"120"}}),a("el-table-column",{attrs:{prop:"platformId",label:"平台ID",width:"120"}}),a("el-table-column",{attrs:{prop:"channelId",label:"渠道ID",width:"100"}}),a("el-table-column",{attrs:{prop:"serverId",label:"服务器ID",width:"100"}}),a("el-table-column",{attrs:{prop:"playerId",label:"玩家ID",width:"160"}}),a("el-table-column",{attrs:{prop:"nick",label:"玩家名字",width:"130"}}),a("el-table-column",{attrs:{prop:"openId",label:"账号ID",width:"130"}}),a("el-table-column",{attrs:{prop:"level",label:"下单等级",width:"100"}}),a("el-table-column",{attrs:{prop:"sdkOrderId",label:"渠道订单号",width:"160"}}),a("el-table-column",{attrs:{prop:"gameOrderId",label:"游戏服订单号",width:"130"}}),a("el-table-column",{attrs:{prop:"money",label:"支付金额 (单位：元)",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.money/100)+" ")]}}])}),a("el-table-column",{attrs:{prop:"productId",label:"充值商品ID",width:"130"}}),a("el-table-column",{attrs:{prop:"productName",label:"充值商品名字",width:"160"}}),a("el-table-column",{attrs:{prop:"insertTime",label:"充值时间","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.insertTime)))]}}])}),a("el-table-column",{attrs:{prop:"give",label:"发货状态",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:0===t.row.give?"info":1===t.row.give?"success":"danger"}},[e._v(" "+e._s(e.getStatus(t.row.give))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"400"}}),a("el-table-column",{attrs:{prop:"test",label:"是否测试订单",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-tag",{attrs:{type:0===r.test?"success":"danger"}},[e._v(" "+e._s(0===r.test?"是":"否")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"allCheck",label:"是否所有验证都通过",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-tag",{attrs:{type:r.allCheck?"success":"danger"}},[e._v(" "+e._s(r.allCheck?"是":"否")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"gameResponse",label:"游戏服的响应",width:"400"}}),a("el-table-column",{attrs:{prop:"callbackData",label:"回调原数据",width:"1000"}}),a("el-table-column",{attrs:{prop:"sign",label:"订单签名",width:"300"}}),a("el-table-column",{attrs:{prop:"localSign",label:"本地订单签名",width:"300"}}),a("el-table-column",{attrs:{prop:"extraSign",label:"扩展参数签名",width:"300"}}),a("el-table-column",{attrs:{prop:"localExtraSign",label:"本地扩展参数签名",width:"300"}}),a("el-table-column",{attrs:{prop:"remoteIp",label:"请求的IP",width:"150"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:1!==t.row.give,expression:"scope.row.give!==1"}],attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-edit"},on:{click:function(a){return e.handleReplenishment(t.row.id)}}},[e._v("人工补单")])]}}])})],1)],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("b65f"),s={0:"未处理",1:"发货成功",2:"发货失败"},c={data:function(){return{total:0,rechargeData:[],currentPage:1,pageSize:200,tableHeight:0,date:[(new Date).setDate(1),new Date],playerId:"",nick:"",openId:"",orderNumber:"",orderStatus:-1}},created:function(){this.getRecharge()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},activated:function(){this.$refs.table&&this.$refs.table.doLayout&&this.$refs.table.doLayout()},methods:{getRecharge:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["recharge"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.rechargeData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.openId&&(a.openId=e.openId),e.nick&&(a.nick=e.nick),e.playerId&&(a.playerId=e.playerId),e.orderNumber&&(a.sdkOrderId=e.orderNumber),e.orderStatus&&(a.status=e.orderStatus),t.next=10,Object(o["recharge"])(a);case 10:r=t.sent,e.rechargeData=r.data.data.data,e.total=r.data.data.count,t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},handleReplenishment:function(e){var t=this;return Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["manualRecharge"])({rechargeId:e});case 2:r=a.sent,0===r.data.code?t.$message.success("补单成功！"):t.$message.error("补单失败！");case 4:case"end":return a.stop()}}),a)})))()},changePage:function(e){this.currentPage=e,this.getRecharge()},getStatus:function(e){return s[e]},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},u=c,d=(a("cd5d"),a("2877")),p=Object(d["a"])(u,r,n,!1,null,"c5171218",null);t["default"]=p.exports},d021:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-button",{attrs:{icon:"el-icon-refresh",type:"primary",size:"small"},on:{click:e.handleUpdate}},[e._v("更新游戏兑换码礼包配置数据")]),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.codeCfgData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"礼包ID"}}),a("el-table-column",{attrs:{prop:"name",label:"礼包名"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("b6a2"),s={data:function(){return{codeCfgData:[],total:0,currentPage:1,pageSize:200,tableHeight:0}},created:function(){this.getGiftCodeCfg()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getGiftCodeCfg:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["giftCodeCfg"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.codeCfgData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleUpdate:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["updateCodeCfg"])();case 2:a=t.sent,0===a.data.code?e.$message.success("更新成功!"):e.$message.error("更新失败!");case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.getGiftCodeCfg()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=a("2877"),d=Object(u["a"])(c,r,n,!1,null,"47f42c95",null);t["default"]=d.exports},d103:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.radioDialog=!0}}},[e._v("选择服务器")])],1),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")]),a("div",[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入"},model:{value:e.command,callback:function(t){e.command=t},expression:"command"}}),a("el-button",{attrs:{size:"small",type:"success"},on:{click:e.handleOrder}},[e._v("执行命令")])],1)],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.playerLtvData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"serverUid",label:"数据唯一ID",width:"120"}}),a("el-table-column",{attrs:{prop:"serverId",label:"服务器ID",width:"120"}}),a("el-table-column",{attrs:{prop:"serverName",label:"服务器名字",width:"120"}}),a("el-table-column",{attrs:{prop:"bornDate",label:"日期",width:"120"}}),a("el-table-column",{attrs:{prop:"playerCount",label:"账号数",width:"120"}}),a("el-table-column",{attrs:{prop:"day0",label:"当日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day0/t.row.playerCount/100))+" ("+e._s(t.row.day0/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day1",label:"1日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day1/t.row.playerCount/100))+" ("+e._s(t.row.day1/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day2",label:"2日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day2/t.row.playerCount/100))+" ("+e._s(t.row.day2/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day3",label:"3日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day3/t.row.playerCount/100))+" ("+e._s(t.row.day3/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day4",label:"4日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day4/t.row.playerCount/100))+" ("+e._s(t.row.day4/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day5",label:"5日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day5/t.row.playerCount/100))+" ("+e._s(t.row.day5/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day6",label:"6日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day6/t.row.playerCount/100))+" ("+e._s(t.row.day6/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day7",label:"7日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day7/t.row.playerCount/100))+" ("+e._s(t.row.day7/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day8",label:"8日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day8/t.row.playerCount/100))+" ("+e._s(t.row.day8/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day9",label:"9日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day9/t.row.playerCount/100))+" ("+e._s(t.row.day9/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day10",label:"10日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day10/t.row.playerCount/100))+" ("+e._s(t.row.day10/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day11",label:"11日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day11/t.row.playerCount/100))+" ("+e._s(t.row.day11/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day12",label:"12日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day12/t.row.playerCount/100))+" ("+e._s(t.row.day12/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day13",label:"13日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day13/t.row.playerCount/100))+" ("+e._s(t.row.day13/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day14",label:"14日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day14/t.row.playerCount/100))+" ("+e._s(t.row.day14/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day30",label:"30日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day30/t.row.playerCount/100))+" ("+e._s(t.row.day30/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day60",label:"60日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day60/t.row.playerCount/100))+" ("+e._s(t.row.day60/100)+") ")]}}])}),a("el-table-column",{attrs:{prop:"day90",label:"90日LTV","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.day90/t.row.playerCount/100))+" ("+e._s(t.row.day90/100)+") ")]}}])})],1)],1)]),a("ServerDialog",{attrs:{visible:e.radioDialog,"server-options":e.serverOptions},on:{"update:visible":function(t){e.radioDialog=t},checkedId:e.handleCheckedId}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("b680"),a("d3b7"),a("e1f6")),s=a("2b44"),c=a("bd39"),u={components:{ServerDialog:o["default"]},data:function(){return{playerLtvData:[],currentPage:1,pageSize:200,tableHeight:0,date:[(new Date).setDate(1),new Date],serverUid:"",serverOptions:[],radioDialog:!1,serverText:"",command:""}},created:function(){this.getPlayerLtv(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getPlayerLtv:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["playerLtv"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.playerLtvData=a.data.data.data;case 4:case"end":return t.stop()}}),t)})))()},getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:"",this.radioDialog=!1},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.serverText&&(a.serverUid=e.serverUid),t.next=6,Object(s["playerLtv"])(a);case 6:r=t.sent,e.playerLtvData=r.data.data.data,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},handleOrder:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.command){t.next=4;break}e.$message.warning("请输入执行命令"),t.next=8;break;case 4:return t.next=6,Object(s["manualTriggerLTV"])({command:e.command});case 6:a=t.sent,0===a.data.code&&(e.$message.success(a.data.message),e.command="");case 8:case"end":return t.stop()}}),t)})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-140:this.tableHeight=300},formatNumber:function(e){return e.toFixed(2)}}},d=u,p=(a("ec70"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"e4cca510",null);t["default"]=f.exports},d2a5:function(e,t,a){},d30c:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.apiData,height:e.tableHeight,"header-cell-style":{background:"#f5f7fa"}}},[a("el-table-column",{attrs:{prop:"id",label:"唯一ID"}}),a("el-table-column",{attrs:{prop:"hrefUrl",label:"链接地址"}}),a("el-table-column",{attrs:{prop:"comment",label:"接口说明"}}),a("el-table-column",{attrs:{prop:"paramForm",label:"参数格式"}}),a("el-table-column",{attrs:{prop:"returnForm",label:"返回格式"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)])],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("8a8a"),s={data:function(){return{total:0,currentPage:1,pageSize:200,apiData:[],tableHeight:0}},created:function(){this.getApidoc(),this.getTableHeight()},mounted:function(){var e=this;window.onresize=function(){e.resizeFlag&&clearTimeout(e.resizeFlag),e.resizeFlag=setTimeout((function(){e.getTableHeight(),e.resizeFlag=null}),100)}},methods:{getApidoc:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["apidoc"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.apiData=a.data.data.data,e.total=a.data.data.count;case 5:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.getApidoc()},getTableHeight:function(){var e=200,t=window.innerHeight-e;this.tableHeight=t<=300?300:window.innerHeight-e}}},c=s,u=(a("c016"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"3f11d1d2",null);t["default"]=d.exports},d50f:function(e,t,a){},d569:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.radioDialog=!0}}},[e._v("选择服务器")])],1),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("el-table",{ref:"table",attrs:{border:"",data:e.recruitRefreshDotData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"dateStr",label:"日期","min-width":"120"}}),a("el-table-column",{attrs:{prop:"num0to10",label:"0 - 10","min-width":"120"}}),a("el-table-column",{attrs:{prop:"num11to20",label:"11 - 20","min-width":"120"}}),a("el-table-column",{attrs:{prop:"num21toMax",label:"21 - 以上","min-width":"120"}}),a("el-table-column",{attrs:{prop:"joinNum",label:"参与人数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"createNum",label:"创号人数","min-width":"120"}})],1),a("ServerDialog",{attrs:{visible:e.radioDialog,"server-options":e.serverOptions},on:{"update:visible":function(t){e.radioDialog=t},checkedId:e.handleCheckedId}}),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("d3b7"),a("e1f6")),s=a("bd39"),c=a("2b44"),u={components:{ServerDialog:o["default"]},data:function(){return{recruitRefreshDotData:[],total:0,currentPage:1,pageSize:200,tableHeight:0,serverText:"",radioDialog:!1,serverOptions:[],serverUid:"",date:[(new Date).setDate(1),new Date]}},created:function(){this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:"",this.radioDialog=!1},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.serverText){t.next=6;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=11;break;case 6:return t.next=8,Object(c["recruitRefreshDot"])(a);case 8:r=t.sent,e.recruitRefreshDotData=r.data.data.data,e.total=r.data.data.count;case 11:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.handleSearch()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},d=u,p=(a("9b56"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"55581463",null);t["default"]=f.exports},d638:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("渠道：")]),a("el-select",{attrs:{filterable:"",clearable:"",size:"small"},model:{value:e.channelId,callback:function(t){e.channelId=t},expression:"channelId"}},e._l(e.channelOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入"},model:{value:e.playerId,callback:function(t){e.playerId=e._n(t)},expression:"playerId"}})],1),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.playerMailsData,"header-cell-style":e.rowClass,height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"邮件自增ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"receiver",label:"玩家ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"template",label:"邮件模板ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"titleArgs",label:"标题参数","min-width":"100"}}),a("el-table-column",{attrs:{prop:"contentArgs",label:"内容参数","min-width":"100"}}),a("el-table-column",{attrs:{prop:"attachment",label:"附件","min-width":"100"}}),a("el-table-column",{attrs:{prop:"read",label:"是否已读","min-width":"100"}}),a("el-table-column",{attrs:{prop:"receive",label:"是否已领","min-width":"100"}}),a("el-table-column",{attrs:{prop:"expireTime",label:"到期时间","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.expireTime)))]}}])}),a("el-table-column",{attrs:{label:"游戏事件","header-align":"center"}},[a("el-table-column",{attrs:{prop:"gameCause","min-width":"150"}}),a("el-table-column",{attrs:{prop:"gameCauseText","min-width":"150"}})],1),a("el-table-column",{attrs:{prop:"fromPoolId",label:"来自哪个系统邮件","min-width":"140"}}),e._e(),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger",plain:"",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)])],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("8e64"),s=a("3b7a"),c={data:function(){return{total:0,playerMailsData:[],currentPage:1,pageSize:200,tableHeight:0,channelId:"",channelOptions:[],playerId:""}},created:function(){this.getChannel()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getChannel:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["channelOpt"])();case 2:a=t.sent,e.channelOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.handleSearch()},handleDelete:function(e){var t=this;this.$confirm("你确定要删除这条数据吗?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",lockScroll:!1}).then(Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["deletePlayerMail"])({channelId:e.channelId,playerId:e.receiver,mailId:e.fromPoolId});case 2:r=a.sent,0===r.data.code&&t.$message.success(r.data.message),t.handleSearch();case 5:case"end":return a.stop()}}),a)}))))},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.playerId&&!isNaN(e.playerId)){t.next=6;break}e.$message.error("请输入玩家ID，且玩家ID为数字类型"),t.next=17;break;case 6:if(e.channelId){t.next=10;break}e.$message.error("请选择渠道，渠道为必选项"),t.next=17;break;case 10:return a.channelId=e.channelId,a.playerId=e.playerId,t.next=14,Object(o["playerMails"])(a);case 14:r=t.sent,e.total=r.data.data.count,e.playerMailsData=r.data.data.data;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](0),console.error(t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})))()},rowClass:function(e){var t=e.rowIndex;if(1===t)return{display:"none",background:"#f5f7fa"}},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},u=c,d=(a("039f"),a("2877")),p=Object(d["a"])(u,r,n,!1,null,"0600c682",null);t["default"]=p.exports},d9a0:function(e,t,a){},da0f:function(e,t,a){},dc30:function(e,t,a){},dc65:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.radioDialog=!0}}},[e._v("选择服务器")])],1),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.playerRemainData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"serverId",label:"服务器ID",width:"120"}}),a("el-table-column",{attrs:{prop:"serverName",label:"服务器名字",width:"120"}}),a("el-table-column",{attrs:{prop:"bornDate",label:"日期",width:"120"}}),a("el-table-column",{attrs:{prop:"dayBase",label:"账号数",width:"120"}}),a("el-table-column",{attrs:{prop:"day0",label:"当日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day0)+" ("+e._s(e.formatNumber(t.row.day0/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day1",label:"1日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day1)+" ("+e._s(e.formatNumber(t.row.day1/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day2",label:"2日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day2)+" ("+e._s(e.formatNumber(t.row.day2/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day3",label:"3日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day3)+" ("+e._s(e.formatNumber(t.row.day3/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day4",label:"4日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day4)+" ("+e._s(e.formatNumber(t.row.day4/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day5",label:"5日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day5)+" ("+e._s(e.formatNumber(t.row.day5/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day6",label:"6日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day6)+" ("+e._s(e.formatNumber(t.row.day6/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day7",label:"7日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day7)+" ("+e._s(e.formatNumber(t.row.day7/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day8",label:"8日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day8)+" ("+e._s(e.formatNumber(t.row.day8/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day9",label:"9日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day9)+" ("+e._s(e.formatNumber(t.row.day9/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day10",label:"10日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day10)+" ("+e._s(e.formatNumber(t.row.day10/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day11",label:"11日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day11)+" ("+e._s(e.formatNumber(t.row.day11/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day12",label:"12日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day12)+" ("+e._s(e.formatNumber(t.row.day12/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day13",label:"13日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day13)+" ("+e._s(e.formatNumber(t.row.day13/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day14",label:"14日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day14)+" ("+e._s(e.formatNumber(t.row.day14/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day30",label:"30日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day30)+" ("+e._s(e.formatNumber(t.row.day30/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day60",label:"60日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day60)+" ("+e._s(e.formatNumber(t.row.day60/t.row.dayBase*100))+"%) ")]}}])}),a("el-table-column",{attrs:{prop:"day90",label:"90日留存",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.day90)+" ("+e._s(e.formatNumber(t.row.day90/t.row.dayBase*100))+"%) ")]}}])})],1)],1)]),a("ServerDialog",{attrs:{visible:e.radioDialog,"server-options":e.serverOptions},on:{"update:visible":function(t){e.radioDialog=t},checkedId:e.handleCheckedId}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("b680"),a("d3b7"),a("e1f6")),s=a("2b44"),c=a("bd39"),u={components:{ServerDialog:o["default"]},data:function(){return{playerRemainData:[],currentPage:1,pageSize:200,tableHeight:0,date:[(new Date).setDate(1),new Date],serverUid:"",serverOptions:[],radioDialog:!1,serverText:""}},created:function(){this.getPlayerRemain(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getPlayerRemain:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["playerRemain"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.playerRemainData=a.data.data.data;case 4:case"end":return t.stop()}}),t)})))()},getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:"",this.radioDialog=!1},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.serverText&&(a.serverUid=e.serverUid),t.next=6,Object(s["playerRemain"])(a);case 6:r=t.sent,e.playerRemainData=r.data.data.data,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-140:this.tableHeight=300},formatNumber:function(e){return e.toFixed(2)}}},d=u,p=(a("a633"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"5510147c",null);t["default"]=f.exports},dc7b:function(e,t,a){},dcbc:function(e,t,a){},dd6c:function(e,t,a){"use strict";a.r(t),a.d(t,"playerInfo",(function(){return n})),a.d(t,"whiteList",(function(){return i})),a.d(t,"godFinger",(function(){return l})),a.d(t,"forbidList",(function(){return o})),a.d(t,"AddwhiteList",(function(){return s})),a.d(t,"addForbidList",(function(){return c})),a.d(t,"saveGodFinger",(function(){return u})),a.d(t,"deletewhiteList",(function(){return d})),a.d(t,"deleteGodFinger",(function(){return p})),a.d(t,"deleteForbidListr",(function(){return f})),a.d(t,"playerDetail",(function(){return b})),a.d(t,"playerHero",(function(){return m})),a.d(t,"onlineSituation",(function(){return h})),a.d(t,"playerBag",(function(){return g})),a.d(t,"blockPlayer",(function(){return v})),a.d(t,"KickoutPlayer",(function(){return w}));var r=a("b775");function n(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/player/data.auth",method:"post",data:t})}function i(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/whiteList/data.auth",method:"post",data:t})}function l(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/godFinger/data.auth",method:"post",data:t})}function o(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/forbidList/data.auth",method:"post",data:t})}function s(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/whiteList/add.authw",method:"post",data:t})}function c(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/forbidList/add.authw",method:"post",data:t})}function u(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/godFinger/save.authw",method:"post",data:t})}function d(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/whiteList/delete.authw",method:"post",data:t})}function p(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/godFinger/delete.authw",method:"post",data:t})}function f(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/forbidList/delete.authw",method:"post",data:t})}function b(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/player/detail.auth",method:"post",data:t})}function m(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/player/hero.auth",method:"post",data:t})}function h(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/player/detail.auth",method:"post",data:t})}function g(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/player/bag.auth",method:"post",data:t})}function v(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/playerCurrOnline/forbid.auth",method:"post",data:t})}function w(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/playerCurrOnline/forcedOffLine.auth",method:"post",data:t})}},e038:function(e,t,a){},e1f6:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.visible,title:"选择服务器",width:"48%","modal-append-to-body":!1,center:""},on:{close:e.closeDialog}},[a("el-radio-group",{model:{value:e.checkedServer,callback:function(t){e.checkedServer=t},expression:"checkedServer"}},e._l(e.serverOptions,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value,vlaue:t.value}},[e._v(e._s(t.text))])})),1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.serverConfirm}},[e._v("确 认")]),a("el-button",{attrs:{size:"small"},on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},n=[],i={props:{visible:Boolean,serverOptions:{type:Array,default:function(){return[]}}},data:function(){return{checkedServer:""}},methods:{serverConfirm:function(){this.$emit("checkedId",this.checkedServer),this.closeDialog()},closeDialog:function(){this.$emit("update:visible",!1)}}},l=i,o=a("2877"),s=Object(o["a"])(l,r,n,!1,null,null,null);t["default"]=s.exports},e36e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("礼包码：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入"},model:{value:e.code,callback:function(t){e.code="string"===typeof t?t.trim():t},expression:"code"}})],1),a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入"},model:{value:e.playerId,callback:function(t){e.playerId="string"===typeof t?t.trim():t},expression:"playerId"}})],1),a("div",[a("span",[e._v("玩家名称：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入"},model:{value:e.playerName,callback:function(t){e.playerName="string"===typeof t?t.trim():t},expression:"playerName"}})],1),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.giftCodeLogData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"记录ID"}}),a("el-table-column",{attrs:{prop:"code",label:"礼包码"}}),a("el-table-column",{attrs:{prop:"playerId",label:"玩家ID"}}),a("el-table-column",{attrs:{prop:"playerName",label:"玩家名称"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)])],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("b6a2"),s={data:function(){return{giftCodeLogData:[],total:0,currentPage:1,pageSize:200,tableHeight:0,code:"",playerId:"",playerName:""}},created:function(){this.getGiftCodeLog()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getGiftCodeLog:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["giftCodeShareLog"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.giftCodeLogData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={},e.code&&(a.code=e.code),e.playerId&&(a.playerId=e.playerId),e.playerName&&(a.playerName=e.playerName),t.next=7,Object(o["giftCodeShareLog"])(a);case 7:r=t.sent,e.giftCodeLogData=r.data.data.data,e.total=r.data.data.count,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},changePage:function(e){this.currentPage=e,this.getGiftCodeLog()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("2d1d"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"4aba07f0",null);t["default"]=d.exports},e49e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.radioDialog=!0}}},[e._v("选择服务器")])],1),a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("el-table",{ref:"table",attrs:{border:"",data:e.fogDotData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"fogId",label:"区域ID"}}),a("el-table-column",{attrs:{prop:"minFighting",label:"最小解锁战力"}}),a("el-table-column",{attrs:{prop:"canNum",label:"可解锁人数"}}),a("el-table-column",{attrs:{prop:"num",label:"解锁人数"}}),a("el-table-column",{attrs:{prop:"rate",label:"解锁人数占比"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatNumber(t.row.num/t.row.canNum*100))+"% ")]}}])})],1),a("ServerDialog",{attrs:{visible:e.radioDialog,"server-options":e.serverOptions},on:{"update:visible":function(t){e.radioDialog=t},checkedId:e.handleCheckedId}})],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("b680"),a("d3b7"),a("e1f6")),s=a("bd39"),c=a("2b44"),u={components:{ServerDialog:o["default"]},data:function(){return{fogDotData:[],tableHeight:0,serverText:"",radioDialog:!1,serverOptions:[],serverUid:""}},created:function(){this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},handleCheckedId:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:"",this.radioDialog=!1},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.serverText){t.next=4;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=8;break;case 4:return t.next=6,Object(c["fogDot"])({serverUid:e.serverUid});case 6:a=t.sent,e.fogDotData=a.data.data.data;case 8:case"end":return t.stop()}}),t)})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-140:this.tableHeight=300},formatNumber:function(e){return e.toFixed(2)}}},d=u,p=(a("a50b"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"77707fd8",null);t["default"]=f.exports},e4f4:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-button",{attrs:{icon:"el-icon-refresh",type:"primary",size:"small"},on:{click:e.handleUpdate}},[e._v("从服务器更新流水事件")]),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.waterData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"事件ID"}}),a("el-table-column",{attrs:{prop:"name",label:"事件名"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("b6a2"),s={data:function(){return{waterData:[],total:0,currentPage:1,pageSize:200,tableHeight:0}},created:function(){this.getWaterEvent()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getWaterEvent:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["waterEvent"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.waterData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleUpdate:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["updateWaterEvent"])();case 2:a=t.sent,0===a.data.code?e.$message.success("更新成功"):e.$message.error("更新失败");case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.getWaterEvent()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=a("2877"),d=Object(u["a"])(c,r,n,!1,null,"f6747f14",null);t["default"]=d.exports},e784:function(e,t,a){"use strict";a("dcbc")},e8931:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.serverOpenData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[e._e(),a("el-table-column",{attrs:{prop:"serverId",label:"服务器ID","min-width":"120",fixed:""}}),a("el-table-column",{attrs:{prop:"name",label:"服务器名","min-width":"120"}}),a("el-table-column",{attrs:{label:"平台信息",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.platformName)+" ["+e._s(t.row.platformId)+"] ")]}}])}),a("el-table-column",{attrs:{prop:"running",label:"服务器是否运行中",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.running?"success":"info"}},[e._v(" "+e._s(t.row.running?"是":"否")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"openTime",label:"预设开服时间","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.openTime)))]}}])}),a("el-table-column",{attrs:{prop:"realOpenTime",label:"实际开服时间","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.realOpenTime)))]}}])}),a("el-table-column",{attrs:{prop:"sendOpenStatus",label:"开服时间是否发送成功","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:0===t.row.sendOpenStatus?"info":1===t.row.sendOpenStatus?"success":"danger"}},[e._v(" "+e._s(e.getOpen(t.row.sendOpenStatus))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"opening",label:"是否已经开服",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.opening?"success":"info"}},[e._v(" "+e._s(t.row.opening?"是":"否")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"externalIp",label:"外网IP","min-width":"120"}}),a("el-table-column",{attrs:{prop:"internalIp",label:"内网IP","min-width":"120"}}),a("el-table-column",{attrs:{prop:"httpPort",label:"http端口","min-width":"120"}}),a("el-table-column",{attrs:{prop:"tcpPort",label:"tcp/ws端口","min-width":"120"}}),a("el-table-column",{attrs:{prop:"dbIp",label:"数据库IP",width:"120"}}),a("el-table-column",{attrs:{prop:"dbPort",label:"数据库端口",width:"120"}}),a("el-table-column",{attrs:{prop:"dbUser",label:"数据库用户",width:"120"}}),a("el-table-column",{attrs:{prop:"dbPwd",label:"数据库密码",width:"160"}}),a("el-table-column",{attrs:{prop:"dbGameName",label:"游戏数据库名",width:"120"}}),a("el-table-column",{attrs:{prop:"dbLogName",label:"日志数据库名",width:"120"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:0===t.row.status?"danger":1===t.row.status?"success":2===t.row.status?"warning":null}},[e._v(" "+e._s(e.getStatus(t.row.status))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"recommend",label:"是否为推荐服务器",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.recommend?"success":"danger"}},[e._v(" "+e._s(t.row.recommend?"是":"否")+" ")])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-time",type:"primary",plain:"",size:"small"},on:{click:function(a){return e.setOpenBtn(t.row)}}},[e._v("预设开服时间")]),a("el-button",{attrs:{slot:"reference",icon:"el-icon-open",type:"success",plain:"",size:"small"},on:{click:function(a){return e.nowOpenBtn(t.row)}},slot:"reference"},[e._v("立即开服")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("el-dialog",{attrs:{title:"设置服务器预期开服时间",visible:e.dialogVisible,width:"35%","modal-append-to-body":!1,center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{attrs:{model:e.formData,"label-position":"right","label-width":"150px"}},[a("el-form-item",{attrs:{label:"数据唯一ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id",t)},expression:"formData.id"}})],1),a("el-form-item",{attrs:{label:"服务器ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.serverId,callback:function(t){e.$set(e.formData,"serverId",t)},expression:"formData.serverId"}})],1),a("el-form-item",{attrs:{label:"服务器名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"预设开服时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期时间","value-format":"timestamp"},model:{value:e.formData.openTime,callback:function(t){e.$set(e.formData,"openTime",t)},expression:"formData.openTime"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 认")]),a("el-button",{on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("b0c0"),a("2c1b")),s={0:"未发送",1:"成功",2:"失败"},c={0:"维护",1:"流畅",2:"爆满",3:"新服"},u={data:function(){return{serverOpenData:[],total:0,currentPage:1,pageSize:200,dialogVisible:!1,formData:{},tableHeight:0}},created:function(){this.getServerOpen()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServerOpen:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["serverOpen"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.serverOpenData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},setOpenBtn:function(e){this.formData=Object.assign({},e),this.dialogVisible=!0},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["setOpenTime"])({serverUid:e.formData.id,openTime:e.formData.openTime});case 2:a=t.sent,0===a.data.code&&e.$message.success("预设开服时间成功！"),e.getServerOpen(),e.closeDialog();case 6:case"end":return t.stop()}}),t)})))()},nowOpenBtn:function(e){var t=this;return Object(l["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("你确定要立即开启服务器 ".concat(e.name," 吗?"),"提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",lockScroll:!1}).then(Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["nowOpenServer"])({serverUid:e.id});case 2:r=a.sent,0===r.data.code&&t.$message.success("开服成功！"),t.getServerOpen();case 5:case"end":return a.stop()}}),a)}))));case 1:case"end":return a.stop()}}),a)})))()},closeDialog:function(){this.formData={},this.dialogVisible=!1},changePage:function(e){this.currentPage=e,this.getServerOpen()},getOpen:function(e){return s[e]},getStatus:function(e){return c[e]},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},d=u,p=(a("1d1d"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"59d2d1d3",null);t["default"]=f.exports},e98c:function(e,t,a){},e99d:function(e,t,a){"use strict";a("b854")},ea1a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.handleAdd}},[e._v("添加礼包码")]),a("div",[a("span",[e._v("礼包码：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入"},model:{value:e.code,callback:function(t){e.code="string"===typeof t?t.trim():t},expression:"code"}})],1),a("div",[a("span",[e._v("配置礼包：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",size:"small"},model:{value:e.configId,callback:function(t){e.configId=t},expression:"configId"}},e._l(e.configIdOpt,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("div",[a("span",[e._v("使用码的玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入"},model:{value:e.playerId,callback:function(t){e.playerId="string"===typeof t?t.trim():t},expression:"playerId"}})],1),a("div",[a("span",[e._v("使用码的玩家名称：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:"请输入"},model:{value:e.playerName,callback:function(t){e.playerName="string"===typeof t?t.trim():t},expression:"playerName"}})],1),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.giftCodeData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"记录ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"code",label:"礼包码","min-width":"120"}}),a("el-table-column",{attrs:{prop:"type",label:"礼包码类型","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1===t.row.type?"通码":"独享码")+" ")]}}])}),a("el-table-column",{attrs:{prop:"channelId",label:"所属渠道ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"configId",label:"配置礼包ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"configName",label:"配置礼包名称","min-width":"120"}}),a("el-table-column",{attrs:{prop:"userId",label:"创建的用户ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"userName",label:"创建的用户名称","min-width":"120"}}),a("el-table-column",{attrs:{prop:"playerId",label:"使用码的玩家ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"playerName",label:"使用码的玩家名称","min-width":"140"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"35%",center:"","modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{ref:"ruleForm",attrs:{model:e.formData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"礼包码类型"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",e._n(t))},expression:"formData.type"}},[a("el-option",{attrs:{value:1,label:"通码"}}),a("el-option",{attrs:{value:2,label:"独享码"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1===e.formData.type,expression:"formData.type===1?true:false"}],attrs:{label:"礼包码",prop:"code"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.code,callback:function(t){e.$set(e.formData,"code","string"===typeof t?t.trim():t)},expression:"formData.code"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2===e.formData.type,expression:"formData.type===2?true:false"}],attrs:{label:"数量",prop:"num",rules:[{type:"number",message:"数量必须为数字值",trigger:["blur","change"]}]}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.num,callback:function(t){e.$set(e.formData,"num",e._n(t))},expression:"formData.num"}})],1),a("el-form-item",{attrs:{label:"配置礼包ID"}},[a("el-select",{attrs:{clearable:"",filterable:"",size:"small"},model:{value:e.formData.configId,callback:function(t){e.$set(e.formData,"configId",t)},expression:"formData.configId"}},e._l(e.configIdOpt,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("b6a2"),s={data:function(){return{giftCodeData:[],total:0,currentPage:1,pageSize:200,tableHeight:0,dialogVisible:!1,dialogTitle:"",formData:{},code:"",configId:"",playerId:"",playerName:"",configIdOpt:[]}},created:function(){this.getGiftCode(),this.getCodeCfgOpt()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getGiftCode:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["giftCode"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.giftCodeData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleAdd:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dialogTitle="新增数据",t.next=3,e.getCodeCfgOpt();case 3:e.dialogVisible=!0;case 4:case"end":return t.stop()}}),t)})))()},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.ruleForm.validate(function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(a){var r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=8;break}return e.formData.num&&1===e.formData.type?delete e.formData.num:e.formData.code&&2===e.formData.type&&delete e.formData.code,t.next=4,Object(o["saveGiftCode"])(e.formData);case 4:r=t.sent,0===r.data.code&&e.$message.success(r.data.message),e.getGiftCode(),e.closeDialog();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},getCodeCfgOpt:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["codeCfgOpt"])();case 2:a=t.sent,e.configIdOpt=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},handleSearch:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={},e.code&&(a.code=e.code),e.configId&&(a.configId=e.configId),e.playerId&&(a.playerId=e.playerId),e.playerName&&(a.playerName=e.playerName),t.next=8,Object(o["giftCode"])(a);case 8:r=t.sent,e.giftCodeData=r.data.data.data,e.total=r.data.data.count,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},changePage:function(e){this.currentPage=e,this.getGiftCode()},closeDialog:function(){this.dialogVisible=!1,this.formData={},this.$refs.ruleForm.clearValidate()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("83ea"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"3bb3418a",null);t["default"]=d.exports},eb03:function(e,t,a){"use strict";a("d9a0")},ec19:function(e,t,a){},ec70:function(e,t,a){"use strict";a("b8cd")},f08c:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入玩家ID",size:"small"},model:{value:e.playerId,callback:function(t){e.playerId="string"===typeof t?t.trim():t},expression:"playerId"}})],1),a("div",[a("span",[e._v("玩家昵称：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入昵称",size:"small"},model:{value:e.name,callback:function(t){e.name="string"===typeof t?t.trim():t},expression:"name"}})],1),a("div",[a("span",[e._v("玩家账户：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入账号ID",size:"small"},model:{value:e.openId,callback:function(t){e.openId="string"===typeof t?t.trim():t},expression:"openId"}})],1),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.handleInquire}},[e._v("查询")]),a("el-button",{attrs:{icon:"el-icon-upload2",type:"success",size:"small"},on:{click:e.handleExport}},[e._v("导出Excel")])],1),a("div",[a("el-table",{ref:"table",attrs:{data:e.playerInfoData,border:"","header-cell-style":{background:"#f5f7fa"},height:e.tableHeight,"cell-style":{"text-align":"center"}}},[a("el-table-column",{attrs:{prop:"id",label:"序号","min-width":"120"}}),a("el-table-column",{attrs:{prop:"channelInfo",label:"渠道信息","min-width":"120"}}),a("el-table-column",{attrs:{prop:"playerId",label:"玩家ID","min-width":"160"}}),a("el-table-column",{attrs:{prop:"openId",label:"账户ID",width:"300"}}),a("el-table-column",{attrs:{prop:"serverInfo",label:"服务器信息","min-width":"120"}}),a("el-table-column",{attrs:{prop:"nick",label:"昵称","min-width":"120"}}),e._e(),e._e(),a("el-table-column",{attrs:{prop:"level",label:"等级","min-width":"120"}}),a("el-table-column",{attrs:{prop:"gold",label:"金币","min-width":"120"}}),a("el-table-column",{attrs:{prop:"diamond",label:"钻石","min-width":"120"}}),a("el-table-column",{attrs:{prop:"fighting",label:"战斗力","min-width":"120"}}),a("el-table-column",{attrs:{prop:"recharge",label:"累计充值（单位:元）","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.recharge/100)+" ")]}}])}),a("el-table-column",{attrs:{prop:"dailyOnline",label:"最后登录当天在线时长","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDuration")(t.row.dailyOnline)))]}}])}),a("el-table-column",{attrs:{prop:"lastLoginTime",label:"最后登录时间","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.lastLoginTime)))]}}])}),a("el-table-column",{attrs:{prop:"online",label:"是否在线","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.online?"success":"info"}},[e._v(" "+e._s(t.row.online?"在线":"离线")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"bornTime",label:"创号时间","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.bornTime)))]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"210"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.handleParticular(t.row.playerId)}}},[e._v("详情")]),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.handleKickout(t.row)}}},[e._v("踢出")]),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.handleBanned(t.row)}}},[e._v("封禁")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"medium"}},[a("el-link",{attrs:{type:"success",href:t.row.quickUrl,target:"_blank"}},[e._v("快速通道")])],1)]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("el-dialog",{attrs:{title:"详情信息",visible:e.dialogVisible,width:"70%","modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-tabs",{attrs:{type:"card"}},[a("el-tab-pane",{attrs:{label:"角色信息"}},[a("div",{staticClass:"role-content"},[a("div",{staticClass:"topTable",staticStyle:{"margin-top":"10px"}},[e._v("玩家账号信息")]),a("el-table",{attrs:{border:"",data:e.playerAccountData,"header-cell-style":{background:"#f5f7fa"},"cell-style":{"text-align":"center"}}},[a("el-table-column",{attrs:{prop:"id",label:"玩家ID","min-width":"160"}}),a("el-table-column",{attrs:{prop:"openId",label:"账户ID","min-width":"300"}}),a("el-table-column",{attrs:{prop:"serverId",label:"服务器ID","min-width":"100"}}),a("el-table-column",{attrs:{prop:"nick",label:"昵称","min-width":"100"}}),a("el-table-column",{attrs:{prop:"head",label:"头像","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.head?a("el-avatar",{attrs:{src:t.row.head,shape:"square",size:"medium"}}):a("el-avatar",{attrs:{shape:"square",src:e.defaultUrl,size:"medium"}})]}}])}),a("el-table-column",{attrs:{prop:"sex",label:"性别","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getSex(t.row.sex)))]}}])}),a("el-table-column",{attrs:{prop:"oldPlayer",label:"新/老用户","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.oldPlayer?"老":"新")+" ")]}}])}),a("el-table-column",{attrs:{prop:"level",label:"等级","min-width":"100"}}),a("el-table-column",{attrs:{prop:"exp",label:"经验","min-width":"120"}}),a("el-table-column",{attrs:{prop:"gold",label:"金币","min-width":"120"}}),a("el-table-column",{attrs:{prop:"diamond",label:"钻石","min-width":"120"}}),a("el-table-column",{attrs:{prop:"loginIp",label:"登录IP","min-width":"120"}}),a("el-table-column",{attrs:{prop:"loginDeviceId",label:"登录设备ID",width:"120"}}),a("el-table-column",{attrs:{prop:"loginDeviceType",label:"登录客户端类型","min-width":"120"}}),a("el-table-column",{attrs:{prop:"createIp",label:"创号IP","min-width":"120"}}),a("el-table-column",{attrs:{prop:"createDeviceType",label:"创号客户端类型","min-width":"120"}}),a("el-table-column",{attrs:{prop:"createDeviceId",label:"创号设备ID","min-width":"120"}}),a("el-table-column",{attrs:{prop:"loginVersion",label:"登录游戏版本号","min-width":"120"}}),a("el-table-column",{attrs:{prop:"changeNameNum",label:"修改名字的次数","min-width":"120"}}),a("el-table-column",{attrs:{prop:"hisMaxFighting",label:"历史最高战力","min-width":"120"}}),a("el-table-column",{attrs:{prop:"nowFighting",label:"当前战力","min-width":"120"}}),a("el-table-column",{attrs:{prop:"realTotalPay",label:"真实付费金额（单位:元）","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.realTotalPay/100)+" ")]}}])})],1),a("div",{staticClass:"topTable"},[e._v("在线情况")]),a("el-table",{attrs:{border:"",data:e.onlineData,"header-cell-style":{background:"#f5f7fa"},"cell-style":{"text-align":"center"}}},[a("el-table-column",{attrs:{prop:"online",label:"在线状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.online?"success":"info"}},[e._v(" "+e._s(t.row.online?"在线":"离线")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"dailyOnline",label:"今日在线时长",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDuration")(t.row.dailyOnline)))]}}])}),a("el-table-column",{attrs:{prop:"",label:"解除禁言时间",width:"200"}}),a("el-table-column",{attrs:{prop:"forbidEndTime",label:"解除封号时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.forbidEndTime)))]}}])}),a("el-table-column",{attrs:{prop:"lastLoginTime",label:"上次登录时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.lastLoginTime)))]}}])}),a("el-table-column",{attrs:{prop:"lastLogoutTime",label:"上次下线时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.lastLogoutTime)))]}}])}),a("el-table-column",{attrs:{prop:"createChannel",label:"注册渠道"}}),a("el-table-column",{attrs:{prop:"createDeviceType",label:"平台"}})],1)],1)]),a("el-tab-pane",{attrs:{label:"玩家背包"}},[a("div",{staticClass:"topTable",staticStyle:{"margin-top":"10px"}},[e._v("背包")]),a("el-table",{attrs:{border:"",data:e.bagData,"header-cell-style":{background:"#f5f7fa"},height:"400","cell-style":{"text-align":"center"},"default-sort":{prop:"itemId",order:"ascending"}}},[a("el-table-column",{attrs:{prop:"itemId",label:"道具ID",sortable:""}}),a("el-table-column",{attrs:{prop:"itemName",label:"道具名称"}}),a("el-table-column",{attrs:{prop:"haveNum",label:"道具数量"}})],1)],1),a("el-tab-pane",{attrs:{label:"伙伴信息"}},[a("div",{staticClass:"topTable",staticStyle:{"margin-top":"10px"}},[e._v("伙伴信息")]),a("el-table",{attrs:{border:"",data:e.friendData,"header-cell-style":{background:"#f5f7fa"},height:"400","cell-style":{"text-align":"center"},"default-sort":{prop:"quality",order:"ascending"}}},[a("el-table-column",{attrs:{prop:"id",label:"伙伴ID"}}),a("el-table-column",{attrs:{prop:"name",label:"伙伴名称"}}),a("el-table-column",{attrs:{prop:"quality",label:"伙伴品质",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{style:{color:1===t.row.quality?"red":2===t.row.quality?"green":3===t.row.quality?"blue":4===t.row.quality?"purple":"orange"}},[e._v(" "+e._s(t.row.quality)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"level",label:"伙伴等级"}}),a("el-table-column",{attrs:{prop:"num",label:"碎片数量"}}),a("el-table-column",{attrs:{prop:"fighting",label:"伙伴战力"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!1}}},[e._v("关闭")])],1)],1),a("el-dialog",{attrs:{title:"封禁玩家",visible:e.bannedDialog,width:"35%","modal-append-to-body":!1,center:""},on:{"update:visible":function(t){e.bannedDialog=t}}},[a("el-form",{attrs:{model:e.formData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"玩家ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.playerId,callback:function(t){e.$set(e.formData,"playerId","string"===typeof t?t.trim():t)},expression:"formData.playerId"}})],1),a("el-form-item",{attrs:{label:"玩家昵称"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.nick,callback:function(t){e.$set(e.formData,"nick","string"===typeof t?t.trim():t)},expression:"formData.nick"}})],1),a("el-form-item",{attrs:{label:"玩家账号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.openId,callback:function(t){e.$set(e.formData,"openId","string"===typeof t?t.trim():t)},expression:"formData.openId"}})],1),a("el-form-item",{attrs:{label:"封禁结束时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期时间","value-format":"timestamp"},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}})],1),a("div",{staticStyle:{color:"red","margin-left":"120px"}},[e._v("注意：选择当前时间即为解封")])],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 认")]),a("el-button",{on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("5530"),l=a("c7eb"),o=a("1da1"),s=(a("d81d"),a("b0c0"),a("b680"),a("dd6c")),c=a("a77f"),u={0:"无性别",1:"男",2:"女"},d={data:function(){return{playerId:"",name:"",openId:"",total:0,currentPage:1,pageSize:200,tableHeight:0,dialogVisible:!1,bannedDialog:!1,playerInfoData:[],playerAccountData:[],friendData:[],onlineData:[],bagData:[],data:"",formData:{},defaultUrl:"https://cube.elemecdn.com/9/c2/f0ee8a3c7c9638a54940382568c9dpng.png"}},created:function(){if(this.getPlayerInfo(),this.$route.query.detailId){var e=this.$route.query.detailId;this.handleParticular(e)}},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getPlayerInfo:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["playerInfo"])({page:e.currentPage,limit:e.pageSize,playerId:0,name:e.name,openId:e.openId});case 2:a=t.sent,e.total=a.data.data.count,e.playerInfoData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleInquire:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){var a,r;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.playerId&&(a.playerId=e.playerId),e.name&&(a.name=e.name),e.openId&&(a.openId=e.openId),t.next=7,Object(s["playerInfo"])(a);case 7:r=t.sent,e.total=r.data.data.count,e.playerInfoData=r.data.data.data,0===r.data.data.count&&(a.playerId?e.message.warning("此ID不存在"):a.name?e.message.warning("此昵称不存在"):a.openId&&e.$message.warning("此账号不存在")),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()},changePage:function(e){this.currentPage=e,this.getPlayerInfo()},getSex:function(e){return u[e]},handleParticular:function(e){var t=this;return Object(o["a"])(Object(l["a"])().mark((function a(){var r,n,i,o;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(s["playerDetail"])({playerId:e});case 2:return r=a.sent,t.playerAccountData=r.data.data.data,a.next=6,Object(s["playerHero"])({playerId:e});case 6:return n=a.sent,t.friendData=n.data.data.data,a.next=10,Object(s["onlineSituation"])({playerId:e});case 10:return i=a.sent,t.onlineData=i.data.data.data,a.next=14,Object(s["playerBag"])({playerId:e});case 14:o=a.sent,t.bagData=o.data.data.data,t.dialogVisible=!0;case 17:case"end":return a.stop()}}),a)})))()},handleKickout:function(e){var t=this;return Object(o["a"])(Object(l["a"])().mark((function a(){return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("确定踢出昵称为 ".concat(e.nick," 的玩家吗？"),"踢出提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",lockScroll:!1}).then(Object(o["a"])(Object(l["a"])().mark((function a(){var r;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(s["KickoutPlayer"])({playerId:e.playerId});case 2:r=a.sent,0===r.data.code?t.$message.success("成功踢出该玩家"):t.$message.error("踢出该玩家失败");case 4:case"end":return a.stop()}}),a)}))));case 1:case"end":return a.stop()}}),a)})))()},handleBanned:function(e){var t=this;return Object(o["a"])(Object(l["a"])().mark((function a(){return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.formData.playerId=e.playerId,t.formData.openId=e.openId,t.formData.nick=e.nick,t.bannedDialog=!0;case 4:case"end":return a.stop()}}),a)})))()},handleConfirm:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["blockPlayer"])({playerId:e.formData.playerId,forbidEndTime:e.data});case 2:a=t.sent,0===a.data.code?e.$message.success("成功封禁该玩家账号"):e.$message.error("封禁该玩家账号失败"),e.closeDialog();case 5:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.dialogVisible=!1,this.bannedDialog=!1,this.formData={},this.data=""},handleExport:function(){var e=this;return Object(o["a"])(Object(l["a"])().mark((function t(){var a,r,n,o;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s["playerInfo"])({limit:e.total});case 3:a=t.sent,r=a.data.data.data.map((function(t){var a=e.formatNumber(t.recharge/100),r=e.$options.filters.formatDuration(t.dailyOnline),n=e.$options.filters.formatTime(t.lastLoginTime),l=e.$options.filters.formatTime(t.bornTime),o=t.online?"在线":"离线";return Object(i["a"])(Object(i["a"])({},t),{},{recharge:a,dailyOnline:r,lastLoginTime:n,bornTime:l,online:o})})),n=r.map((function(e){var t=[],a={id:"序号",channelInfo:"渠道信息",playerId:"玩家ID",openId:"账户ID",serverInfo:"服务器信息",nick:"昵称",level:"等级",gold:"金币",diamond:"钻石",fighting:"战斗力",recharge:"累计充值（单位:元）",dailyOnline:"最后登录当天在线时长",lastLoginTime:"最后登录时间",online:"是否在线",bornTime:"创号时间"};for(var r in a)t.push(e[r]);return t})),o=["序号","渠道信息","玩家ID","账户ID","服务器信息","昵称","等级","金币","钻石","战斗力","累计充值（单位:元）","最后登录当天在线时长","最后登录时间","是否在线","创号时间"],Object(c["export_json_to_excel"])({header:o,data:n,filename:"玩家信息管理表".concat(e.$moment(new Date).format("YYYYMMDDHHmm")),autoWidth:!0,bookType:"xlsx"}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.$message.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-175:this.tableHeight=300},formatNumber:function(e){return e.toFixed(2)}}},p=d,f=(a("0a3c6"),a("2877")),b=Object(f["a"])(p,r,n,!1,null,"0bc9fbca",null);t["default"]=b.exports},f0b9:function(e,t,a){"use strict";a("61e2")},f2d2:function(e,t,a){},f2db:function(e,t,a){"use strict";a("7363")},f5fa:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-button",{attrs:{icon:"el-icon-refresh",type:"primary",size:"small"},on:{click:e.handleUpdate}},[e._v("更新游戏充值商品配置数据")]),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.productData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"商品ID"}}),a("el-table-column",{attrs:{prop:"name",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"money",label:"商品价值（单位：元）"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.money/100)+" ")]}}])}),a("el-table-column",{attrs:{prop:"describe",label:"商品描述"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("b6a2"),s={data:function(){return{productData:[],total:0,currentPage:1,pageSize:200,tableHeight:0}},created:function(){this.getProductConfig()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getProductConfig:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["rechargeProductCfg"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.productData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleUpdate:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["updateRechargeProductCfg"])();case 2:a=t.sent,0===a.data.code?e.$message.success("更新成功"):e.$message.error("更新失败");case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.getProductConfig()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=a("2877"),d=Object(u["a"])(c,r,n,!1,null,"5fc6b779",null);t["default"]=d.exports},f643:function(e,t,a){},f8bf:function(e,t,a){"use strict";a("2350")},f958:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"选择服务器",visible:e.visible,width:"48%","modal-append-to-body":!1,center:""},on:{close:e.handleCloseDialog},scopedSlots:e._u([{key:"footer",fn:function(){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleConfirm}},[e._v("确 认")]),a("el-button",{attrs:{size:"small"},on:{click:e.handleCloseDialog}},[e._v("取 消")])]},proxy:!0}])},[a("el-button-group",[a("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:e.handleSelectAll}},[e._v("全选")]),a("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:e.handleDeselectAll}},[e._v("全不选")])],1),a("div",{staticStyle:{margin:"30px 0"}}),a("el-checkbox-group",{on:{change:e.handleCheckedId},model:{value:e.checkedServer,callback:function(t){e.checkedServer=t},expression:"checkedServer"}},e._l(e.serverOptions,(function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value,vlaue:t.value}},[e._v(e._s(t.text))])})),1)],1)],1)},n=[],i=(a("d81d"),{props:{visible:Boolean,serverOptions:{type:Array,default:function(){return[]}}},data:function(){return{checkedServer:[]}},methods:{handleSelectAll:function(){this.checkedServer=this.serverOptions.map((function(e){return e.value}))},handleDeselectAll:function(){this.checkedServer=[]},handleCheckedId:function(e){this.checkedServer=e},handleConfirm:function(){this.$emit("checkedId",this.checkedServer)},handleCloseDialog:function(){this.$emit("update:visible",!1)}}}),l=i,o=a("2877"),s=Object(o["a"])(l,r,n,!1,null,null,null);t["default"]=s.exports},f9b8:function(e,t,a){},fad5:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.userCnData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID"}}),a("el-table-column",{attrs:{prop:"name",label:"用户名"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号码"}}),a("el-table-column",{attrs:{prop:"mailAddress",label:"邮箱地址"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-unlock",plain:""},on:{click:function(a){return e.handleMandate(t.row)}}},[e._v("渠道授权")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-table",{ref:"powerTableRef",staticStyle:{width:"100%"},attrs:{border:"",data:e.powerData,height:"400"},on:{"selection-change":e.selectionPower}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"渠道ID"}}),a("el-table-column",{attrs:{prop:"name",label:"渠道名称"}})],1),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handlePowerConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("99af"),a("4de4"),a("d81d"),a("b0c0"),a("d3b7"),a("159b"),a("2c1b")),s={data:function(){return{userCnData:[],total:0,currentPage:1,pageSize:200,tableHeight:0,userName:"",dialogVisible:!1,dialogTitle:"",powerData:[],userId:"",selectPermis:[]}},created:function(){this.getUserChannel()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getUserChannel:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["userChannel"])({page:e.currentPage,limit:e.pageSize});case 2:a=t.sent,e.total=a.data.data.count,e.userCnData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},handleMandate:function(e){var t=this;return Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.userId=e.id,t.dialogTitle="正在编辑渠道权限：".concat(e.id," - ").concat(e.name),a.next=4,Object(o["accreditOptions"])({userId:e.id});case 4:r=a.sent,t.powerData=r.data.data.data,t.$nextTick((function(){t.powerData.filter((function(e){return e.has})).forEach((function(e){t.$refs.powerTableRef.toggleRowSelection(e,!0)}))})),t.dialogVisible=!0;case 8:case"end":return a.stop()}}),a)})))()},selectionPower:function(e){this.selectPermis=e.map((function(e){return e.id}))},handlePowerConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["editUserChannel"])({userId:e.userId,channel:e.selectPermis});case 2:a=t.sent,e.powerData=a.data.data.data,e.dialogVisible=!1;case 5:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.getUserChannel()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},c=s,u=(a("c4f9"),a("2877")),d=Object(u["a"])(c,r,n,!1,null,"96e4da6a",null);t["default"]=d.exports},fbed:function(e,t,a){"use strict";a.r(t),a.d(t,"functionMenu",(function(){return n})),a.d(t,"systemMenu",(function(){return i})),a.d(t,"moduleMenu",(function(){return l})),a.d(t,"updateFunctionMenu",(function(){return o})),a.d(t,"updateSystemMenu",(function(){return s})),a.d(t,"updateModuleMenu",(function(){return c}));var r=a("b775");function n(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/functionmenu/data.auth",method:"post",data:t})}function i(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/systemmenu/data.auth",method:"post",data:t})}function l(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/modulemenu/data.auth",method:"post",data:t})}function o(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/functionmenu/update.authw",method:"post",data:t})}function s(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/systemmenu/update.authw",method:"post",data:t})}function c(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return Object(r["default"])({url:"/modulemenu/update.authw",method:"post",data:t})}},fc11:function(e,t,a){},fcd0:function(e,t,a){"use strict";a("0015")},fdae:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"inquire"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.handleAdd}},[e._v("添加客户端版本")]),a("div",[a("span",[e._v("渠道：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{size:"small",clearable:""},model:{value:e.channelId,callback:function(t){e.channelId=t},expression:"channelId"}},e._l(e.channelOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small",plain:""},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.clientVersionData,"header-cell-style":{background:"#f5f7fa"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"数据ID","min-width":"120"}}),a("el-table-column",{attrs:{label:"渠道信息","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.channelName)+" ["+e._s(t.row.channelId)+"] ")]}}])}),a("el-table-column",{attrs:{prop:"serverType",label:"服务器类型","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-tag",{attrs:{type:1===r.serverType?"warning":2===r.serverType?"danger":"success"}},[e._v(" "+e._s(1===r.serverType?"测试":2===r.serverType?"审核":"正式")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"versionCode",label:"版本编号","min-width":"140"}}),a("el-table-column",{attrs:{prop:"resourceVersion",label:"客户端资源版本号","min-width":"150"}}),a("el-table-column",{attrs:{prop:"pcResourceVersion",label:"PC客户端资源版本号","min-width":"170"}}),a("el-table-column",{attrs:{prop:"remoteUrl",label:"远程地址","min-width":"300"}}),a("el-table-column",{attrs:{prop:"quickUrl",label:"快速通道地址","min-width":"300"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"200"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"",size:"small",icon:"el-icon-edit-outline"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",plain:"",size:"small",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"40%","modal-append-to-body":!1,center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{ref:"ruleForm",attrs:{model:e.formData,"label-position":"right","label-width":"150px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{label:"数据ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id",t)},expression:"formData.id"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isHide,expression:"isHide"}],attrs:{label:"渠道",prop:"channelId",rules:[{required:!0,message:"请选择渠道",trigger:"change"}]}},[a("el-select",{attrs:{placeholder:"请选择渠道",filterable:"",clearable:""},model:{value:e.formData.channelId,callback:function(t){e.$set(e.formData,"channelId",t)},expression:"formData.channelId"}},e._l(e.channelOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"渠道ID"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.channelId,callback:function(t){e.$set(e.formData,"channelId",t)},expression:"formData.channelId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"渠道名字","label-width":"120px"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.channelName,callback:function(t){e.$set(e.formData,"channelName",t)},expression:"formData.channelName"}})],1)],1)],1),a("el-form-item",{attrs:{label:"版本编号",prop:"versionCode",rules:[{required:!0,message:"版本编号不能为空"},{type:"number",message:"版本编号必须为数字值"}]}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.versionCode,callback:function(t){e.$set(e.formData,"versionCode",e._n(t))},expression:"formData.versionCode"}})],1),a("el-form-item",{attrs:{label:"服务器类型",prop:"serverType",rules:[{required:!0,message:"请选择服务器类型",trigger:"change"}]}},[a("el-select",{attrs:{clearable:""},model:{value:e.formData.serverType,callback:function(t){e.$set(e.formData,"serverType",t)},expression:"formData.serverType"}},[a("el-option",{attrs:{value:1,label:"测试"}}),a("el-option",{attrs:{value:2,label:"审核"}}),a("el-option",{attrs:{value:3,label:"正式"}})],1)],1),a("el-form-item",{attrs:{label:"客户端资源版本号"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.resourceVersion,callback:function(t){e.$set(e.formData,"resourceVersion",t)},expression:"formData.resourceVersion"}})],1),a("el-form-item",{attrs:{label:"PC客户端资源版本号"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.pcResourceVersion,callback:function(t){e.$set(e.formData,"pcResourceVersion",t)},expression:"formData.pcResourceVersion"}})],1),a("el-form-item",{attrs:{label:"远程地址"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.remoteUrl,callback:function(t){e.$set(e.formData,"remoteUrl",t)},expression:"formData.remoteUrl"}})],1),a("el-form-item",{attrs:{label:"快速通道地址"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.quickUrl,callback:function(t){e.$set(e.formData,"quickUrl",t)},expression:"formData.quickUrl"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 认")]),a("el-button",{on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},n=[],i=a("c7eb"),l=a("1da1"),o=a("2c1b"),s=a("3b7a"),c={data:function(){return{clientVersionData:[],total:0,currentPage:1,pageSize:200,tableHeight:0,channelId:"",channelOptions:[],formData:{},dialogTitle:"",dialogVisible:!1,isShow:!1,isHide:!1}},created:function(){this.getChannel(),this.getClientVersion()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getClientVersion:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["clientVersion"])({page:e.currentPage,limit:e.pageSize,channelId:0});case 2:a=t.sent,e.total=a.data.data.count,e.clientVersionData=a.data.data.data;case 5:case"end":return t.stop()}}),t)})))()},getChannel:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["channelOpt"])();case 2:a=t.sent,e.channelOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={page:e.currentPage,limit:e.pageSize},e.channelId){t.next=5;break}e.$message.error("请选择渠道，渠道为必选项"),t.next=11;break;case 5:return a.channelId=e.channelId,t.next=8,Object(o["clientVersion"])(a);case 8:r=t.sent,e.total=r.data.data.count,e.clientVersionData=r.data.data.data;case 11:case"end":return t.stop()}}),t)})))()},handleAdd:function(){var e=this;this.dialogTitle="添加数据",this.dialogVisible=!0,this.$nextTick((function(){e.$refs.ruleForm.clearValidate()})),this.formData.id=0,this.isShow=!1,this.isHide=!0},handleEdit:function(e){this.dialogTitle="编辑数据",this.formData=Object.assign({},e),this.dialogVisible=!0,this.isShow=!0,this.isHide=!1},handleConfirm:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.ruleForm.validate(function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(a){var r,n,l;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=16;break}if(0===e.formData.id){t.next=9;break}return r=Object.assign({},e.formData),t.next=5,Object(o["savaClientVersion"])(r);case 5:n=t.sent,0===n.data.code&&e.$message.success(n.data.message),t.next=13;break;case 9:return t.next=11,Object(o["savaClientVersion"])(e.formData);case 11:l=t.sent,0===l.data.code&&e.$message.success(l.data.message);case 13:e.channelId=e.formData.channelId,e.handleInquire(),e.closeDialog();case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},handleDelete:function(e){var t=this;this.$confirm("你确定要删除这条数据吗?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",lockScroll:!1}).then(Object(l["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["delClientVersion"])({id:e.id});case 2:r=a.sent,0===r.data.code&&t.$message.success(r.data.message),t.channelId=e.channelId,t.handleInquire();case 6:case"end":return a.stop()}}),a)}))))},closeDialog:function(){this.formData={},this.dialogVisible=!1,this.$refs.ruleForm.clearValidate()},changePage:function(e){this.currentPage=e,this.handleInquire()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300}}},u=c,d=(a("a74b"),a("2877")),p=Object(d["a"])(u,r,n,!1,null,"35c79db7",null);t["default"]=p.exports},ff72:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"topInquire"},[a("div",[a("span",[e._v("日期查询：")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","picker-options":e.pickerOptions,"value-format":"timestamp",size:"small"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("div",[a("span",[e._v("服务器：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:"",placeholder:"请选择"},model:{value:e.serverText,callback:function(t){e.serverText=t},expression:"serverText"}}),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("选择服务器")])],1),a("div",[a("span",[e._v("玩家ID：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入",size:"small"},model:{value:e.playerId,callback:function(t){e.playerId=e._n(t)},expression:"playerId"}})],1),a("div",[a("span",[e._v("流水事件类型：")]),a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",size:"small"},model:{value:e.waterEvent,callback:function(t){e.waterEvent=t},expression:"waterEvent"}},e._l(e.waterOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.handleInquire}},[e._v("查询")])],1),a("div",[a("el-table",{ref:"table",attrs:{border:"",data:e.playerExpData,"header-cell-style":e.rowClass,"cell-style":{"text-align":"center"},height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"日志ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerId",label:"玩家ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"ownerName",label:"玩家名字","min-width":"150"}}),a("el-table-column",{attrs:{prop:"oldLevel",label:"原等级","min-width":"150"}}),a("el-table-column",{attrs:{prop:"currLevel",label:"当前等级","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingId",label:"物品标识","min-width":"150"}}),a("el-table-column",{attrs:{prop:"thingName",label:"物品名称","min-width":"200"}}),a("el-table-column",{attrs:{prop:"delta",label:"变化量","min-width":"150"}}),a("el-table-column",{attrs:{prop:"curr",label:"变化后的当前量","min-width":"150"}}),a("el-table-column",{attrs:{label:"游戏事件"}},[a("el-table-column",{attrs:{prop:"gameCause","min-width":"150"}}),a("el-table-column",{attrs:{prop:"gameCauseText","min-width":"250"}})],1),a("el-table-column",{attrs:{prop:"time",label:"发生时间","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatTime")(t.row.time)))]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注信息","min-width":"200"}})],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"current-page":e.currentPage,"page-size":e.pageSize},on:{"current-change":e.changePage}})],1)]),a("ServerDialog",{attrs:{visible:e.dialogVisible,"server-options":e.serverOptions},on:{"update:visible":function(t){e.dialogVisible=t},checkedId:e.getCheckedServer}})],1)},n=[],i=a("c7eb"),l=a("1da1"),o=(a("7db0"),a("4e82"),a("d3b7"),a("e1f6")),s=a("5611"),c=a("bd39"),u=a("b6a2"),d={components:{ServerDialog:o["default"]},data:function(){return{total:0,playerExpData:[],currentPage:1,pageSize:200,tableHeight:0,playerId:"",date:[(new Date).setDate(1),new Date],pickerOptions:{disabledDate:function(e){var t=(new Date).getMonth(),a=(new Date).getFullYear();return e.getMonth()!==t||e.getFullYear()!==a}},serverUid:"",serverOptions:[],dialogVisible:!1,serverText:"",waterEvent:"",waterOptions:[]}},created:function(){this.getWater(),this.getServer()},mounted:function(){var e=this;this.$nextTick((function(){e.getTableHeight()})),window.addEventListener("resize",this.$debounce(this.getTableHeight,100))},beforeDestroy:function(){window.removeEventListener("resize",this.getTableHeight)},methods:{getServer:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["multiServer"])();case 2:a=t.sent,e.serverOptions=a.data.data.options.sort((function(e,t){return e.value-t.value}));case 4:case"end":return t.stop()}}),t)})))()},getCheckedServer:function(e){var t=this;this.serverUid=e;var a=this.serverOptions.find((function(e){return e.value===t.serverUid}));this.serverText=a?a.text:""},getWater:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["waterEventOpt"])();case 2:a=t.sent,e.waterOptions=a.data.data.options;case 4:case"end":return t.stop()}}),t)})))()},changePage:function(e){this.currentPage=e,this.handleInquire()},handleInquire:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a={page:e.currentPage,limit:e.pageSize},e.date&&2===e.date.length&&(a.startTime=e.$moment(e.date[0]).unix(),a.endTime=e.$moment(e.date[1]).unix()),e.playerId&&(a.playerId=e.playerId),e.waterEvent&&(a.cause=e.waterEvent),e.serverText){t.next=9;break}e.$message.error("请选择服务器，服务器为必选项"),t.next=15;break;case 9:return a.serverUid=e.serverUid,t.next=12,Object(s["playerExpLogs"])(a);case 12:r=t.sent,e.total=r.data.data.count,e.playerExpData=r.data.data.data;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error(t.t0),e.$message.error("发生错误，请稍后重试");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},getTableHeight:function(){this.$refs.table&&this.$refs.table.$el?this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-170:this.tableHeight=300},rowClass:function(e){var t=e.rowIndex;if(1===t)return{display:"none"}}}},p=d,f=(a("1d76"),a("2877")),b=Object(f["a"])(p,r,n,!1,null,"548f5161",null);t["default"]=b.exports}}]);